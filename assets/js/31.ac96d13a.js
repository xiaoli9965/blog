(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{462:function(_,r,v){"use strict";v.r(r);var a=v(34),e=Object(a.a)({},(function(){var _=this,r=_.$createElement,v=_._self._c||r;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h2",{attrs:{id:"_1-mq-çš„ä½¿ç”¨åœºæ™¯-è¯´è¯´-mq-è§£å†³äº†ä½ ä»¬ç³»ç»Ÿä¸­çš„å“ªäº›é—®é¢˜"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-mq-çš„ä½¿ç”¨åœºæ™¯-è¯´è¯´-mq-è§£å†³äº†ä½ ä»¬ç³»ç»Ÿä¸­çš„å“ªäº›é—®é¢˜"}},[_._v("#")]),_._v(" 1. MQ çš„ä½¿ç”¨åœºæ™¯? è¯´è¯´ MQ è§£å†³äº†ä½ ä»¬ç³»ç»Ÿä¸­çš„å“ªäº›é—®é¢˜")]),_._v(" "),v("ul",[v("li",[_._v("ç³»ç»Ÿè§£è€¦")]),_._v(" "),v("li",[_._v("å¼‚æ­¥è°ƒç”¨")]),_._v(" "),v("li",[_._v("åˆ†å¸ƒå¼äº‹åŠ¡")]),_._v(" "),v("li",[_._v("æµé‡å‰Šå³°")])]),_._v(" "),v("h2",{attrs:{id:"_2-å¦‚ä½•é€‰æ‹©å¸‚åœºä¸Šçš„å„å„-mq"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¦‚ä½•é€‰æ‹©å¸‚åœºä¸Šçš„å„å„-mq"}},[_._v("#")]),_._v(" 2. å¦‚ä½•é€‰æ‹©å¸‚åœºä¸Šçš„å„å„ MQ")]),_._v(" "),v("p",[v("strong",[_._v("è€ƒè™‘å±‚é¢:")])]),_._v(" "),v("ul",[v("li",[_._v("1.ä½¿ç”¨å’Œç®¡ç†è§’åº¦\n"),v("ul",[v("li",[_._v("ä½¿ç”¨æ˜¯å¦ç®€å•,èƒ½ä¸èƒ½æ— ç¼é›†æˆ Spring")]),_._v(" "),v("li",[_._v("æœ‰æ²¡æœ‰æä¾›èµ„æºç®¡ç†å’Œå®‰å…¨ç®¡ç†")])])]),_._v(" "),v("li",[_._v("2.æ€§èƒ½\n"),v("ul",[v("li",[_._v("æ”¯æŒå¤šå¤§å¹¶å‘")]),_._v(" "),v("li",[_._v("æ”¯æŒå¤šå¤§ååé‡")]),_._v(" "),v("li",[_._v("æ”¯æŒå¤šå¤§æ¶ˆæ¯å †ç§¯")])])]),_._v(" "),v("li",[_._v("3.åŠŸèƒ½ç‰¹æ€§\n"),v("ul",[v("li",[_._v("æ˜¯å¦æ”¯æŒäº‹åŠ¡")]),_._v(" "),v("li",[_._v("æ˜¯å¦æ”¯æŒæ¶ˆæ¯é¡ºåº")]),_._v(" "),v("li",[_._v("æ˜¯å¦æ”¯æŒå»¶æ—¶æ¶ˆæ¯")]),_._v(" "),v("li",[_._v("æ˜¯å¦æ”¯æŒæ¶ˆæ¯é‡å‘")]),_._v(" "),v("li",[_._v("ç­‰ç­‰...")])])]),_._v(" "),v("li",[_._v("4.å¯é æ€§,å¯ç”¨æ€§\n"),v("ul",[v("li",[_._v("æ˜¯å¦æ”¯æŒé›†ç¾¤")]),_._v(" "),v("li",[_._v("æ˜¯å¦æ”¯æŒæŒä¹…åŒ–")]),_._v(" "),v("li",[_._v("æ˜¯å¦æ”¯æŒå¯é æŠ•é€’")])])])]),_._v(" "),v("h2",{attrs:{id:"_3-rabbitmq"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-rabbitmq"}},[_._v("#")]),_._v(" 3. RabbitMQ")]),_._v(" "),v("h3",{attrs:{id:"_3-1-rabbitmq-çš„-channel-å’Œ-vhost-çš„ä½œç”¨æ˜¯ä»€ä¹ˆ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-rabbitmq-çš„-channel-å’Œ-vhost-çš„ä½œç”¨æ˜¯ä»€ä¹ˆ"}},[_._v("#")]),_._v(" 3.1. RabbitMQ çš„ Channel å’Œ VHost çš„ä½œç”¨æ˜¯ä»€ä¹ˆ")]),_._v(" "),v("ul",[v("li",[_._v("Channel ä¸ºäº†å‡å°‘ TCP çš„è¿æ¥èµ„æº\n"),v("ul",[v("li",[_._v("ä¸€ä¸ª"),v("code",[_._v("Connetionè¿æ¥(TCPé•¿è¿æ¥)")]),_._v("ä¸­å¯ä»¥æœ‰ N ä¸ª channel")]),_._v(" "),v("li",[_._v("æ¯ä¸€ä¸ªçº¿ç¨‹ä¼šå¼€å¯ä¸€ä¸ª channel")])])]),_._v(" "),v("li",[_._v("VHost ä¸ºäº†æå‡ç¡¬ä»¶"),v("code",[_._v("èµ„æºçš„åˆ©ç”¨ç‡")]),_._v("å’Œ"),v("code",[_._v("èµ„æºéš”ç¦»")]),_._v(" "),v("ul",[v("li",[_._v("æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª mini ç‰ˆçš„ RabbitMQ æœåŠ¡å™¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„é˜Ÿåˆ—ã€ç»‘å®šã€äº¤æ¢å™¨å’Œæƒé™æ§åˆ¶")]),_._v(" "),v("li",[_._v("å„ä¸ªå®ä¾‹é—´æä¾›é€»è¾‘ä¸Šåˆ†ç¦»ï¼Œå…è®¸ä½ ä¸ºä¸åŒåº”ç”¨ç¨‹åºå®‰å…¨ä¿å¯†åœ°è¿è¡Œæ•°æ®")])])])]),_._v(" "),v("h3",{attrs:{id:"_3-2-rabbitmq-çš„æ¶ˆæ¯æœ‰é‚£äº›è·¯ç”±æ–¹å¼-æ—¶å€™ä»€ä¹ˆåœºæ™¯ä½¿ç”¨"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-rabbitmq-çš„æ¶ˆæ¯æœ‰é‚£äº›è·¯ç”±æ–¹å¼-æ—¶å€™ä»€ä¹ˆåœºæ™¯ä½¿ç”¨"}},[_._v("#")]),_._v(" 3.2. RabbitMQ çš„æ¶ˆæ¯æœ‰é‚£äº›è·¯ç”±æ–¹å¼?æ—¶å€™ä»€ä¹ˆåœºæ™¯ä½¿ç”¨")]),_._v(" "),v("ul",[v("li",[_._v("ğŸ’¥"),v("strong",[_._v("fanout:")]),_._v(" (é€Ÿåº¦æœ€å¿«)å¹¿æ’­ç±»å‹,å°†æ¶ˆæ¯å‘é€åˆ°æ‰€æœ‰ç»‘å®šå…³ç³»çš„é˜Ÿåˆ—ä¸­")]),_._v(" "),v("li",[_._v("ğŸ’¥"),v("strong",[_._v("direct:")]),_._v(" ç›´è¿,"),v("code",[_._v("ä¸€å¯¹ä¸€")]),_._v(" å°†æ¶ˆæ¯åˆ†å‘åˆ° BingdingKey å’Œ RoutingKey å®Œå…¨åŒ¹é…çš„é˜Ÿåˆ—ä¸­")]),_._v(" "),v("li",[_._v("ğŸ’¥"),v("strong",[_._v("Topic:")]),_._v(" é€šé…ç¬¦ "),v("code",[_._v("ä¸€å¯¹å¤š")]),_._v(" é€šè¿‡åŒ¹é… RoutingKey å°†æ¶ˆæ¯åˆ†å‘ç»™ç›¸åº”é˜Ÿåˆ—")]),_._v(" "),v("li",[v("strong",[_._v("headers:")]),_._v(" (ä¸ç”¨,æ€§èƒ½å·®,ä¸å®ç”¨)ä¸ä¾èµ–è·¯ç”±é”®,é€šè¿‡æ¶ˆæ¯å¤´è¿›è¡ŒåŒ¹é…")])]),_._v(" "),v("h3",{attrs:{id:"_3-3-rabbitmq-çš„äº¤æ¢æœºä¸é˜Ÿåˆ—-é˜Ÿåˆ—ä¸æ¶ˆè´¹è€…çš„ç»‘å®šå…³ç³»æ˜¯ä»€ä¹ˆ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-rabbitmq-çš„äº¤æ¢æœºä¸é˜Ÿåˆ—-é˜Ÿåˆ—ä¸æ¶ˆè´¹è€…çš„ç»‘å®šå…³ç³»æ˜¯ä»€ä¹ˆ"}},[_._v("#")]),_._v(" 3.3. RabbitMQ çš„äº¤æ¢æœºä¸é˜Ÿåˆ—,é˜Ÿåˆ—ä¸æ¶ˆè´¹è€…çš„ç»‘å®šå…³ç³»æ˜¯ä»€ä¹ˆ")]),_._v(" "),v("p",[_._v("å¤šå¯¹å¤šçš„å…³ç³»,"),v("br"),_._v("\nä¸€ä¸ªäº¤æ¢æœºå¯ä»¥è·¯ç”±åˆ°å¤šä¸ªé˜Ÿåˆ—\né˜Ÿåˆ—è·Ÿæ¶ˆè´¹è€…æ˜¯ä¸€å¯¹å¤š("),v("code",[_._v("è½®è¯¢å‘é€æ¶ˆæ¯,æ¯æ¬¡æ¶ˆè´¹ä¸ªæ•°é€šè¿‡prefetch countæŒ‡å®š")]),_._v("),\né˜Ÿåˆ—é‡Œé¢çš„ä¸€æ¡æ¶ˆæ¯æ˜¯ä¸€å®šåªèƒ½å‘é€ç»™ä¸€ä¸ªæ¶ˆè´¹è€…æ‰€æ¶ˆè´¹")]),_._v(" "),v("h3",{attrs:{id:"_3-4-rabbitmq-ä¸èƒ½è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-rabbitmq-ä¸èƒ½è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ"}},[_._v("#")]),_._v(" 3.4. RabbitMQ ä¸èƒ½è¢«è·¯ç”±çš„æ¶ˆæ¯å»äº†å“ªé‡Œ")]),_._v(" "),v("p",[_._v("æ¯”å¦‚è·¯ç”±é”®é”™è¯¯,é˜Ÿåˆ—ä¸å­˜åœ¨:")]),_._v(" "),v("ul",[v("li",[_._v("å¦‚æœæ²¡æœ‰åšä»»ä½•çš„é…ç½®çš„è¯: ç›´æ¥ä¸¢å¼ƒæ¶ˆæ¯")]),_._v(" "),v("li",[_._v("é€šè¿‡å›å‘,å¤‡ä»½äº¤æ¢çš„æ–¹å¼è®°å½•")])]),_._v(" "),v("h3",{attrs:{id:"_3-5-rabbitmq-æ¶ˆæ¯åˆ°ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆ-dead-letter-æ­»ä¿¡é˜Ÿåˆ—"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-rabbitmq-æ¶ˆæ¯åˆ°ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆ-dead-letter-æ­»ä¿¡é˜Ÿåˆ—"}},[_._v("#")]),_._v(" 3.5. RabbitMQ æ¶ˆæ¯åˆ°ä»€ä¹ˆæ—¶å€™ä¼šå˜æˆ Dead Letter(æ­»ä¿¡é˜Ÿåˆ—)")]),_._v(" "),v("ul",[v("li",[_._v("æ¶ˆæ¯è¿‡æœŸäº†(æ¶ˆæ¯è¿‡æœŸ,æˆ–è€…é˜Ÿåˆ—è¿‡æœŸ)")]),_._v(" "),v("li",[_._v("æ¶ˆæ¯è¶…è¿‡äº†é˜Ÿåˆ—çš„é•¿åº¦"),v("code",[_._v("max_lenth")]),_._v("å’Œ æ¶ˆæ¯é•¿åº¦å®¹é‡"),v("code",[_._v("Max_length_bates")])]),_._v(" "),v("li",[_._v("æ¶ˆè´¹ç€è°ƒç”¨äº† reject æˆ– Nack å¹¶ä¸”æ²¡æœ‰è®¾ç½®"),v("code",[_._v("requeue")])])]),_._v(" "),v("h3",{attrs:{id:"_3-6-rabbitmq-å¦‚æœä¸€ä¸ªé¡¹ç›®è¦ä»å¤šä¸ªæœåŠ¡æ¥å—æ¶ˆæ¯-æ€ä¹ˆç©"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-rabbitmq-å¦‚æœä¸€ä¸ªé¡¹ç›®è¦ä»å¤šä¸ªæœåŠ¡æ¥å—æ¶ˆæ¯-æ€ä¹ˆç©"}},[_._v("#")]),_._v(" 3.6. RabbitMQ å¦‚æœä¸€ä¸ªé¡¹ç›®è¦ä»å¤šä¸ªæœåŠ¡æ¥å—æ¶ˆæ¯,æ€ä¹ˆç©")]),_._v(" "),v("ul",[v("li",[_._v("å®šä¹‰å¤šä¸ª "),v("code",[_._v("ConnectionFactory")]),_._v(" "),v("ul",[v("li",[_._v("ç”Ÿäº§è€…å®šä¹‰å¤šä¸ª "),v("code",[_._v("Tempalet")]),_._v("(ä¾èµ– ConnectionFactory),")]),_._v(" "),v("li",[_._v("æ¶ˆè´¹ç€å®šä¹‰å¤šä¸ª "),v("code",[_._v("ListenerContainer")]),_._v("(ä¾èµ– ConnectionFactory)")])])])]),_._v(" "),v("h3",{attrs:{id:"_3-7-rabbitmq-å¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-rabbitmq-å¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"}},[_._v("#")]),_._v(" 3.7. RabbitMQ å¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—")]),_._v(" "),v("ul",[v("li",[_._v("æ¶ˆæ¯ç™»è®°åˆ°æ•°æ®åº“,é€šè¿‡å®šæ—¶ä»»åŠ¡æ¥æ‰«æ")]),_._v(" "),v("li",[_._v("é€šè¿‡ TTL+æ­»ä¿¡é˜Ÿåˆ—..å½“æ¶ˆæ¯è¿‡æœŸäº†å°±ä¼šåˆ°æ­»ä¿¡äº¤æ¢æœº,æ­»ä¿¡äº¤æ¢æœºåˆ°è¾¾æ­»ä¿¡é˜Ÿåˆ—,ç„¶åè¢«ç›‘å¬äº†æ­»ä¿¡é˜Ÿåˆ—çš„æ¶ˆè´¹è€…æ¶ˆè´¹")]),_._v(" "),v("li",[_._v("plugin æ’ä»¶ "),v("code",[_._v("rabbitmq_delayed_message_exchange")])])]),_._v(" "),v("h3",{attrs:{id:"_3-8-rabbitmq-é‚£äº›æƒ…å†µä¼šå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±-æ€ä¹ˆè§£å†³"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-rabbitmq-é‚£äº›æƒ…å†µä¼šå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±-æ€ä¹ˆè§£å†³"}},[_._v("#")]),_._v(" 3.8. RabbitMQ é‚£äº›æƒ…å†µä¼šå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±?æ€ä¹ˆè§£å†³")]),_._v(" "),v("p",[_._v("æµç¨‹:ç”Ÿäº§è€… > broker > exchange è·¯ç”±åˆ° é˜Ÿåˆ— > é˜Ÿåˆ—åˆ°æ¶ˆè´¹è€…")]),_._v(" "),v("p",[_._v("ä»¥ä¸Šæµç¨‹ä¸­"),v("code",[_._v("ç½‘ç»œé—®é¢˜")]),_._v(","),v("code",[_._v("è·¯ç”±é”®ä¸åŒ¹é…é—®")]),_._v("é¢˜éƒ½æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±")]),_._v(" "),v("h3",{attrs:{id:"_3-9-rabbitmq-ä¸€ä¸ªé˜Ÿåˆ—æœ€å¤šå­˜æ”¾å¤šå°‘æ¡æ¶ˆæ¯"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-rabbitmq-ä¸€ä¸ªé˜Ÿåˆ—æœ€å¤šå­˜æ”¾å¤šå°‘æ¡æ¶ˆæ¯"}},[_._v("#")]),_._v(" 3.9. RabbitMQ ä¸€ä¸ªé˜Ÿåˆ—æœ€å¤šå­˜æ”¾å¤šå°‘æ¡æ¶ˆæ¯")]),_._v(" "),v("p",[_._v("è¿™ä¸ªå–å†³ä¸é˜Ÿåˆ—çš„æ¶ˆæ¯å­˜æ”¾åœ¨å“ªé‡Œ("),v("code",[_._v("RAM")]),_._v("æˆ–"),v("code",[_._v("DISK")]),_._v("), åœ¨æ²¡æœ‰é…ç½®("),v("code",[_._v("max-length")]),_._v("å’Œ"),v("code",[_._v("max-length-bates")]),_._v(")")]),_._v(" "),v("ul",[v("li",[v("code",[_._v("å­˜åœ¨ARM å°±æ˜¯å†…å­˜æœ€å¤§å€¼")]),_._v("(æ²¡æœ‰è®¾ç½®æœ€å¤§é•¿åº¦,æœ€é•¿æ¶ˆæ¯å®¹é‡çš„æƒ…å†µ)")]),_._v(" "),v("li",[v("code",[_._v("å­˜åœ¨ç£ç›˜ å°±æ˜¯ç£ç›˜æœ€å¤§å€¼")]),_._v("(æ²¡æœ‰è®¾ç½®æœ€å¤§é•¿åº¦,æœ€é•¿æ¶ˆæ¯å®¹é‡çš„æƒ…å†µ)")])]),_._v(" "),v("h3",{attrs:{id:"_3-10-æ€ä¹ˆæé«˜æ¶ˆæ¯çš„æ¶ˆè´¹é€Ÿç‡"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-æ€ä¹ˆæé«˜æ¶ˆæ¯çš„æ¶ˆè´¹é€Ÿç‡"}},[_._v("#")]),_._v(" 3.10. æ€ä¹ˆæé«˜æ¶ˆæ¯çš„æ¶ˆè´¹é€Ÿç‡")]),_._v(" "),v("p",[_._v("å¢åŠ æ¶ˆè´¹è€…")]),_._v(" "),v("h3",{attrs:{id:"_3-11-rabbitmq-å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ é˜Ÿåˆ—å’Œæ¶ˆè´¹è€…è¦æ€ä¹ˆæ“ä½œ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-rabbitmq-å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ é˜Ÿåˆ—å’Œæ¶ˆè´¹è€…è¦æ€ä¹ˆæ“ä½œ"}},[_._v("#")]),_._v(" 3.11. RabbitMQ å¦‚æœåœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ é˜Ÿåˆ—å’Œæ¶ˆè´¹è€…è¦æ€ä¹ˆæ“ä½œ")]),_._v(" "),v("p",[_._v("åœ¨ ListenerConainer ä¸­é…ç½®")]),_._v(" "),v("h3",{attrs:{id:"_3-12-rabbitmq-å¦‚ä½•ä¿è¯æ¶ˆæ¯æ¶ˆè´¹çš„é¡ºåºæ€§"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-12-rabbitmq-å¦‚ä½•ä¿è¯æ¶ˆæ¯æ¶ˆè´¹çš„é¡ºåºæ€§"}},[_._v("#")]),_._v(" 3.12. RabbitMQ å¦‚ä½•ä¿è¯æ¶ˆæ¯æ¶ˆè´¹çš„é¡ºåºæ€§")]),_._v(" "),v("p",[_._v("åªæœ‰åœ¨ä¸€ä¸ªé˜Ÿåˆ—åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…çš„æ—¶å€™æ‰èƒ½ä¿è¯é¡ºåº,å¦‚æœæ¶ˆè´¹è€…å¤šäº†æ— æ³•ä¿è¯å„å„æ¶ˆè´¹è€…ä¹‹é—´å¤„ç†çš„é€Ÿåº¦,"),v("code",[_._v("ç‹¬å é˜Ÿåˆ—äº†è§£ä¸€ä¸‹")])]),_._v(" "),v("h3",{attrs:{id:"_3-13-rabbitmq-å¦‚æœæœ‰å¤§é‡çš„æ¶ˆè´¹å †ç§¯æ€ä¹ˆåŠ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-13-rabbitmq-å¦‚æœæœ‰å¤§é‡çš„æ¶ˆè´¹å †ç§¯æ€ä¹ˆåŠ"}},[_._v("#")]),_._v(" 3.13. RabbitMQ å¦‚æœæœ‰å¤§é‡çš„æ¶ˆè´¹å †ç§¯æ€ä¹ˆåŠ")]),_._v(" "),v("p",[_._v("å¦‚æœæ˜¯å› ä¸ºä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº†æ¶ˆæ¯æ²¡æœ‰è¿”å› ack å¯¼è‡´çš„æ¶ˆæ¯å †ç§¯ ,"),v("code",[_._v("é‡å¯æ¶ˆè´¹è€…")])]),_._v(" "),v("p",[_._v("å¦‚æœæ˜¯å› ä¸ºæ¶ˆè´¹é€Ÿåº¦å¤ªæ…¢(ç”Ÿäº§æ¶ˆæ¯å¤ªå¿«),å¯ä»¥"),v("code",[_._v("å¢åŠ æ¶ˆè´¹è€…")])]),_._v(" "),v("p",[_._v("æç«¯æ‰‹æ®µ,"),v("code",[_._v("ç›´æ¥æ¸…ç©ºé˜Ÿåˆ—")]),_._v(",è¦ç”¨çš„è¯åœ¨å†è¿›è¡Œé‡å‘")]),_._v(" "),v("h3",{attrs:{id:"_3-14-å¦‚æœè¦è®¾è®¡ä¸€ä¸ª-mq-ä½ çš„æ€è·¯æ˜¯æ€æ ·çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-14-å¦‚æœè¦è®¾è®¡ä¸€ä¸ª-mq-ä½ çš„æ€è·¯æ˜¯æ€æ ·çš„"}},[_._v("#")]),_._v(" 3.14. å¦‚æœè¦è®¾è®¡ä¸€ä¸ª MQ ä½ çš„æ€è·¯æ˜¯æ€æ ·çš„")]),_._v(" "),v("ul",[v("li",[_._v("1.æ€ä¹ˆå­˜æ”¾æ¶ˆæ¯(å†…å­˜/ç£ç›˜)")]),_._v(" "),v("li",[_._v("2.æ€ä¹ˆè½¬å‘æ¶ˆæ¯\n"),v("ul",[v("li",[_._v("è¿æ¥é€šä¿¡åè®®(TCP/HTTP/AMQP)")]),_._v(" "),v("li",[_._v("æ”¯æŒå“ªäº›è·¯ç”±æ–¹å¼(ä¸€å¯¹ä¸€/ä¸€å¯¹å¤š)")]),_._v(" "),v("li",[_._v("æ”¯æŒå“ªäº›æ¶ˆæ¯æ¨¡å¼(PULL / PUSH)")])])]),_._v(" "),v("li",[_._v("3.é«˜å¯ç”¨")]),_._v(" "),v("li",[_._v("4.äº‹åŠ¡æ¶ˆæ¯ç­‰")]),_._v(" "),v("li",[_._v("5.æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–")]),_._v(" "),v("li",[_._v("6.æ•°æ®å­˜ç£ç›˜è¿˜æ˜¯å†…å­˜,æ˜¯å¦å®ä¾‹åŒ–")]),_._v(" "),v("li",[_._v("7.æ˜¯å¦è·¨è¯­è¨€")])]),_._v(" "),v("h2",{attrs:{id:"_4-rocketmq"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-rocketmq"}},[_._v("#")]),_._v(" 4. RocketMQ")]),_._v(" "),v("h3",{attrs:{id:"_4-1-rocketmq-åŒ…å«äº†å‡ ä¸ªæ ¸å¿ƒéƒ¨åˆ†-éƒ½æ˜¯å¹²ä»€ä¹ˆç”¨çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-rocketmq-åŒ…å«äº†å‡ ä¸ªæ ¸å¿ƒéƒ¨åˆ†-éƒ½æ˜¯å¹²ä»€ä¹ˆç”¨çš„"}},[_._v("#")]),_._v(" 4.1. RocketMQ åŒ…å«äº†å‡ ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼Ÿéƒ½æ˜¯å¹²ä»€ä¹ˆç”¨çš„")]),_._v(" "),v("ul",[v("li",[_._v("nameServer é›†ç¾¤: è´Ÿè´£ç®¡ç†æ‰€æœ‰çš„ broker ä¿¡æ¯(é›†ç¾¤ä¿¡æ¯/å¿ƒè·³æ£€æµ‹),å¹¶ä¸”ä¸º Producer å’Œ Consumer æä¾›äº† broker çš„å‘ç°")]),_._v(" "),v("li",[_._v("Broker é›†ç¾¤: ç»„ä»æ¶æ„,æ”¯æŒåŒå†™")]),_._v(" "),v("li",[_._v("Producer é›†ç¾¤: å‘é€æ¶ˆæ¯")]),_._v(" "),v("li",[_._v("Consumer é›†ç¾¤: æ¥æ”¶æ¶ˆæ¯")])]),_._v(" "),v("h3",{attrs:{id:"_4-2-broker-æŒ‚äº†-ç³»ç»Ÿæ˜¯æ€ä¹ˆæ„ŸçŸ¥åˆ°çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-broker-æŒ‚äº†-ç³»ç»Ÿæ˜¯æ€ä¹ˆæ„ŸçŸ¥åˆ°çš„"}},[_._v("#")]),_._v(" 4.2. Broker æŒ‚äº†ï¼Œç³»ç»Ÿæ˜¯æ€ä¹ˆæ„ŸçŸ¥åˆ°çš„")]),_._v(" "),v("p",[_._v("NameServer æ¯åŠåˆ†é’Ÿä¼šå¯¹ Broker çš„ Master èŠ‚ç‚¹åšå¿ƒè·³æ£€æµ‹,å¦‚æœ 2 åˆ†é’Ÿæ²¡æœ‰å›åº”åˆ™ä»£è¡¨è¯¥èŠ‚ç‚¹ä¸‹çº¿")]),_._v(" "),v("h3",{attrs:{id:"_4-3-rocketmq-å¹¿æ’­ä¸é›†ç¾¤åŒºåˆ«"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-rocketmq-å¹¿æ’­ä¸é›†ç¾¤åŒºåˆ«"}},[_._v("#")]),_._v(" 4.3. RocketMQ å¹¿æ’­ä¸é›†ç¾¤åŒºåˆ«")]),_._v(" "),v("p",[v("strong",[_._v("å¹¿æ’­:")]),_._v(" ä¸€æ¡æ¶ˆæ¯ä¼šè¢« ConsumerGroup ä¸­æ‰€æœ‰å®ä¾‹æ¶ˆè´¹\n"),v("strong",[_._v("é›†ç¾¤:")]),_._v(" ä¸€æ¡æ¶ˆæ¯çŸ¥ä¼šè¢« ConsumerGroup é‡Œçš„ä¸€ä¸ªå®ä¾‹æ¶ˆè´¹,ä½†å¯ä»¥è¢«å¤šä¸ªä¸åŒçš„ ConsumerGroup æ¶ˆè´¹")]),_._v(" "),v("h3",{attrs:{id:"_4-4-ä»»ä½•ä¸€å°-broker-çªç„¶å®•æœºäº†æ€ä¹ˆåŠ-é‚£ä¸å°±ä¼šå¯¼è‡´-rocketmq-é‡Œä¸€éƒ¨åˆ†çš„æ¶ˆæ¯å°±æ²¡äº†å—-è¿™å°±ä¼šå¯¼è‡´-mq-çš„ä¸å¯é å’Œä¸å¯ç”¨-è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-ä»»ä½•ä¸€å°-broker-çªç„¶å®•æœºäº†æ€ä¹ˆåŠ-é‚£ä¸å°±ä¼šå¯¼è‡´-rocketmq-é‡Œä¸€éƒ¨åˆ†çš„æ¶ˆæ¯å°±æ²¡äº†å—-è¿™å°±ä¼šå¯¼è‡´-mq-çš„ä¸å¯é å’Œä¸å¯ç”¨-è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³"}},[_._v("#")]),_._v(" 4.4. ä»»ä½•ä¸€å° Broker çªç„¶å®•æœºäº†æ€ä¹ˆåŠï¼Ÿé‚£ä¸å°±ä¼šå¯¼è‡´ RocketMQ é‡Œä¸€éƒ¨åˆ†çš„æ¶ˆæ¯å°±æ²¡äº†å—ï¼Ÿè¿™å°±ä¼šå¯¼è‡´ MQ çš„ä¸å¯é å’Œä¸å¯ç”¨ï¼Œè¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³")]),_._v(" "),v("p",[_._v("Master æ”¶åˆ°æ¶ˆæ¯åä¼šåŒæ­¥ç»™ Slaveï¼Œè¿™æ ·ä¸€æ¡æ¶ˆæ¯å°±ä¸æ­¢ä¸€ä»½äº†ï¼ŒMaster å®•æœºäº†è¿˜æœ‰ slave ä¸­çš„æ¶ˆæ¯å¯ç”¨ï¼Œä¿è¯äº† MQ çš„å¯é æ€§å’Œé«˜å¯ç”¨æ–°ã€‚")]),_._v(" "),v("h3",{attrs:{id:"_4-5-æ€ä¹ˆçŸ¥é“æœ‰å“ªäº›-broker-æ€ä¹ˆçŸ¥é“è¦è¿æ¥åˆ°å“ªä¸€å°-broker-ä¸Šå»å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-æ€ä¹ˆçŸ¥é“æœ‰å“ªäº›-broker-æ€ä¹ˆçŸ¥é“è¦è¿æ¥åˆ°å“ªä¸€å°-broker-ä¸Šå»å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"}},[_._v("#")]),_._v(" 4.5. æ€ä¹ˆçŸ¥é“æœ‰å“ªäº› Brokerï¼Ÿæ€ä¹ˆçŸ¥é“è¦è¿æ¥åˆ°å“ªä¸€å° Broker ä¸Šå»å‘é€å’Œæ¥æ”¶æ¶ˆæ¯")]),_._v(" "),v("ul",[v("li",[_._v("æœ‰ä¸ª NameServer çš„æ¦‚å¿µï¼Œæ˜¯ç‹¬ç«‹éƒ¨ç½²åœ¨å‡ å°æœºå™¨ä¸Šçš„ï¼Œç„¶åæ‰€æœ‰çš„ Broker éƒ½ä¼šæŠŠè‡ªå·±æ³¨å†Œåˆ° NameServer ä¸Šå»ï¼ŒNameServer å°±çŸ¥é“é›†ç¾¤é‡Œæœ‰å“ªäº› Broker äº†!")]),_._v(" "),v("li",[_._v("å‘é€æ¶ˆæ¯åˆ° Brokerï¼Œä¼šæ‰¾ NameServer å»è·å–è·¯ç”±ä¿¡æ¯")]),_._v(" "),v("li",[_._v("ç³»ç»Ÿè¦ä» Broker è·å–æ¶ˆæ¯ï¼Œä¹Ÿä¼šæ‰¾ NameServer è·å–è·¯ç”±ä¿¡æ¯ï¼Œå»æ‰¾åˆ°å¯¹åº”çš„ Broker è·å–æ¶ˆæ¯")])]),_._v(" "),v("h3",{attrs:{id:"_4-6-æ¶ˆè´¹è€…çš„ç³»ç»Ÿåœ¨è·å–æ¶ˆæ¯çš„æ—¶å€™-æ˜¯ä»-master-broker-è·å–çš„-è¿˜æ˜¯ä»-slave-broker-è·å–çš„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-æ¶ˆè´¹è€…çš„ç³»ç»Ÿåœ¨è·å–æ¶ˆæ¯çš„æ—¶å€™-æ˜¯ä»-master-broker-è·å–çš„-è¿˜æ˜¯ä»-slave-broker-è·å–çš„"}},[_._v("#")]),_._v(" 4.6. æ¶ˆè´¹è€…çš„ç³»ç»Ÿåœ¨è·å–æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ˜¯ä» Master Broker è·å–çš„ï¼Ÿè¿˜æ˜¯ä» Slave Broker è·å–çš„")]),_._v(" "),v("p",[_._v("Master è´Ÿè´£å†™æ¶ˆæ¯,slave è´Ÿè´£è¯»æ•°æ®ç»™æ¶ˆè´¹è€…æ¶ˆè´¹")]),_._v(" "),v("h3",{attrs:{id:"_4-7-master-broker-çªç„¶æŒ‚äº†-è¿™æ ·ä¼šæ€ä¹ˆæ ·"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-master-broker-çªç„¶æŒ‚äº†-è¿™æ ·ä¼šæ€ä¹ˆæ ·"}},[_._v("#")]),_._v(" 4.7. Master Broker çªç„¶æŒ‚äº†ï¼Œè¿™æ ·ä¼šæ€ä¹ˆæ ·")]),_._v(" "),v("p",[_._v("RocketMQ 4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œç”¨ Slave Broker åŒæ­¥æ•°æ®ï¼Œå°½é‡ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä½†æ˜¯ä¸€æ—¦ Master æ•…éšœäº†ï¼ŒSlave æ˜¯æ²¡æ³•è‡ªåŠ¨åˆ‡æ¢æˆ Master çš„ã€‚ æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹,éœ€è¦æ‰‹åŠ¨è¿ç»´")]),_._v(" "),v("p",[_._v("RocketMQ 4.5 ä¹‹åæ”¯æŒäº†ä¸€ç§å«åš"),v("code",[_._v("Dledger(æ€»è´¦)æœºåˆ¶")]),_._v("ï¼ŒåŸºäº"),v("code",[_._v("Raftåè®®")]),_._v("å®ç°çš„ä¸€ä¸ªæœºåˆ¶ã€‚"),v("code",[_._v("(å’ŒRedisç©æ³•ä¸€æ ·)")]),_._v("\næˆ‘ä»¬å¯ä»¥è®©ä¸€ä¸ª Master Broker å¯¹åº”å¤šä¸ª Slave Brokerï¼Œ ä¸€æ—¦ Master Broker å®•æœºäº†ï¼Œåœ¨å¤šä¸ª Slave ä¸­é€šè¿‡ Dledger æŠ€æœ¯å°†ä¸€ä¸ª Slave Broker é€‰ä¸ºæ–°çš„ Master Broker å¯¹å¤–æä¾›æœåŠ¡ã€‚\nåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥æ˜¯ç”¨ Dledger æœºåˆ¶å®ç°è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼Œ"),v("code",[_._v("åªè¦10ç§’æˆ–è€…å‡ åç§’çš„æ—¶é—´å°±å¯ä»¥å®Œæˆ")])])])}),[],!1,null,null,null);r.default=e.exports}}]);