(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{448:function(l,e,_){"use strict";_.r(e);var v=_(34),t=Object(v.a)({},(function(){var l=this,e=l.$createElement,_=l._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[_("h2",{attrs:{id:"ioçš„åˆ†ç±»"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ioçš„åˆ†ç±»"}},[l._v("#")]),l._v(" IOçš„åˆ†ç±»")]),l._v(" "),_("ul",[_("li",[l._v("ç½‘ç»œIO")]),l._v(" "),_("li",[l._v("ç£ç›˜IO")]),l._v(" "),_("li",[l._v("è¾“å…¥è®¾å¤‡çš„IO")])]),l._v(" "),_("h2",{attrs:{id:"bio"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#bio"}},[l._v("#")]),l._v(" BIO")]),l._v(" "),_("p",[l._v("é˜»å¡IO, acceptå’Œrecvéƒ½æ˜¯é˜»å¡çš„\nä¸€ä¸ªè¿æ¥éƒ½éœ€è¦å¼€ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†")]),l._v(" "),_("p",[l._v("ä¼˜åŠ¿:\nå¯ä»¥æ¥æ”¶å¾ˆå¤šçš„è¿æ¥")]),l._v(" "),_("p",[l._v("é—®é¢˜:\nçº¿ç¨‹å¤ªå¤š,cpuè¦é¢‘ç¹çš„åˆ‡æ¢ä¼šæµªè´¹cpuçš„è°ƒåº¦\nçº¿ç¨‹ä¹Ÿä¼šé€ æˆå†…å­˜çš„æµªè´¹,")]),l._v(" "),_("p",[l._v("æ ¹æº\nBLOCKINGé˜»å¡: accpet , recv\nè§£å†³æ–¹æ³•ä½¿ç”¨ NONBOLCKING(NIO) éé˜»å¡")]),l._v(" "),_("h2",{attrs:{id:"nio"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nio"}},[l._v("#")]),l._v(" NIO")]),l._v(" "),_("p",[l._v("NONBOLCKING\nä¼˜åŠ¿:\nè§„é¿äº†å¤šçº¿ç¨‹çš„é—®é¢˜,åªéœ€è¦ä¸€ä¸ªçº¿ç¨‹å°±å¤„ç†å®Œæˆå¾ˆå¤šçš„è¿æ¥")]),l._v(" "),_("p",[l._v("å¼Šç«¯:\n"),_("strong",[l._v("å­˜åœ¨C10Ké—®é¢˜")]),l._v("\nå‡è®¾1Wä¸ªè¿æ¥,åªæœ‰ä¸€ä¸ªå‘æ¥æ•°æ®.  æ¯æ¬¡å¾ªç¯ä½ éƒ½å¿…é¡»è¦æƒ³å†…æ ¸å‘é€1Wæ¬¡çš„recvè°ƒç”¨\nå…¶ä¸­9999æ¬¡æ˜¯æ— ç”¨çš„å¾ªç¯,æµªè´¹äº†ç³»ç»Ÿèµ„æºå’Œæ¶ˆè€—çš„æ—¶é—´(æ¶‰åŠåˆ°é¢‘ç¹çš„ç”¨æˆ·æ€å†…æ ¸æ€åˆ‡æ¢)")]),l._v(" "),_("h2",{attrs:{id:"å¤šè·¯å¤ç”¨å™¨-select-poll-epoll"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#å¤šè·¯å¤ç”¨å™¨-select-poll-epoll"}},[l._v("#")]),l._v(" å¤šè·¯å¤ç”¨å™¨ (Select / poll / epoll)")]),l._v(" "),_("p",[l._v("Select,poll,epoll éƒ½å«å¤šè·¯å¤ç”¨å™¨")]),l._v(" "),_("p",[l._v("å¤šè·¯å¤ç”¨å™¨è§£å†³C10Ké—®é¢˜,åœ¨å¾ªç¯éå†ä¸€ä¸‡ä¸ªrecvä¹‹å‰,å…ˆè°ƒç”¨ selectæ¥è·å–é‚£äº›socketæœ‰äº†æ•°æ®O(1),\nç„¶åå¯¹æœ‰å“åº”çš„è¿›è¡Œå¤„ç† O(m)")]),l._v(" "),_("p",[l._v("å¤šè·¯å¤ç”¨å™¨åªæ˜¯ç»™äº†ä½ çŠ¶æ€,å‘Šè¯‰ä½ é‚£äº›socketå‘æ¥äº†æ•°æ®, è¯»å–æ•°æ®è¿˜æ˜¯éœ€è¦è‡ªå·±å»è¯»")]),l._v(" "),_("p",[_("strong",[l._v("ä¼˜åŠ¿:")])]),l._v(" "),_("ul",[_("li",[l._v("é€šè¿‡ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨,å§fdsä¼ ç»™å†…æ ¸,å†…æ ¸è¿›è¡Œéå†;")]),l._v(" "),_("li",[l._v("ç›¸æ¯”C10K,èŠ‚çœäº†å¤šæ¬¡çš„ç”¨æˆ·å†…æ ¸æ€åˆ‡æ¢")])]),l._v(" "),_("h3",{attrs:{id:"select"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#select"}},[l._v("#")]),l._v(" select")]),l._v(" "),_("p",[l._v("select å†…éƒ¨æœ‰ä¸ªé™åˆ¶,ä¸Šé™ä¸€æ¬¡åªèƒ½è¯»å–1024ä¸ªæ–‡ä»¶æè¿°ç¬¦.(ç¨‹åºå†™æ­» ä¸å¯ä¿®æ”¹)")]),l._v(" "),_("h3",{attrs:{id:"poll"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#poll"}},[l._v("#")]),l._v(" poll")]),l._v(" "),_("p",[l._v("pollæ²¡æœ‰è¯»1024ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„é™åˆ¶, è¯»å¤šå°‘ä¸ªæ ¹æ®ç³»ç»Ÿé™åˆ¶limitæ¥çš„. å¯ä»¥è‡ªå·±è®¾ç½®")]),l._v(" "),_("h3",{attrs:{id:"select-pollçš„å¼Šç«¯"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#select-pollçš„å¼Šç«¯"}},[l._v("#")]),l._v(" select,pollçš„å¼Šç«¯")]),l._v(" "),_("p",[l._v("** å¼Šç«¯:**")]),l._v(" "),_("ul",[_("li",[l._v("æ¯æ¬¡éƒ½è¦é‡æ–°ä¼ å…¥fd,  è§£å†³æ–¹æ¡ˆå†…æ ¸å¼€è¾Ÿç©ºé—´ä¿fd")]),l._v(" "),_("li",[l._v("æ¯æ¬¡ select/pollæ—¶éƒ½éœ€è¦é‡æ–°å…¨é‡éå†fd(å†…æ ¸æ“ä½œä¹Ÿä¼šè€—æ—¶), è¿™ä¸ªè¿‡ç¨‹æ˜¯é˜»å¡çš„ å¤–éƒ¨è°ƒç”¨ä¹Ÿéœ€è¦ç­‰å¾…éå†ç»“æŸ")]),l._v(" "),_("li",[l._v("æ¶‰åŠåˆ°çŸ¥è¯† (ä¸­æ–­,callback,å¢å¼ºç­‰)")])]),l._v(" "),_("h3",{attrs:{id:"epoll-ğŸ”¥"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#epoll-ğŸ”¥"}},[l._v("#")]),l._v(" epoll ğŸ”¥")]),l._v(" "),_("p",[l._v("å¦‚æœæ“ä½œç³»ç»Ÿæ”¯æŒepoll, JDKä¼šä¼˜å…ˆé€‰æ‹©epoll...  å¯ä»¥è‡ªå·±è®¾ç½®æ”¶åˆ°åˆ‡å› select")]),l._v(" "),_("p",[_("strong",[l._v("epollèŠ‚çœäº†éå†fdçš„æˆæœ¬:")])]),l._v(" "),_("ul",[_("li",[l._v("ç‰ºç‰²å†…æ ¸çš„ç©ºé—´,æ¥æ¢å–è°ƒç”¨çš„æ—¶é—´")]),l._v(" "),_("li",[l._v("fdæ”¾åœ¨å†…æ ¸ä¸­çš„ä¸€ä¸ªç©ºé—´ä¸­,ä»socketè¿æ¥åˆ°æ–­å¼€åªä¼šæ”¾è¿›å»ä¸€æ¬¡. appç©ºé—´ä¸­æœ‰ä¸€ä»½,å†…æ ¸ä¸­æœ‰ä¸€ä»½")]),l._v(" "),_("li",[l._v("å†…æ ¸ä¸­æœ‰ä¸€ä¸ªè¿”å›åŒº,å½“socketä»å¤–ç•Œå‘æ¥æ•°æ®åŒ…æ—¶,å†…æ ¸ä¼šå°†fdçš„å‰¯æœ¬æ”¾åˆ°è¿”å›åŒºä¸­\n"),_("ul",[_("li",[l._v("ç¨‹åºåªéœ€è¦ä»è¿”å›åŒºä¸­è·å–fdçŠ¶æ€å°±å¯ä»¥äº†")])])]),l._v(" "),_("li",[l._v("appç¨‹åºåªå…³æ³¨IOçŠ¶æ€, è¿”å›åŒºçš„å†…å®¹æ‰æ˜¯ç¨‹åºæƒ³è¦çš„")])]),l._v(" "),_("p",[_("strong",[l._v("epollæ ¸å¿ƒçš„2ç±», å†…æ ¸æä¾›çš„api:")])]),l._v(" "),_("ul",[_("li",[l._v("epoll_create: "),_("code",[l._v("åœ¨å†…æ ¸å¼€è¾Ÿä¸€å—ç³»ç»Ÿç©ºé—´")]),l._v(",å­˜æ”¾epdf... åœ¨æ•´ä¸ªç¨‹åºä¸­è°ƒç”¨ä¸€æ¬¡å°±è¡Œäº†")]),l._v(" "),_("li",[l._v("epoll_ctl: æœ‰add,mod,delå‚æ•°\n"),_("ul",[_("li",[l._v("æ–¹æ³•4ä¸ªå‚æ•°çš„è¯´æ˜ "),_("code",[l._v("epoll_ctl('epoll_createåˆ›å»ºçš„ç©ºé—´', 'å…·ä½“çš„æ“ä½œ ADD,DEL,MOD', fdæ–‡ä»¶æè¿°ç¬¦, 'äº‹ä»¶:READ')")])]),l._v(" "),_("li",[l._v("å°†ä¸€ä¸ªæ™®é€šçš„fdè½¬æ¢ä¸ºä¸ºepfd, æ¯”å¦‚å°† dfæ·»åŠ åˆ° epç©ºé—´ä¸­")]),l._v(" "),_("li",[l._v("æˆä¸ºepfdä¹‹å,å½“ç½‘å¡æœ‰æ•°æ®å‘åˆ°fdæ—¶, cpuä¼šå°†epfdæ”¾åˆ° "),_("code",[l._v("è¿”å›åŒº")]),l._v("ä¸­")])])]),l._v(" "),_("li",[l._v("epoll_wait: ç”¨äºè·å–è¿”å›åŒºçš„epfd, å¯ä»¥ä¼ å…¥timeoutç­‰å¾…æ—¶é—´\n"),_("ul",[_("li",[l._v("æœ€ä¼˜ O(1)çš„å¤æ‚åº¦")])])])]),l._v(" "),_("blockquote",[_("p",[l._v("epollç›¸å¯¹äº (select,poll)å¤šäº†ä¸¤ä¸ª  "),_("code",[l._v("epoll_create,epoll_ctl")]),l._v(" apiç³»ç»Ÿè°ƒç”¨")])]),l._v(" "),_("p",[l._v("å…¶å®ä¹Ÿæ˜¯åŒæ­¥çš„IOæ¨¡å‹,è°ƒç”¨epoll_awitä¹‹å,éœ€è¦è°ƒç”¨"),_("code",[l._v("accpetè¿›è¡ŒåŒæ­¥è¯»IO")])]),l._v(" "),_("h2",{attrs:{id:"æ— è®ºæ˜¯bio-nioåœ¨è¯»ioæ•°æ®çš„æ—¶å€™éƒ½æ˜¯åŒæ­¥æ¨¡å‹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#æ— è®ºæ˜¯bio-nioåœ¨è¯»ioæ•°æ®çš„æ—¶å€™éƒ½æ˜¯åŒæ­¥æ¨¡å‹"}},[l._v("#")]),l._v(" æ— è®ºæ˜¯BIO,NIOåœ¨è¯»IOæ•°æ®çš„æ—¶å€™éƒ½æ˜¯åŒæ­¥æ¨¡å‹")]),l._v(" "),_("p",[l._v("åŒºåˆ«æœ‰é˜»å¡æœ‰éé˜»å¡")]),l._v(" "),_("p",[l._v("é¢è¯•é¢˜: æ˜¯å¦é€šè¿‡å¤šè·¯å¤ç”¨å™¨å°±å¯ä»¥å¿«é€Ÿè¯»å–IOæ•°æ®?\nå¦, å¤šè·¯å¤ç”¨å™¨åªæ˜¯å‘Šè¯‰ä½ äº†é‚£äº›æ–‡ä»¶æè¿°ç¬¦å¯è¯».  è¯»æ•°æ®éœ€è¦è‡ªå·±è°ƒç”¨recvå»è¯»å–")])])}),[],!1,null,null,null);e.default=t.exports}}]);