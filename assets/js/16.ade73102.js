(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{447:function(t,_,v){"use strict";v.r(_);var e=v(34),l=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("hr"),t._v(" "),v("h2",{attrs:{id:"title-jvmåƒåœ¾å›æ”¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#title-jvmåƒåœ¾å›æ”¶"}},[t._v("#")]),t._v(" title: JVMåƒåœ¾å›æ”¶")]),t._v(" "),v("h2",{attrs:{id:"_1-åè¯ä»‹ç»"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-åè¯ä»‹ç»"}},[t._v("#")]),t._v(" 1. åè¯ä»‹ç»")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("-")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("STW")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("Stop the world")]),t._v(",æš‚åœæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("SATB")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("Snapshot At The Begining")]),t._v(" å¿«ç…§")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Incrmental Update")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("CMS å›æ”¶å™¨çš„ç¬¬ä¸‰é˜¶æ®µè§£å†³é”™æ ‡é—®é¢˜ç”¨è¯")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Write barrier")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("å†™å±éšœ,Jvm ä¼šæ³¨å…¥ä¸€å°æ®µä»£ç ç”¨äºè®°å½•æŒ‡é’ˆçš„å˜åŒ–(G1 å›æ”¶å™¨ä¸‰è‰²æ ‡è®°)")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("Refinement")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("G1 ä¸‰è‰²æ ‡è®°æ—¶å¤„ç†æ•°æ®çš„çº¿ç¨‹åå­—")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("RS (Remembered Set)")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("G1 ä¸­è®°å½•å¼•ç”¨å…³ç³»çš„é›†åˆå­—")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[t._v("OOPS")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("æ™®é€šå¯¹è±¡æŒ‡é’ˆ")])])])]),t._v(" "),v("h2",{attrs:{id:"_2-å¦‚ä½•ç¡®å®šåƒåœ¾-åƒåœ¾å›æ”¶ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¦‚ä½•ç¡®å®šåƒåœ¾-åƒåœ¾å›æ”¶ç®—æ³•"}},[t._v("#")]),t._v(" 2. å¦‚ä½•ç¡®å®šåƒåœ¾(åƒåœ¾å›æ”¶ç®—æ³•)")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("ä¸¤ç§ç¡®å®šåƒåœ¾çš„æ–¹å¼")]),t._v(" "),v("ul",[v("li",[t._v("å¼•ç”¨è®¡æ•°æ³•")]),t._v(" "),v("li",[t._v("ğŸ”¥ å¯è¾¾æ€§åˆ†æ (JVM ä½¿ç”¨)")])])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("å¼•ç”¨è®¡æ•°æ³•")]),t._v(" "),v("p",[t._v("Java å †ä¸­æ¯ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª"),v("code",[t._v("å¼•ç”¨è®¡æ•°å™¨")]),t._v("ï¼Œå½“è¿™ä¸ªå¯¹è±¡è¢«åˆå§‹åŒ–å’Œå¼•ç”¨çš„æ—¶å€™è¿™ä¸ªè®¡æ•°å™¨å°±ä¼šè¿›è¡Œ+1ã€‚å½“å¼•ç”¨å¤±æ•ˆåå°±ä¼šè¿›è¡Œ-1ã€‚å½“åƒåœ¾å›æ”¶æ—¶æ‰€æœ‰å¼•ç”¨ä¸º 0 çš„å¯¹è±¡éƒ½ä¼šè¢«å›æ”¶")]),t._v(" "),v("ul",[v("li",[t._v("ä¼˜ç‚¹: æ‰§è¡Œç®€å•ï¼Œåˆ¤æ–­æ•ˆç‡é«˜")]),t._v(" "),v("li",[t._v("ç¼ºç‚¹: æ— æ³•å¯¹å¾ªç¯å¼•ç”¨è¿›è¡Œç²¾å‡†è®¡æ•°ï¼ŒåŒæ—¶å¼•ç”¨è®¡æ•°å™¨å¢åŠ äº†ç¨‹åºæ‰§è¡Œçš„å¼€é”€")])])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("ğŸ”¥å¯è¾¾æ€§åˆ†æ")]),t._v(" "),v("p",[t._v("å¯è¾¾æ€§åˆ†æä¹Ÿå«"),v("code",[t._v("ç´¢æ ¹ç®—æ³•/æº¯æºç®—æ³•")]),t._v("ï¼Œä»ä¸€ç³»åˆ—çš„ GC rootsï¼ˆæœ‰7ç§ GC rootsï¼‰ä½œä¸ºèµ·ç‚¹å‘ä¸‹è¿›è¡Œæœç´¢ï¼Œæ‰€æœ‰èµ°è¿‡çš„è·¯å¾„ç§°ä¸º"),v("code",[t._v("å¼•ç”¨è¿")]),t._v("ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾åˆ°è¾¾ GC root æ—¶å³ä»£è¡¨è¿™ä¸ª"),v("code",[t._v("å¯¹è±¡ä¸å¯è¾¾")]),t._v("ï¼ˆå¯ä»¥è¿›è¡Œå›æ”¶ï¼‰- ä¼˜ç‚¹: æ‰§è¡Œç®€å•ï¼Œåˆ¤æ–­æ•ˆç‡é«˜")]),t._v(" "),v("ul",[v("li",[t._v("ç¼ºç‚¹: å¹¶å‘æ ‡è®°æ—¶ä¼šæœ‰æ¼æ ‡æƒ…å†µ")])])]),t._v(" "),v("h2",{attrs:{id:"_3-åƒåœ¾å›æ”¶ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-åƒåœ¾å›æ”¶ç®—æ³•"}},[t._v("#")]),t._v(" 3. åƒåœ¾å›æ”¶ç®—æ³•")]),t._v(" "),v("h3",{attrs:{id:"_3-1-æ ‡è®°-æ¸…é™¤ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-æ ‡è®°-æ¸…é™¤ç®—æ³•"}},[t._v("#")]),t._v(" 3.1. æ ‡è®°-æ¸…é™¤ç®—æ³•")]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("p",[t._v("é€šè¿‡å¯è¾¾æ€§åˆ†ææ‰¾åˆ°å¯ä»¥æ¸…é™¤çš„å¯¹è±¡ï¼Œç„¶åè¿›è¡Œå›æ”¶")]),t._v(" "),v("ul",[v("li",[t._v("ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œä¸éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œç§»åŠ¨")]),t._v(" "),v("li",[t._v("ç¼ºç‚¹ï¼šæ ‡è®°æ¸…é™¤æ—¶çš„æ•ˆç‡ä½ä¸‹ã€‚ä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡")])])]),t._v(" "),v("h3",{attrs:{id:"_3-2-æ ‡è®°-æ•´ç†-æ ‡è®°-å‹ç¼©-ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æ ‡è®°-æ•´ç†-æ ‡è®°-å‹ç¼©-ç®—æ³•"}},[t._v("#")]),t._v(" 3.2. æ ‡è®°-æ•´ç†ï¼ˆæ ‡è®°-å‹ç¼©ï¼‰ç®—æ³•")]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("p",[t._v("æ‰§è¡ŒåŸç†å’Œæ ‡è®°æ¸…é™¤ä¸€æ ·ï¼Œä½†æ˜¯æ¸…ç†å®Œä¹‹åä¼šè¿›è¡Œå†…å­˜å‹ç¼©æ¥è¾¾åˆ°å»é™¤å†…å­˜ç¢ç‰‡çš„ç›®çš„ï¼›")]),t._v(" "),v("ul",[v("li",[t._v("ä¼˜ç‚¹ï¼šæ²¡æœ‰å†…å­˜ç¢ç‰‡")]),t._v(" "),v("li",[t._v("ç¼ºç‚¹: éœ€è¦å¯¹å¯¹è±¡è¿›è¡Œç§»åŠ¨ï¼Œä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†æ•ˆç‡")])])]),t._v(" "),v("h3",{attrs:{id:"_3-3-å¤åˆ¶ç®—æ³•"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-å¤åˆ¶ç®—æ³•"}},[t._v("#")]),t._v(" 3.3. å¤åˆ¶ç®—æ³•")]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("å¤åˆ¶ç®—æ³•")]),t._v(" "),v("p",[t._v("å®ƒå°†å†…å­˜åˆ†ä¸ºä¸¤ä¸ªå†…å­˜å—ï¼Œæ¯æ¬¡ä»…ä½¿ç”¨ä¸€åŠçš„ç©ºé—´ã€‚å½“ä¸€åŠçš„ç©ºé—´ç”¨å®Œæ—¶è¿›è¡Œ GCï¼ŒæŠŠå¯è¾¾å¯¹è±¡ç§»åŠ¨åˆ°å¦ä¸€åŠç©ºé—´ä¸­ï¼Œç„¶åå¯¹åŸæœ‰ç©ºé—´è¿›è¡Œå…¨éƒ¨æ¸…ç†")]),t._v(" "),v("ul",[v("li",[t._v("ä¼˜ç‚¹ï¼šä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡")]),t._v(" "),v("li",[t._v("ç¼ºç‚¹ï¼šåªèƒ½ä½¿ç”¨ä¸€åŠçš„ JVM å†…å­˜ï¼Œè€Œä¸”ä¼šå¯¹é•¿æ—¶é—´å­˜æ´»çš„å¯¹è±¡è¿›è¡Œé¢‘ç¹å¤åˆ¶")])])]),t._v(" "),v("h2",{attrs:{id:"_4-gc-roots"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-gc-roots"}},[t._v("#")]),t._v(" 4. GC roots")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("GC root å¯¹è±¡")]),t._v(" "),v("p",[v("strong",[t._v("å¯ç§°ä¸º GC root çš„å¯¹è±¡æœ‰ 7 ç§:")])]),t._v(" "),v("ul",[v("li",[t._v("åœ¨è™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡,")]),t._v(" "),v("li",[t._v("é™æ€å˜é‡")]),t._v(" "),v("li",[t._v("å¸¸é‡")]),t._v(" "),v("li",[t._v("JNIå¼•ç”¨çš„å¯¹è±¡")]),t._v(" "),v("li",[t._v("Javaè™šæ‹Ÿæœº çš„ç‰¹æ®Šç±»(ç±»åŠ è½½,é‡è¦çš„å¼‚å¸¸ç±»ç­‰)")]),t._v(" "),v("li",[t._v("synchronizedé”å¯¹è±¡")]),t._v(" "),v("li",[t._v("åæ˜ Javaè™šæ‹Ÿæœºå†…éƒ¨æƒ…å†µçš„JMXBeanã€JVMTIä¸­æ³¨å†Œçš„å›è°ƒã€æœ¬åœ°ä»£ç ç¼“å­˜ç­‰")])]),t._v(" "),v("p",[t._v("::: right\næ¥è‡ª "),v("a",{attrs:{href:""}},[t._v(" æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºç¬¬ä¸‰ç‰ˆ-å‘¨å¿—æ˜ #3.2.2 ")])])]),t._v(" "),v("h2",{attrs:{id:"_5-jvm-å†…å­˜åˆ†ä»£æ¨¡å‹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-jvm-å†…å­˜åˆ†ä»£æ¨¡å‹"}},[t._v("#")]),t._v(" 5. JVM å†…å­˜åˆ†ä»£æ¨¡å‹")]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406002650_zc6PZa_Screenshot.jpeg",alt:"JVMå†…å­˜åˆ†ä»£æ¨¡å‹"}})]),t._v(" "),v("ul",[v("li",[t._v("å¹´è½»ä»£\n"),v("ul",[v("li",[t._v("å¹´è½»ä»£çš„ GC å« "),v("code",[t._v("Young GC")]),t._v(" æˆ– "),v("code",[t._v("Minor GC")])]),t._v(" "),v("li",[t._v("å†…å­˜å æ¯”:"),v("code",[t._v("Eden:S0:S1 = 8:1:1")])]),t._v(" "),v("li",[t._v("eden: åˆš new å‡ºæ¥çš„å¯¹è±¡ä¼šæ”¾åˆ°è¿™é‡Œ,ç»å†è¿‡ä¸€æ¬¡å›æ”¶åè¢«æ”¾åˆ° S åŒº")]),t._v(" "),v("li",[t._v("Survivor: æ¯æ¬¡å›æ”¶ä¼šå°†å¯¹è±¡ä»ä¸€ä¸ªåŒºç§»åŠ¨åˆ°å¦ä¸€ä¸ªåŒº,ç„¶åæ¸…ç†å‹ç¼©æ—§åŒº,å¦‚æ­¤åå¤;æ¯ç»å†ä¸€æ¬¡æ¸…ç†å¯¹è±¡å¹´é¾„+1 å²,åˆ° 16 å²æ—¶ç§»åŠ¨åˆ°è€å¹´ä»£")])])]),t._v(" "),v("li",[t._v("è€å¹´ä»£\n"),v("ul",[v("li",[t._v("è€å¹´ä»£çš„GCåç§°å«  "),v("code",[t._v("Full GC")]),t._v("æˆ–"),v("code",[t._v("Major GC")])])])])]),t._v(" "),v("h2",{attrs:{id:"_6-åƒåœ¾å›æ”¶å™¨çš„åˆ†ç±»"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-åƒåœ¾å›æ”¶å™¨çš„åˆ†ç±»"}},[t._v("#")]),t._v(" 6. åƒåœ¾å›æ”¶å™¨çš„åˆ†ç±»")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("ä»¥ä¸‹å›¾æˆªæ­¢è‡³ 14 ç‰ˆæœ¬.")]),t._v(" "),v("p",[t._v("åƒåœ¾å›æ”¶å™¨çš„è¿›åŒ–è¿‡ç¨‹å°±æ˜¯æ ¹æ® å†…å­˜è¶Šæ¥è¶Šå¤§,STW çš„æ—¶é—´è¶Šæ¥è¶ŠçŸ­è¿›è¡Œçš„,ä»åˆ†ä»£æ¼”åŒ–åˆ°ä¸åˆ†å¸¦")]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406000115_Y1O9z0_Screenshot.jpeg",alt:"åƒåœ¾å›æ”¶å™¨çš„åˆ†ç±»"}})]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406031427_my9lNp_Screenshot.jpeg",alt:"åƒåœ¾å›æ”¶å™¨çš„åˆ†ç±»2"}})])]),t._v(" "),v("h3",{attrs:{id:"_6-1-åˆ†ç±»"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-åˆ†ç±»"}},[t._v("#")]),t._v(" 6.1. åˆ†ç±»")]),t._v(" "),v("p",[v("strong",[t._v("æŒ‰æ—¶ä»£åˆ†:")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}},[t._v("æ—¶ä»£")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("å›æ”¶å™¨")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("é€‚ç”¨å†…å­˜")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("è¯´æ˜")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("è¿œå¤")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("Serial")]),t._v("ã€"),v("code",[t._v("Serial Old")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("å‡ ç™¾ M")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("å•çº¿ç¨‹å›æ”¶å™¨ éœ€"),v("code",[t._v("STW")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("å¤ä»£")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("Parallel Scavenge")]),t._v("ï¼Œ"),v("code",[t._v("Parallel Old")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("æœ€å¥½æ˜¯ 3-4G,å½“ç„¶åæ¥ä¸ª G ä¹Ÿè¡Œ")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("(8 ç‰ˆæœ¬é»˜è®¤) å¤šçº¿ç¨‹å›æ”¶å™¨ éœ€"),v("code",[t._v("STW")])])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("è¿‘ç°ä»£")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("ParNew")]),t._v("ã€"),v("code",[t._v("CMS")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("åæ¥ä¸ª G")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("ParNew æ˜¯ä¸ºäº†é€‚åº” CMS è€Œè¯ç”Ÿçš„")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("ç°ä»£")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("G1")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("ç†è®ºä¸Šæœ€å¤§ 64G")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("9 ç‰ˆæœ¬é»˜è®¤, 8 ç‰ˆæœ¬å¯ä»¥æ‰‹åŠ¨æŒ‡å®š")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("æœªæ¥")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[v("code",[t._v("ZGC")]),t._v("ã€"),v("code",[t._v("Shenandoah")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("T çº§åˆ«")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("ZGC: Open JDK 11 é»˜è®¤,"),v("code",[t._v("å­˜åœ¨ä¸ç¨³å®šçš„åœ°æ–¹,æ‰€ä»¥Oracleçš„JDKæ²¡æœ‰é»˜è®¤")])])])])]),t._v(" "),v("p",[v("strong",[t._v("æŒ‰çº¿ç¨‹åˆ†:")])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("å•çº¿ç¨‹å›æ”¶å™¨")])]),t._v(" "),v("ul",[v("li",[t._v("Serialã€Serial Old")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("å¤šçº¿ç¨‹å›æ”¶å™¨")])]),t._v(" "),v("ul",[v("li",[t._v("Parallelï¼ŒParallel Old, ParNewã€CMS ã€G1ã€ ZGCã€Shenandoah")])])])]),t._v(" "),v("p",[v("strong",[t._v("æŒ‰æ˜¯å¦åˆ†ä»£:")])]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("åˆ†ä»£å›æ”¶å™¨")])]),t._v(" "),v("ul",[v("li",[t._v("Serialã€Serial Old ã€Parallelï¼ŒParallel Old, ParNewã€CMS")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("ä¸åˆ†å¸¦å›æ”¶å™¨")])]),t._v(" "),v("ul",[v("li",[t._v("G1ã€ ZGCã€Shenandoah")])])]),t._v(" "),v("li",[v("p",[t._v("æ–°ç”Ÿä»£å‡ä½¿ç”¨ å¤åˆ¶ç®—æ³•")])])]),t._v(" "),v("h3",{attrs:{id:"_6-2-åƒåœ¾å›æ”¶å™¨çš„ç»„åˆ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-åƒåœ¾å›æ”¶å™¨çš„ç»„åˆ"}},[t._v("#")]),t._v(" 6.2. åƒåœ¾å›æ”¶å™¨çš„ç»„åˆ")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("ç»„åˆ1:")]),t._v(" Serialã€Serial Old")]),t._v(" "),v("li",[v("code",[t._v("ç»„åˆ2:")]),t._v(" Parallel Scavengeï¼ŒParallel Old "),v("em",[t._v("(ä¿—ç§° PS+PO,JDK8 é»˜è®¤)")])]),t._v(" "),v("li",[v("code",[t._v("ç»„åˆ3:")]),t._v(" ParNewã€CMS")])]),t._v(" "),v("h3",{attrs:{id:"_6-3-å•çº¿ç¨‹-serial-serial-old"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-å•çº¿ç¨‹-serial-serial-old"}},[t._v("#")]),t._v(" 6.3. å•çº¿ç¨‹ Serial/Serial Old")]),t._v(" "),v("blockquote",[v("p",[t._v("ç”¨æˆ·çº¿ç¨‹å’Œ GC çº¿ç¨‹äº¤æ›¿å·¥ä½œ, å½“ GC çº¿ç¨‹(å•çº¿ç¨‹)å·¥ä½œçš„æ—¶å€™ä¼š STW")])]),t._v(" "),v("p",[v("strong",[t._v("Serial:")]),t._v(" ç”¨çš„æ‹·è´ç®—æ³•,å•çº¿ç¨‹\n"),v("strong",[t._v("Serial Old:")]),t._v(" ç”¨çš„æ ‡è®°å‹ç¼©ç®—æ³• mark-sweep-compact,å•çº¿ç¨‹")]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406004627_tXdx9a_Screenshot.jpeg",alt:"æ‰§è¡Œè¿‡ç¨‹"}})]),t._v(" "),v("h3",{attrs:{id:"_6-4-å¤šçº¿ç¨‹-parallel-scavenge-parallel-old"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-å¤šçº¿ç¨‹-parallel-scavenge-parallel-old"}},[t._v("#")]),t._v(" 6.4. å¤šçº¿ç¨‹ Parallel Scavenge/Parallel Old")]),t._v(" "),v("blockquote",[v("p",[t._v("å’Œå•çº¿ç¨‹çš„ GC ç©æ³•ä¸€æ ·,ä¹Ÿæ˜¯ GC çš„æ—¶å€™ä¼š STW..ä½†æ˜¯ GC çš„æ—¶å€™é‡‡ç”¨çš„æ˜¯å¤šçº¿ç¨‹æ–¹å¼")])]),t._v(" "),v("p",[t._v("ç‰¹æ€§:")]),t._v(" "),v("ul",[v("li",[t._v("å¹¶è¡Œçº¿ç¨‹é»˜è®¤å€¼: æ ¸æ•°<=8ä½¿ç”¨æ ¸æ•°, æ ¸æ•°å¤§äº8ä½¿ç”¨(3+æ ¸æ•°*5)/8")]),t._v(" "),v("li",[t._v("ä¼šæ ¹æ®minor gcæ—¶é—´åŠ¨æ€è°ƒæ•´ E/S0/S1åŒºå¤§å°")])]),t._v(" "),v("p",[v("strong",[t._v("Parallel Scavenge:")]),t._v(" ç”¨çš„æ‹·è´ç®—æ³•,å¤šçº¿ç¨‹\n"),v("strong",[t._v("Serial Old:")]),t._v(" ç”¨çš„æ ‡è®°å‹ç¼©ç®—æ³• mark-sweep-compact,å¤šçº¿ç¨‹")]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406010734_mXaOVg_Screenshot.jpeg",alt:"æ‰§è¡Œè¿‡ç¨‹"}})]),t._v(" "),v("h3",{attrs:{id:"_6-5-å¤šçº¿ç¨‹-parnew"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-å¤šçº¿ç¨‹-parnew"}},[t._v("#")]),t._v(" 6.5. å¤šçº¿ç¨‹ ParNew")]),t._v(" "),v("blockquote",[v("p",[t._v("æ–°ä¸€ä»£çš„ Parallel å›æ”¶å™¨ æ‰€ä»¥å« ParNew ,æ”¯æŒåå‡ ä¸ª G çš„å†…å­˜,ä¸»è¦æ˜¯ç”¨æ¥å’Œ CMS é…åˆ")])]),t._v(" "),v("h3",{attrs:{id:"_6-6-å¤šçº¿ç¨‹-cms-9-ç‰ˆæœ¬å‰”é™¤"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-å¤šçº¿ç¨‹-cms-9-ç‰ˆæœ¬å‰”é™¤"}},[t._v("#")]),t._v(" 6.6. å¤šçº¿ç¨‹ CMS (9 ç‰ˆæœ¬å‰”é™¤)")]),t._v(" "),v("p",[v("strong",[t._v("å…³é”®å­—:")])]),t._v(" "),v("ul",[v("li",[t._v("Concurrent Mark Sweep å¹¶å‘æ ‡è®°æ¸…é™¤")]),t._v(" "),v("li",[t._v("å¹¶å‘æ ‡è®°æ¸…é™¤")]),t._v(" "),v("li",[t._v("ä¸»è¦å·¥ä½œåœ¨è€å¹´ä»£")]),t._v(" "),v("li",[t._v("ä¸ä¼šè¿›è¡Œå†…å­˜å‹ç¼©")]),t._v(" "),v("li",[t._v("é…åˆ ParNew/Serial ä½¿ç”¨")])]),t._v(" "),v("blockquote",[v("p",[t._v("CMS æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„åƒåœ¾å›æ”¶å™¨,åœ¨è¿™ä¹‹å‰æ‰€æœ‰çš„åƒåœ¾å›æ”¶éƒ½éœ€è¦æš‚åœå·¥ä½œçº¿ç¨‹,è¿™ä¸ªå›æ”¶å™¨å®ç°äº†åƒåœ¾å›æ”¶çº¿ç¨‹å’Œå·¥ä½œçº¿ç¨‹å¹¶å‘æ‰§è¡Œ\nè™½ç„¶å®ƒæ˜¯ä¸ªé‡Œç¨‹ç¢‘å¼çš„å›æ”¶å™¨,ä½†æ˜¯ JDK æ²¡æœ‰ä»»ä½•ä¸€ä¸ªç‰ˆæœ¬é»˜è®¤ä½¿ç”¨è¿‡å®ƒ,å› ä¸ºå…¶å­˜åœ¨å·¨å¤§ç¼ºé™·;")])]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406020959_YoTesu_Screenshot.jpeg",alt:"CMS"}})]),t._v(" "),v("p",[v("strong",[t._v("CMS å·¥ä½œåˆ†ä¸ºå››ä¸ªæ­¥éª¤:")])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("åˆå§‹æ ‡è®°:")]),t._v(" ä¼šæœ‰å¾ˆçŸ­çš„ STW,æ ‡è®° GC Roots å¯è¾¾çš„è€å¹´ä»£å¯¹è±¡ï¼›")]),t._v(" "),v("li",[v("code",[t._v("å¹¶å‘æ ‡è®°:")]),t._v(" é¡ºç€è·Ÿå¾€ä¸‹æ‰¾,ä¼šå­˜åœ¨ä¸€å®šçš„æ ‡è®°å¤±è¯¯.\n"),v("ul",[v("li",[t._v("æ¯”å¦‚:æ ‡è®°ä¸ºåƒåœ¾ååˆè¢«å¼•ç”¨äº†,æˆ–æŸäº›å¯¹è±¡åœ¨æ‰«æä¹‹åå˜ä¸ºäº†åƒåœ¾(æµ®åŠ¨åƒåœ¾)")]),t._v(" "),v("li",[t._v("æµ®åŠ¨åƒåœ¾åªèƒ½åœ¨ä¸‹ä¸€æ¬¡GCæ—¶å¤„ç†äº†")])])]),t._v(" "),v("li",[v("code",[t._v("é‡æ–°æ ‡è®°:")]),t._v(" ä¼šæœ‰å¾ˆçŸ­çš„ STW, ä¸»è¦ä¸ºä¿®å¤å¹¶å‘æ ‡è®°æ—¶çš„æ¼æ ‡, ä¿®å¤ç¨‹åºè¿è¡ŒæœŸé—´å¯¹è±¡å…³ç³»çš„å˜åŒ–")]),t._v(" "),v("li",[v("code",[t._v("å¹¶å‘æ¸…ç†:")]),t._v(" å¹¶è¡Œæ‰§è¡Œæ¸…ç†(å•GCçº¿ç¨‹)")])]),t._v(" "),v("p",[v("strong",[t._v("å·¨å¤§ç¼ºé™·:")]),t._v(" è€å¹´ä»£ç”¨çš„ç®—æ³•æ˜¯ "),v("code",[t._v("æ ‡è®°-æ¸…é™¤")]),t._v(" ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡,å¹¶ä¸”å®ƒåªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å¯¹è€å¹´ä»£ä»å¤´åˆ°å°¾è¿›è¡Œæ¸…ç†"),v("code",[t._v("(Serial Oldå›æ”¶å™¨)")]),t._v(",å¦‚æœè€å¹´ä»£å†…å­˜æ»¡äº†çš„è¯è¿™ä¸ªè¿‡ç¨‹è€—æ—¶æ— æ³•æƒ³è±¡,ä¼šæ˜¯ç³»ç»Ÿååé‡ä¸‹é™;")]),t._v(" "),v("p",[v("strong",[t._v("ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å‹ç¼©ç®—æ³•?:")]),t._v(" åº”ä¸ºCMSæ˜¯ååé‡ä¼˜å…ˆè€ƒè™‘,è¦å°½é‡å°‘çš„STW, æ‰€ä»¥åœ¨å¹¶å‘æ¸…ç†çš„æ—¶å€™ä½¿ç”¨äº†æ ‡è®°æ¸…é™¤ç®—æ³•. å¦‚æœè¦å‹ç¼©çš„è¯å°±å¿…é¡»STWå¯¹å†…å­˜å¼•ç”¨é‡æ–°æ•´ç†; å½“å†…å­˜ä¸è¶³ä»¥åˆ†é…å¯¹è±¡æ—¶è¿™ä¸ªæ—¶å€™ä¼šè§¦å‘FULL GC, ä¼šSTWå¹¶ä¸”ä¼šæ•´ç†å†…å­˜(å¯ä»¥å‚æ•°è®¾ç½®)")]),t._v(" "),v("h4",{attrs:{id:"_6-6-1-cms-çš„ä¸‰è‰²æ ‡è®°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-1-cms-çš„ä¸‰è‰²æ ‡è®°"}},[t._v("#")]),t._v(" 6.6.1. CMS çš„ä¸‰è‰²æ ‡è®°")]),t._v(" "),v("p",[v("strong",[t._v("å°†æ‰«æçš„å¯¹è±¡åˆ†ä¸ºä¸‰ç§é¢œè‰²:")]),t._v(" "),v("code",[t._v("é»‘,ç°,ç™½")])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("ç™½è‰²å¯¹è±¡")]),t._v(": è¿˜æ²¡æœ‰å¯¹å¯¹è±¡è¿›è¡Œæ ‡è®°(è¯†åˆ«), æ­¤æ—¶æ­¤å¯¹è±¡æœ‰å¯èƒ½æ˜¯æµ®åŠ¨åƒåœ¾")]),t._v(" "),v("li",[v("code",[t._v("ç°è‰²å¯¹è±¡")]),t._v(": å·²ç»ç¡®è®¤äº†ä¸æ˜¯åƒåœ¾,ä½†æ˜¯å†…éƒ¨è¿˜æœ‰æ²¡æœ‰è¯†åˆ«çš„å¯¹è±¡å¼•ç”¨")]),t._v(" "),v("li",[v("code",[t._v("é»‘è‰²å¯¹è±¡")]),t._v(": å·²ç»å®Œå…¨æ‰«æ,(è‡ªèº«å’Œæˆå‘˜å˜é‡éƒ½å·²ç»ç¡®è®¤)æ˜¯åƒåœ¾")])]),t._v(" "),v("p",[v("strong",[t._v("æ ‡è®°çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")])]),t._v(" "),v("ol",[v("li",[t._v("åˆšå¼€å§‹ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯ç™½è‰²ï¼Œæ²¡æœ‰è¢«è®¿é—®ã€‚")]),t._v(" "),v("li",[t._v("å°†GC Rootsç›´æ¥å…³è”çš„å¯¹è±¡ç½®ä¸ºç°è‰²ã€‚")]),t._v(" "),v("li",[t._v("éå†ç°è‰²å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨ï¼Œç°è‰²å¯¹è±¡æœ¬èº«ç½®ä¸ºé»‘è‰²ï¼Œå¼•ç”¨ç½®ä¸ºç°è‰²ã€‚")]),t._v(" "),v("li",[t._v("é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ²¡æœ‰ç°è‰²å¯¹è±¡ä¸ºæ­¢ã€‚")]),t._v(" "),v("li",[t._v("ç»“æŸæ—¶ï¼Œé»‘è‰²å¯¹è±¡å­˜æ´»ï¼Œç™½è‰²å¯¹è±¡å›æ”¶ã€‚")])]),t._v(" "),v("p",[v("em",[t._v("CMS çš„ä¸‰è‰²æ ‡è®°ä¼šå­˜åœ¨æ¼æ ‡,æ‰€ä»¥éœ€è¦ remark é˜¶æ®µ"),v("code",[t._v("(ç¬¬ä¸‰é˜¶æ®µ)")]),t._v("è¿›è¡Œä¿®æ­£")])]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406022455_WQaPy5_Screenshot.jpeg",alt:"ä¸‰è‰²æ ‡è®°"}})]),t._v(" "),v("h5",{attrs:{id:"_6-6-1-1-æ¼æ ‡é—®é¢˜"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-1-1-æ¼æ ‡é—®é¢˜"}},[t._v("#")]),t._v(" 6.6.1.1. æ¼æ ‡é—®é¢˜")]),t._v(" "),v("p",[v("strong",[t._v("æè¿°:")])]),t._v(" "),v("ul",[v("li",[t._v("â‘  åœ¨æ‰«æçš„æ—¶å€™ ABC éƒ½å·²ç»ç¡®è®¤äº†")]),t._v(" "),v("li",[t._v("â‘¡ æ‰«æä¹‹å B å¯¹ C çš„å¼•ç”¨æ¶ˆå¤±äº†,åŒæ—¶ A å¼•ç”¨äº† C")]),t._v(" "),v("li",[t._v("â‘¢ è¿™ä¸ªæ—¶å€™ A çš„é¢œè‰²å¹¶æ²¡æœ‰å˜æ›´è¿‡æ¥,C çš„é¢œè‰²ä¹Ÿæ²¡æœ‰å˜è¿‡æ¥")]),t._v(" "),v("li",[t._v("è¿™ä¸ªé—®é¢˜ä¼šå¯¼è‡´ C è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶äº†")])]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406023614_6o1AQK_Screenshot.jpeg",alt:"æ¼æ ‡é—®é¢˜"}})]),t._v(" "),v("p",[v("strong",[t._v("Cms çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨é‡æ–°æ ‡è®°(é˜¶æ®µä¸‰)æ¥è§£å†³,ä¼š"),v("code",[t._v("STW")]),t._v("çš„å¯¹æ‰€æœ‰å †å†…å­˜è¿›è¡Œé‡æ–°æ‰«æ(å¦‚æœå†…å­˜è¿‡å¤§è¿™ä¸ªè¿‡ç¨‹ä¼šå¾ˆé•¿)")]),t._v(" ,ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¾æ—§ä¼šå‡ºç°æ¼æ ‡ç°è±¡,å› ä¸ºæ˜¯å¤šçº¿ç¨‹çš„;\nä¾‹: "),v("code",[t._v("å¹¶å‘æ—¶ çº¿ç¨‹A å°†æŸä¸ªå¯¹è±¡æ ‡è®°ä¸ºç°è‰²(å› ä¸ºæœ‰äº†æ–°çš„å¼•ç”¨),çº¿ç¨‹B çœ‹åˆ°å·²å…¨éƒ¨æ ‡è®°å®Œ,å°†å¯¹è±¡åˆæ”¹ä¸ºäº†é»‘è‰²")])]),t._v(" "),v("ul",[v("li",[t._v("å¢é‡æ›´æ–°:æ ‡è®°è¿‡ç¨‹ä¸­,ä¼šè·Ÿè¸ªå·²è¢«è®°å½•çš„å¯¹è±¡,å¦‚æœå‘é€äº†å¼•ç”¨èµ‹å€¼å°±ä¼šå°†å¯¹è±¡æ”¹å˜æˆç°è‰²(åŸæœ¬é»‘è‰²å°±ä¼šå˜æˆç°è‰²);")]),t._v(" "),v("li",[t._v("SATB "),v("code",[t._v("Snapshot At The Begining")]),t._v(": æ–°åŠ çš„å¯¹è±¡ä¼šè®°å½•ä¸‹æ¥,è¢«åˆ é™¤å¼•ç”¨çš„å…³ç³»å¯¹è±¡ä¹Ÿä¼šè¢«è®°å½•")])]),t._v(" "),v("blockquote",[v("p",[t._v("å› ä¸º"),v("code",[t._v("è¿™ä¸ªè¿‡ç¨‹æ•ˆç‡å¤ªä½")]),t._v(" å’Œ "),v("code",[t._v("å­˜åœ¨è‡´å‘½ç¼ºé™·")]),t._v(",æ‰€ä»¥åœ¨ 9 ç‰ˆæœ¬è¿™ä¸ªå›æ”¶å™¨å½»åº•æˆä¸ºäº†å†å²;")])]),t._v(" "),v("h3",{attrs:{id:"_6-7-g1"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-g1"}},[t._v("#")]),t._v(" 6.7. G1")]),t._v(" "),v("p",[v("strong",[t._v("å…³é”®è¯:")])]),t._v(" "),v("ul",[v("li",[t._v("(Garbage-First) åƒåœ¾ä¼˜å…ˆ")]),t._v(" "),v("li",[t._v("é€»è¾‘ä¸Šåˆ†ä»£,ç‰©ç†ä¸åˆ†ä»£")]),t._v(" "),v("li",[t._v("åˆ†ä¸º 2048 ä¸ªå—(Region), æ¯ä¸ªregionå¤§å°2-32m")]),t._v(" "),v("li",[t._v("è½¯å®æ—¶,ä½å»¶æ—¶,å¯è®¾å®šç›®æ ‡(STW æ—¶é—´)")]),t._v(" "),v("li",[t._v("ç”¨äºæ›¿ä»£ CMS")])]),t._v(" "),v("blockquote",[v("p",[t._v("å¼€å¯äº†åˆ†åŒºå›æ”¶çš„æ—¶ä»£, ç†è®ºä¸Šæœ€å¤§æ”¯æŒ 64G å·¦å³çš„å†…å­˜(å› ä¸ºæ”¯æŒ 2048 ä¸ªå—,æ¯ä¸ªå—æœ€å¤§ 32MB);åœ¨ 7 ç‰ˆæœ¬åŠ å…¥,9 ç‰ˆæœ¬é»˜è®¤")])]),t._v(" "),v("p",[v("strong",[t._v("å†…éƒ¨ç»†èŠ‚:")])]),t._v(" "),v("ul",[v("li",[t._v("æ— éœ€å›æ”¶æ•´ä¸ªå †,è€Œæ˜¯é€‰æ‹©ä¸€ä¸ª Collection Set ï¼ˆCSetï¼‰è¿›è¡Œå›æ”¶")]),t._v(" "),v("li",[t._v("ä¸¤ç§ GC\n"),v("ul",[v("li",[v("code",[t._v("Fully Young GC")]),t._v(" å›æ”¶å¹´è½»ä»£")]),t._v(" "),v("li",[v("code",[t._v("Mixed GC")]),t._v(" é€‰æ‹© N ä¸ª(é»˜è®¤ 10 ä¸ª)åƒåœ¾å¤šçš„åŒºåŸŸå›æ”¶")])])]),t._v(" "),v("li",[t._v("ä¼˜å…ˆå›æ”¶åƒåœ¾æœ€å¤šçš„åŒºåŸŸ Region")]),t._v(" "),v("li",[v("code",[t._v("RS (Remembered Set)")]),t._v(" æ¯ä¸€ä¸ª Rgion éƒ½æœ‰ä¸€ä¸ª RS,ç”¨äºè®°å½•æœ¬åŒºåŸŸçš„å¯¹è±¡è¢«å…¶ä»–åŒºåŸŸå¯¹è±¡å¼•ç”¨çš„ä¿¡æ¯\n"),v("img",{attrs:{src:"http://md.yike.link/20200406154022_EkBwzU_Screenshot.jpeg",alt:"å†…å­˜æ¨¡å‹"}}),t._v(" "),v("img",{attrs:{src:"http://md.yike.link/20200406034728_IaQUtp_Screenshot.jpeg",alt:"å†…å­˜æ¨¡å‹"}})])]),t._v(" "),v("h4",{attrs:{id:"_6-7-1-rs-remembered-set-è·¨ä»£-è·¨-region-å¼•ç”¨é—®é¢˜"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-1-rs-remembered-set-è·¨ä»£-è·¨-region-å¼•ç”¨é—®é¢˜"}},[t._v("#")]),t._v(" 6.7.1. RS (Remembered Set) - è·¨ä»£/è·¨ Region å¼•ç”¨é—®é¢˜")]),t._v(" "),v("p",[v("img",{attrs:{src:"http://md.yike.link/20200406035530_TD2NCg_Screenshot.jpeg",alt:"è·¨ä»£/è·¨Regionå¼•ç”¨é—®é¢˜"}})]),t._v(" "),v("ul",[v("li",[v("p",[t._v("ä¸€ä¸ªåŒºåŸŸè¢«åˆ†æˆè‹¥å¹²ä¸ªå¡ç‰‡,å¦‚æœ Region1 ä¸­çš„æŸä¸ªå¯¹è±¡å¼•ç”¨äº†åˆ«çš„ Region2 çš„å¡ç‰‡,å°±æŠŠè¿™ä¸ªå…³ç³»è®°å½•åœ¨è¢«å¼•ç”¨çš„"),v("code",[t._v("RS (Remembered Set)")]),t._v("ä¸­,ç”¨äºè®°å½•è°å¼•ç”¨äº†æˆ‘;")])]),t._v(" "),v("li",[v("p",[t._v("å½“å›æ”¶ Region2 çš„æ—¶å€™,æˆ‘é€šè¿‡ Remerbered Set å°±èƒ½çŸ¥é“è°å¼•ç”¨äº†æˆ‘,ç„¶åæ ¹æ® RS æ¥æ‰¾åˆ°å¯¹è±¡è¿›è¡Œæ‰«æå°±è¡Œäº†,é¿å…äº†æ•´ä¸ªå †çš„æ‰«æ")])]),t._v(" "),v("li",[v("p",[t._v("Remembered Set ä¸­æ¯ä¸ª entry è¦†ç›– 512Byte çš„å†…å­˜ç©ºé—´")])]),t._v(" "),v("li",[v("p",[t._v("å¯é€šè¿‡ RS çš„è®°å½•æ‰¾åˆ°å…·ä½“çš„å†…å­˜åŒºåŸŸ(ç©ºé—´æ¢æ—¶é—´,ä¼šå¸¦æ¥ 5-10%çš„é¢å¤–ç©ºé—´)")])]),t._v(" "),v("li",[v("p",[t._v("å½“å¯¹åº”çš„å†…å­˜ç©ºé—´å‘ç”Ÿæ”¹å˜æ—¶æ ‡è®°ä¸º"),v("code",[t._v("Dirty")])])])]),t._v(" "),v("p",[v("strong",[t._v("Remembered Set çš„æ›´æ–°")])]),t._v(" "),v("p",[t._v("é€šè¿‡å†™å±éšœ "),v("code",[t._v("Write Barrier")]),t._v("åœ¨å¯¹è±¡å¼•ç”¨å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ JVM ä¼šæ³¨å…¥ä¸€å°æ®µä»£ç æ¥è®°å½•æŒ‡é’ˆçš„å˜åŒ–,"),v("code",[t._v("ä¸ä¼šç«‹åˆ»æ”¹å˜RS,è€Œæ˜¯å…ˆå­˜å…¥é˜Ÿåˆ—")]),t._v(",ç­‰å¾…è¢« Refinement çº¿ç¨‹å¤„ç†...è¿™ç§æ–¹å¼ä¸ä¼šäº§ç”Ÿé”™æ ‡")]),t._v(" "),v("ul",[v("li",[t._v("å½“æ›´æ–°æŒ‡é’ˆæ—¶\n"),v("ul",[v("li",[t._v("æ ‡è®° Card ä¸º Dirty")]),t._v(" "),v("li",[t._v("å°† Card å­˜å…¥ DirtyCardQueue ä¸­,ç­‰å¾…è¢«æ’ç©º")]),t._v(" "),v("li",[t._v("ç™½/ç»¿/é»„/çº¢åˆ†åˆ«ä»£è¡¨ Dirty çš„å¤šå°‘")])])])]),t._v(" "),v("p",[v("strong",[t._v("ç™½è‰²:")]),t._v(" ä»£è¡¨å¼•ç”¨ä¿®æ”¹ä¸é¢‘ç¹,ä¸è¿›è¡Œæ’ç©º;"),v("br"),t._v(" "),v("strong",[t._v("ç»¿è‰²:")]),t._v(" ä»£è¡¨æ•°æ®ä¿®æ”¹è¾ƒé¢‘ç¹,è¿™ä¸ªæ—¶å€™ Refinement çº¿ç¨‹ä¼šè¢«æ¿€æ´»æ’ç©º "),v("code",[t._v("é€šè¿‡:XX:G1ConcRefinementGreenZone=N æ¥æŒ‡å®šå¤„ç†çº¿ç¨‹æ•°")]),v("br"),t._v(" "),v("strong",[t._v("é»„è‰²:")]),t._v(" ä»£è¡¨ä¿®æ”¹çš„å¯¹è±¡ç‰¹åˆ«å¤šäº†,è¿™ä¸ªæ—¶å€™ä¼šå¼€å¯æ‰€æœ‰çš„ Refinement çº¿ç¨‹è¿›è¡Œæ’ç©º"),v("code",[t._v("é€šè¿‡:XX:G1ConcRefinementYellowZone=N æ¥æŒ‡å®šå¤„ç†çº¿ç¨‹æ•°")]),v("br"),t._v(" "),v("strong",[t._v("çº¢è‰²:")]),t._v(" è¿™ä¸ªæ—¶å€™ä¼š STW æš‚åœç”¨æˆ·çº¿ç¨‹,æ‰€æœ‰çº¿ç¨‹ä¸€èµ·åŠ å…¥åˆ°æ’ç©ºå·¥ä½œä¸­"),v("code",[t._v("é€šè¿‡:XX:G1ConcRefinementYellowZone=N æ¥æŒ‡å®šå¤„ç†çº¿ç¨‹æ•°")])]),t._v(" "),v("h4",{attrs:{id:"_6-7-2-fully-young-gc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-2-fully-young-gc"}},[t._v("#")]),t._v(" 6.7.2. Fully Young GC")]),t._v(" "),v("p",[v("code",[t._v("è¿™ä¸ªæ“ä½œä¼šSTW")])]),t._v(" "),v("ul",[v("li",[t._v("G1 ä¼šè®°å½•æ¯ä¸ªé˜¶æ®µçš„æ‰§è¡Œæ—¶é—´,ç”¨äºå­—æ®µè°ƒä¼˜")]),t._v(" "),v("li",[t._v("è®°å½• Eden/Survivor çš„æ•°é‡å’Œæ—¶é—´\n"),v("ul",[v("li",[t._v("æ ¹æ®æš‚åœç›®æ ‡æ¥è‡ªåŠ¨è°ƒæ•´ E å’Œ S åŒºçš„ Region çš„æ•°é‡")]),t._v(" "),v("li",[t._v("æš‚åœç›®æ ‡è¶ŠçŸ­,E åŒºçš„æ•°é‡å°±è¶Šå°‘\n"),v("ul",[v("li",[t._v("E åŒºæ•°é‡è¶Šå°‘,GC STW çš„æ—¶é—´å°±ä¼šè¶ŠçŸ­,å°±ä¼šå¯¼è‡´é¢‘ç¹çš„ Fully Young GC")]),t._v(" "),v("li",[t._v("E åŒºçš„æ•°é‡è¶Šå°‘,GC çš„æ¬¡æ•°è¶Šå¤š,å°±ä¼šå ç”¨è¶Šå¤šçš„ CPU èµ„æº,é‚£ä¹ˆååé‡å°±ä¼šä¸‹é™")])])])])]),t._v(" "),v("li",[v("code",[t._v("-XX:PrintAduotiveSizePolicy")]),t._v(" è‡ªé€‚åº”çš„è°ƒæ•´ STW æ—¶é—´")]),t._v(" "),v("li",[v("code",[t._v("-XX:PrintTenuringDistribution")]),t._v(" æ‰“å°è€å¹´ä»£çš„åˆ†éƒ¨")])]),t._v(" "),v("h4",{attrs:{id:"_6-7-3-old-gc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-3-old-gc"}},[t._v("#")]),t._v(" 6.7.3. Old GC")]),t._v(" "),v("ul",[v("li",[t._v("é€šè¿‡"),v("code",[t._v("-XX:InitialingHeapOccupancyPercent=N")]),t._v("æŒ‡å®šè¾¾åˆ°ä»€ä¹ˆç¨‹åº¦æ—¶è§¦å‘ é»˜è®¤ 45")]),t._v(" "),v("li",[t._v("å½“å †ç”¨é‡åˆ°è¾¾ä¸€å®šç¨‹åº¦æ—¶è§¦å‘,è¿™ä¸ª "),v("code",[t._v("GC æ˜¯å¹¶å‘æ‰§è¡Œçš„")])]),t._v(" "),v("li",[v("code",[t._v("ä¼šæœ‰æ¼æ ‡é”™æ ‡é—®é¢˜,ä¸‰è‰²æ ‡è®°è§£å†³")])])]),t._v(" "),v("p",[v("strong",[t._v("æµç¨‹:")]),t._v(" "),v("img",{attrs:{src:"http://md.yike.link/20200406141916_fHkrvY_Screenshot.jpeg",alt:"æµç¨‹"}})]),t._v(" "),v("ul",[v("li",[t._v("STW å®é™…ä¸Šå°±æ˜¯è¿›è¡Œä¸€æ¬¡ "),v("code",[t._v("Fully Young GC")])]),t._v(" "),v("li",[t._v("å¹¶å‘åˆå§‹æ ‡è®°"),v("code",[t._v("(ä¸‰è‰²æ ‡è®°,ä¸åœç”¨æˆ·çº¿ç¨‹çš„æƒ…å†µä¸‹æ ‡è®°)")])]),t._v(" "),v("li",[t._v("STW é‡æ–°æ ‡è®°(SATB),å¹¶å¤„ç†")]),t._v(" "),v("li",[t._v("æ¸…ç†")])]),t._v(" "),v("h5",{attrs:{id:"_6-7-3-1-ä¸‰è‰²æ ‡è®°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-3-1-ä¸‰è‰²æ ‡è®°"}},[t._v("#")]),t._v(" 6.7.3.1. ä¸‰è‰²æ ‡è®°")]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("åŸå› :")]),t._v(" GC roots æ˜¯é»‘è‰²,é¦–å…ˆæŠŠæ‰€æœ‰ç°è‰²æ”¾å…¥åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­, ç„¶åä»é˜Ÿåˆ—ä¸­æ‹¿å‡ºä¸€ä¸ªç°è‰²çš„å¯¹è±¡å¯¹å…¶æ‰€æœ‰çš„å¼•ç”¨è¿›è¡Œæ‰«ç ,ç„¶åå°†å…¶æ”¹ä¸ºé»‘è‰², åœ¨æŸä¸ªæ—¶åˆ»æ‰€æœ‰çš„ç°è‰²éƒ½å˜æˆé»‘è‰²ä»£è¡¨æ ‡è®°å®Œæˆ,ä½†æ˜¯ç”±äºæ˜¯å¹¶å‘æ‰§è¡Œçš„,ç”¨æˆ·çº¿ç¨‹ä¼šéšæ—¶å¯¹å¼•ç”¨è¿›è¡Œä¿®æ”¹")])]),t._v(" "),v("p",[v("strong",[t._v("è§£å†³æ–¹æ¡ˆ:")]),t._v(" é€šè¿‡ "),v("code",[t._v("SATB (Snapshot At The Begining)")]),t._v(" + "),v("code",[t._v("Write Barrier")]),t._v(" è§£å†³;")]),t._v(" "),v("p",[v("em",[t._v("å°±æ˜¯é€šè¿‡å†™å±éšœåœ¨æŒ‡é’ˆå‘ç”Ÿæ”¹å˜æ—¶è®°å½•è¿™ä¸ªçŠ¶æ€(RS è®°å½•),å¹¶ä¸”å°†å¯¹è±¡æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­,ç­‰ç­‰çº¿ç¨‹å¤„ç†")])]),t._v(" "),v("h4",{attrs:{id:"_6-7-4-mixed-gc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-4-mixed-gc"}},[t._v("#")]),t._v(" 6.7.4. Mixed GC")]),t._v(" "),v("p",[t._v("å’Œå¹´è½»ä»£ GC ç”¨çš„ç”¨äºçš„ç®—æ³•(STW - Parallel Scavenge)")]),t._v(" "),v("ul",[v("li",[t._v("é€‰æ‹©è‹¥å¹²ä¸ª Region è¿›è¡Œæ¸…ç†,åŒ…å«æ–°ç”Ÿä»£è€å¹´ä»£ (é»˜è®¤ 1/8 çš„ Region,é€‰æ‹©åƒåœ¾æœ€å¤šçš„åŒºåŸŸ)")]),t._v(" "),v("li",[t._v("è¿›è¡Œ STW çš„æ¸…ç†, "),v("code",[t._v("å› ä¸ºåŒºåŸŸåƒåœ¾å¾ˆå¤šä»£è¡¨è¦copyçš„å¯¹è±¡å°±è¶Šå°‘,è¦Copyçš„å¯¹è±¡å°‘æ‰€ä»¥STWçš„æ—¶é—´å°±ä¼šå¾ˆçŸ­")]),t._v("(é€‰æ‹©åƒåœ¾æœ€å¤šåŒºåŸŸçš„åŸå› )")])]),t._v(" "),v("blockquote",[v("p",[t._v("å¥½å¤„: åŒæ—¶è¿›è¡Œè€å¹´ä»£å’Œå¹´è½»çš„æ¸…ç†,å¹¶ä¸”æ•ˆç‡æé«˜,ä½å»¶æ—¶,ä¼šæ ¹æ®è®¾å®š STW ç›®æ ‡æ¥æ§åˆ¶æ—¶é—´")])]),t._v(" "),v("h3",{attrs:{id:"_6-8-zgc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-8-zgc"}},[t._v("#")]),t._v(" 6.8. ZGC")]),t._v(" "),v("p",[t._v("æœªæ¥çš„å‘å±•æ–¹å‘,å¤ªè¶…å‰,ä»¥åç ”ç©¶")]),t._v(" "),v("blockquote",[v("p",[t._v("è¿™ä¸ª ZGC æ˜¯ OpenJDK11 çš„é»˜è®¤å›æ”¶å™¨,é‡‡ç”¨ æŸ“è‰²æŒ‡é’ˆå’Œè™šæ‹Ÿåœ°å€çš„æ–¹å¼å®ç°\næ•ˆç‡æé«˜, å¹¶å‘æ ‡è®°,å¹¶å‘å‹ç¼©,å¹¶å‘ Copy å¹¶ä¸”ä¸åˆ†åŒº")])]),t._v(" "),v("h2",{attrs:{id:"_7-å †å¤§å°çš„è°ƒä¼˜"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_7-å †å¤§å°çš„è°ƒä¼˜"}},[t._v("#")]),t._v(" 7. å †å¤§å°çš„è°ƒä¼˜")]),t._v(" "),v("p",[t._v("ä¸€èˆ¬æ¥è¯´,å †è¶Šå¤§è¶Šå¥½, é™ä½GCé¢‘ç‡,ä½†æ˜¯ä¼šå¢åŠ å•æ¬¡GCçš„è€—æ—¶")]),t._v(" "),v("p",[t._v("32ä½ç³»ç»Ÿæœ€å¤§æ”¯æŒ2Gå†…å­˜,ä½†æ˜¯64ä½æ— é™åˆ¶")]),t._v(" "),v("p",[t._v("ä¼˜å…ˆè°ƒä¼˜æ–°ç”Ÿä»£(98%è¯´æ³•)")]),t._v(" "),v("h2",{attrs:{id:"_8-å››ç§å¼•ç”¨"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_8-å››ç§å¼•ç”¨"}},[t._v("#")]),t._v(" 8. å››ç§å¼•ç”¨")]),t._v(" "),v("ul",[v("li",[t._v("å¼ºå¼•ç”¨\n"),v("ul",[v("li",[t._v("æŠŠä¸€ä¸ªå¯¹è±¡èµ‹ç»™ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œè¿™ä¸ªå¼•ç”¨å˜é‡å°±æ˜¯ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚å½“ä¸€ä¸ªå¯¹è±¡è¢«å¼ºå¼•ç”¨å˜é‡å¼•ç”¨æ—¶,å®ƒæ˜¯ä¸å¯èƒ½è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶çš„;")])])]),t._v(" "),v("li",[t._v("è½¯åº”ç”¨\n"),v("ul",[v("li",[t._v("è½¯å¼•ç”¨éœ€è¦ç”¨ SoftReference ç±»æ¥å®ç°ï¼Œå¯¹äºåªæœ‰è½¯å¼•ç”¨çš„å¯¹è±¡æ¥è¯´ï¼Œå½“ç³»ç»Ÿå†…å­˜è¶³å¤Ÿæ—¶å®ƒä¸ä¼šè¢«å›æ”¶ï¼Œå½“ç³»ç»Ÿå†…å­˜ç©ºé—´ä¸è¶³æ—¶å®ƒä¼šè¢«å›æ”¶ã€‚è½¯å¼•ç”¨é€šå¸¸ç”¨åœ¨å¯¹å†…å­˜æ•æ„Ÿçš„ç¨‹åºä¸­ã€‚")])])]),t._v(" "),v("li",[t._v("å¼±å¼•ç”¨\n"),v("ul",[v("li",[t._v("å¼±å¼•ç”¨éœ€è¦ç”¨ WeakReference ç±»æ¥å®ç°ï¼Œå®ƒæ¯”è½¯å¼•ç”¨çš„ç”Ÿå­˜æœŸæ›´çŸ­ï¼Œå¯¹äºåªæœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ¥è¯´ï¼Œåªè¦åƒåœ¾å›æ”¶æœºåˆ¶ä¸€è¿è¡Œï¼Œä¸ç®¡ JVM çš„å†…å­˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿï¼Œæ€»ä¼šå›æ”¶è¯¥å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚")])])]),t._v(" "),v("li",[t._v("è™šå¼•ç”¨\n"),v("ul",[v("li",[t._v("è™šå¼•ç”¨éœ€è¦ PhantomReference ç±»æ¥å®ç°ï¼Œå®ƒä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—è”åˆä½¿ç”¨ã€‚è™šå¼•ç”¨çš„ä¸»è¦ä½œç”¨æ˜¯è·Ÿè¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶çš„çŠ¶æ€ã€‚")])])])]),t._v(" "),v("h2",{attrs:{id:"_9-åˆ†ä»£å›æ”¶-ä¸-åˆ†åŒºå›æ”¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_9-åˆ†ä»£å›æ”¶-ä¸-åˆ†åŒºå›æ”¶"}},[t._v("#")]),t._v(" 9. åˆ†ä»£å›æ”¶ ä¸ åˆ†åŒºå›æ”¶")]),t._v(" "),v("ul",[v("li",[t._v("åˆ†åŒºç®—æ³•åˆ™å°†æ•´ä¸ªå †ç©ºé—´åˆ’åˆ†ä¸ºè¿ç»­çš„ä¸åŒå°åŒºé—´, æ¯ä¸ªå°åŒºé—´ç‹¬ç«‹ä½¿ç”¨, ç‹¬ç«‹å›æ”¶. è¿™æ ·åšçš„\nå¥½å¤„æ˜¯å¯ä»¥æ§åˆ¶ä¸€æ¬¡å›æ”¶å¤šå°‘ä¸ªå°åŒºé—´ , æ ¹æ®ç›®æ ‡åœé¡¿æ—¶é—´, æ¯æ¬¡åˆç†åœ°å›æ”¶è‹¥å¹²ä¸ªå°åŒºé—´(è€Œä¸æ˜¯\næ•´ä¸ªå †), ä»è€Œå‡å°‘ä¸€æ¬¡ GC æ‰€äº§ç”Ÿçš„åœé¡¿ã€‚")]),t._v(" "),v("li",[t._v("å½“å‰ä¸»æµ VM åƒåœ¾æ”¶é›†éƒ½é‡‡ç”¨â€åˆ†ä»£æ”¶é›†â€(Generational Collection)ç®—æ³•, è¿™ç§ç®—æ³•ä¼šæ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—, å¦‚ JVM ä¸­çš„ æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å„å¹´ä»£ç‰¹ç‚¹åˆ†åˆ«é‡‡ç”¨æœ€é€‚å½“çš„ GC ç®—æ³•")])])])}),[],!1,null,null,null);_.default=l.exports}}]);