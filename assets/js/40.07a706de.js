(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{474:function(t,a,s){"use strict";s.r(a);var _=s(34),v=Object(_.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"cap-å®šç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cap-å®šç†"}},[t._v("#")]),t._v(" CAP å®šç†")]),t._v(" "),s("ul",[s("li",[t._v("ä¸€è‡´æ€§ C (Consistency)\n"),s("ul",[s("li",[s("strong",[t._v("å¼ºä¸€è‡´æ€§")])]),t._v(" "),s("li",[s("strong",[t._v("å¼±ä¸€è‡´æ€§(æœ€ç»ˆä¸€è‡´æ€§)")])])])]),t._v(" "),s("li",[t._v("å¯ç”¨æ€§ A (Availability)")]),t._v(" "),s("li",[t._v("åˆ†åŒºå®¹é”™æ€§ P (Partition tolerance)")])]),t._v(" "),s("blockquote",[s("p",[t._v("è¦è¾¾åˆ°è‰¯å¥½çš„å“åº”æ€§èƒ½æ¥æé«˜ç”¨æˆ·ä½“éªŒï¼Œå› æ­¤ä¸€èˆ¬éƒ½ä¼šé€‰æ‹©APä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200711124229_7Iyyxd_Screenshot.jpeg",alt:"CAP"}})]),t._v(" "),s("h3",{attrs:{id:"å¼ºä¸€è‡´æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼ºä¸€è‡´æ€§"}},[t._v("#")]),t._v(" å¼ºä¸€è‡´æ€§")]),t._v(" "),s("ul",[s("li",[t._v("Paxos ç®—æ³•")]),t._v(" "),s("li",[t._v("ä¸»ä»åŒæ­¥")]),t._v(" "),s("li",[t._v("Raft ç®—æ³•")]),t._v(" "),s("li",[t._v("ZAB")])]),t._v(" "),s("h3",{attrs:{id:"å¼±ä¸€è‡´æ€§-æœ€ç»ˆä¸€è‡´æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼±ä¸€è‡´æ€§-æœ€ç»ˆä¸€è‡´æ€§"}},[t._v("#")]),t._v(" å¼±ä¸€è‡´æ€§(æœ€ç»ˆä¸€è‡´æ€§)")]),t._v(" "),s("ul",[s("li",[t._v("DNS")]),t._v(" "),s("li",[t._v("Gossip")])]),t._v(" "),s("h2",{attrs:{id:"base-ç†è®º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#base-ç†è®º"}},[t._v("#")]),t._v(" BASE ç†è®º")]),t._v(" "),s("ul",[s("li",[t._v("åŸºæœ¬å¯ç”¨ (Basically Available)")]),t._v(" "),s("li",[t._v("è½¯çŠ¶æ€ (Soft state)")]),t._v(" "),s("li",[t._v("æœ€ç»ˆä¸€è‡´æ€§ (Eventual consistency)")])]),t._v(" "),s("blockquote",[s("p",[t._v("Baseç†è®ºæ˜¯å¯¹CAPä¸­APçš„ä¸€ä¸ªæ‰©å±•ï¼Œé€šè¿‡ç‰ºç‰²å¼ºä¸€è‡´æ€§æ¥è·å¾—å¯ç”¨æ€§ï¼Œå½“å‡ºç°æ•…éšœæ—¶è¦ä¿è¯æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ï¼Œå…è®¸æ•°æ®åœ¨ä¸€æ®µæ—¶é—´å†…çš„ä¸ä¸€è‡´ï¼Œä½†æœ€ç»ˆè¾¾åˆ°ä¸€è‡´æ€§çš„çŠ¶æ€ï¼Œä¹Ÿå«åšæŸ”æ€§äº‹åŠ¡")])]),t._v(" "),s("h2",{attrs:{id:"æ–¹å¼ä¸€-xa-è§„èŒƒ-jta-åè®®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹å¼ä¸€-xa-è§„èŒƒ-jta-åè®®"}},[t._v("#")]),t._v(" æ–¹å¼ä¸€: XA è§„èŒƒ/JTA åè®®")]),t._v(" "),s("p",[t._v("éœ€è¦æ•°æ®å‚å•†æ”¯æŒ XA è§„èŒƒ,éœ€è¦ Java ç»„ä»¶æœ‰ atomikos ç­‰")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("åŸºäºæ•°æ®åº“çš„XAåè®®æ¥å®ç°çš„2PCæ–¹æ¡ˆå°±å«XA\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å…·ä½“äº¤äº’")]),t._v(" "),s("p",[t._v("1.TMï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰å‘APï¼ˆåº”ç”¨ï¼‰æä¾›ç¼–ç¨‹æ¥å£ï¼ŒAPé€šè¿‡TMæäº¤åŠå›æ»šäº‹åŠ¡"),s("br"),t._v("\n2.TMé€šè¿‡XAåè®®æ¥é€šçŸ¥æ•°æ®åº“è¿›è¡Œäº‹åŠ¡çš„å¼€å¯ã€å…³é—­ã€æäº¤ã€å›æ»š")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("æµç¨‹")]),t._v(" "),s("p",[t._v("1.å‡†å¤‡é˜¶æ®µï¼šRMä¼šæ‰§è¡Œå®é™…çš„ä¸šåŠ¡æ“ä½œï¼Œä½†ä¸ä¼šæäº¤äº‹åŠ¡ï¼ˆä¼šé”å®šèµ„æºï¼‰"),s("br"),t._v("\n2.æäº¤é˜¶æ®µï¼šRMæ¥æ”¶åˆ°å‡†å¤‡é˜¶æ®µæ‰§è¡Œå›å¤ï¼Œç„¶åè¿›è¡Œäº‹åŠ¡æäº¤æˆ–å›æ»šæ“ä½œï¼ˆé‡Šæ”¾èµ„æºï¼‰")])]),t._v(" "),s("h2",{attrs:{id:"æ–¹å¼äºŒ-å¼‚æ­¥æ ¡å¯¹æ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹å¼äºŒ-å¼‚æ­¥æ ¡å¯¹æ•°æ®"}},[t._v("#")]),t._v(" æ–¹å¼äºŒ: å¼‚æ­¥æ ¡å¯¹æ•°æ®")]),t._v(" "),s("p",[t._v("åœ¨æ”¯ä»˜è¡Œä¸šæ¯”è¾ƒå¤š,å¯¹è´¦å•å½¢å¼")]),t._v(" "),s("h2",{attrs:{id:"æ–¹å¼ä¸‰-å¯é æ¶ˆæ¯-mq-ğŸ’¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹å¼ä¸‰-å¯é æ¶ˆæ¯-mq-ğŸ’¥"}},[t._v("#")]),t._v(" æ–¹å¼ä¸‰: å¯é æ¶ˆæ¯(MQ) ğŸ’¥")]),t._v(" "),s("p",[t._v("å¼‚æ­¥åœºæ™¯;é€šç”¨æ€§å¼º;æ‰©å±•æ€§é«˜;")]),t._v(" "),s("h2",{attrs:{id:"æ–¹å¼å››-tcc-ç¼–ç¨‹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹å¼å››-tcc-ç¼–ç¨‹å¼"}},[t._v("#")]),t._v(" æ–¹å¼å››: TCC ç¼–ç¨‹å¼")]),t._v(" "),s("p",[t._v("ä¸€èˆ¬æ¥è®²éœ€è¦æœ‰ä¸€å¥—æ¡†æ¶æ”¯æ’‘..éœ€è¦å…¬å¸è‡ªå·±å®šä¹‰åè®®")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("ä¸¤é˜¶æ®µæäº¤è¡¥å¿æ€§ä¸»è¦åˆ†ä¸ºä¸¤æ­¥å®ç°")]),t._v(" "),s("p",[t._v("tryé˜¶æ®µã€confirmé˜¶æ®µ/Cancelé˜¶æ®µã€‚")]),t._v(" "),s("ul",[s("li",[t._v("tryé˜¶æ®µï¼šä¸»è¦å¯¹ç³»ç»Ÿèµ„æºè¿›è¡Œé¢„ç•™å’Œæ£€æŸ¥")]),t._v(" "),s("li",[t._v("confirmé˜¶æ®µï¼šå½“tryé˜¶æ®µå…¨éƒ¨æˆåŠŸæ—¶å°±ä¼šæ‰§è¡Œconfirmé˜¶æ®µäº‹åŠ¡æäº¤ã€‚é»˜è®¤æƒ…å†µä¸‹åªè¦tryæˆåŠŸäº†å°±é»˜è®¤confirmé˜¶æ®µä¸€å®šä¼šæˆåŠŸ")]),t._v(" "),s("li",[t._v("concleé˜¶æ®µï¼šå½“tryé˜¶æ®µæœ‰å¤±è´¥çš„æ—¶å€™å°±ä¼šæ‰§è¡Œconcelé˜¶æ®µè¿›è¡Œå›æ»šï¼Œé‡Šæ”¾é¢„ç•™èµ„æº")])])]),t._v(" "),s("h2",{attrs:{id:"mq-è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡æ¡ˆä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mq-è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡æ¡ˆä¾‹"}},[t._v("#")]),t._v(" MQ è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡æ¡ˆä¾‹")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("ä¼˜ç‚¹")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("ç¼ºç‚¹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("é€šç”¨æ€§å¼º")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("æ¶ˆæ¯å¤„ç†æœ‰å»¶æ—¶,éœ€è¦ä¸šåŠ¡èƒ½å®¹å¿")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("æ‰©å±•æ€§å¼º")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("æ–¹æ¡ˆæˆç†Ÿ")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),s("h3",{attrs:{id:"è®¾è®¡æ€è·¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡æ€è·¯"}},[t._v("#")]),t._v(" è®¾è®¡æ€è·¯")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200325213601_eclKfZ_Screenshot.jpeg",alt:"è®¾è®¡æ€è·¯"}})]),t._v(" "),s("h3",{attrs:{id:"æ­¥éª¤-1-å¯é æ¶ˆæ¯ç”Ÿäº§-è®°å½•æ¶ˆæ¯å‘é€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-1-å¯é æ¶ˆæ¯ç”Ÿäº§-è®°å½•æ¶ˆæ¯å‘é€"}},[t._v("#")]),t._v(" æ­¥éª¤ 1-å¯é æ¶ˆæ¯ç”Ÿäº§-è®°å½•æ¶ˆæ¯å‘é€")]),t._v(" "),s("ul",[s("li",[t._v("æŠŠè¦å‘é€çš„æ•°æ®è®°å½•åˆ°æ•°æ®åº“"),s("code",[t._v("(æ¶ˆæ¯è®°å½•è¡¨)")])]),t._v(" "),s("li",[t._v("é€šè¿‡å®šæ—¶ä»»åŠ¡ä¸æ–­è½®è¯¢åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦å‘é€æˆåŠŸ,å¹¶è®°å½•å‘é€æ¬¡æ•°")]),t._v(" "),s("li",[t._v("æ²¡æ³•æˆåŠŸå°±é‡å‘,å¹¶è®°å½•æ¬¡æ•°. "),s("code",[t._v("è¦ä¿è¯ä¸€å®šè¦å§æ•°æ®å‘è¿‡å»")]),t._v(",é‡è¯•æ¬¡æ•°å¤ªå¤šå°±å‡ºå‘æŠ¥è­¦é€šçŸ¥è¿ç»´")]),t._v(" "),s("li",[t._v("é€šè¿‡å‘å¸ƒè€…ç¡®è®¤æœºåˆ¶"),s("code",[t._v("æ”¶åˆ°ACK")]),t._v("åå³ä»£è¡¨æ¶ˆæ¯æˆåŠŸå‘é€")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200325213612_EoibMh_Screenshot.jpeg",alt:"è®°å½•æ¶ˆæ¯å‘é€"}})]),t._v(" "),s("h3",{attrs:{id:"æ­¥éª¤-2-ä¿®æ”¹å‘é€çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-2-ä¿®æ”¹å‘é€çŠ¶æ€"}},[t._v("#")]),t._v(" æ­¥éª¤ 2-ä¿®æ”¹å‘é€çŠ¶æ€")]),t._v(" "),s("blockquote",[s("p",[t._v("åˆ©ç”¨ RabbitMQ çš„æ¶ˆæ¯ç¡®è®¤æœºåˆ¶")])]),t._v(" "),s("p",[t._v("å¦‚æœæ¶ˆæ¯æˆåŠŸå‘é€,æ”¶åˆ°äº† ACK ä¹‹åå°†æ¶ˆæ¯å‘é€çŠ¶æ€æ”¹ä¸ºå·²å‘é€")]),t._v(" "),s("h3",{attrs:{id:"æ­¥éª¤-3-å¯é æ¶ˆæ¯å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤-3-å¯é æ¶ˆæ¯å¤„ç†"}},[t._v("#")]),t._v(" æ­¥éª¤ 3-å¯é æ¶ˆæ¯å¤„ç†")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¼€å¯æ‰‹åŠ¨ ACK")]),t._v(". ç”±æ¶ˆè´¹è€…æ§åˆ¶æ¶ˆæ¯çš„é‡å‘/æ¸…é™¤/ä¸¢å¼ƒ.")]),t._v(" "),s("li",[s("strong",[t._v("å¹‚ç­‰æ€§é—®é¢˜")]),t._v(". é˜²æ­¢é‡å¤å¤„ç†,æ ¹æ®ä¸šåŠ¡ ID æˆ–ä¸šåŠ¡æ•°æ®åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦é‡å¤,é‡å¤å°±ä¸å¤„ç†")])]),t._v(" "),s("p",[s("strong",[t._v("å¤„ç†è¿‡ç¨‹:")])]),t._v(" "),s("ul",[s("li",[t._v("å½“æ¶ˆæ¯æ­£å¸¸å¤„ç†å,å°±"),s("code",[t._v("æ‰‹åŠ¨ç¡®è®¤ACK")])]),t._v(" "),s("li",[t._v("å¦‚æœæ¶ˆæ¯å¤„ç†å¤±è´¥,è¿”å›"),s("code",[t._v("NACKè¯·æ±‚æ¶ˆæ¯é‡å‘")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœå¤šæ¬¡å°è¯•ä¸€ç›´å¤±è´¥,å°±è¿›è¡Œå‘Šè­¦"),s("code",[t._v("äººå·¥å¹²é¢„")]),t._v(" æˆ–è€… "),s("code",[t._v("æ”¾å¼ƒæ“ä½œ(éœ€è¦ä¿ç•™æ•°æ®)")])])])])]),t._v(" "),s("h3",{attrs:{id:"æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹å¼"}},[t._v("#")]),t._v(" æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹å¼")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200708221137_JozAZt_Screenshot.jpeg",alt:"æœ¬åœ°æ¶ˆæ¯è¡¨"}})]),t._v(" "),s("ul",[s("li",[t._v("é€šè¿‡ä¸æ–­çš„æ‰«ææ¶ˆæ¯è¡¨å¹¶å‘ç°é€æ¶ˆæ¯åˆ°MQä¸­ï¼Œç›‘å¬MQçš„åº”ç”¨é€šè¿‡ACKæœºåˆ¶ä¿è¯æ¶ˆæ¯ä¸€å®šèƒ½å¤Ÿæ¶ˆè´¹åˆ°;")]),t._v(" "),s("li",[t._v("RocketMQäº‹åŠ¡æ¶ˆæ¯æ–¹æ¡ˆï¼ˆéœ€è¦åšå¹‚ç­‰åˆ¤æ–­ï¼‰ï¼š1.äº‹åŠ¡å‘èµ·æ—¶å‘MQä¸­å‘é€æ¶ˆæ¯ï¼Œ2.å½“æœ¬åœ°äº‹åŠ¡æ‰§è¡Œå®Œæ¯•åè¿”å›Commitå°†MQä¸­çš„æ¶ˆæ¯æ”¹ä¸ºå¯æ¶ˆè´¹çŠ¶æ€ï¼Œ 3.äº‹åŠ¡å‚ä¸è€…ï¼ˆå…¶ä»–ç›‘å¬MQçš„æœåŠ¡ï¼‰è·å–åˆ°æ¶ˆæ¯åè¿›è¡Œç›¸åº”çš„æ“ä½œ")])]),t._v(" "),s("h2",{attrs:{id:"äºŒé˜¶æ®µæäº¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒé˜¶æ®µæäº¤"}},[t._v("#")]),t._v(" äºŒé˜¶æ®µæäº¤")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200708220117_qZw3Kt_Screenshot.jpeg",alt:"äºŒé˜¶æ®µæäº¤1"}}),t._v(" "),s("img",{attrs:{src:"http://md.yike.link/20200708220043_jOa45t_Screenshot.jpeg",alt:"äºŒé˜¶æ®µæäº¤2"}})]),t._v(" "),s("h2",{attrs:{id:"seata-åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#seata-åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶"}},[t._v("#")]),t._v(" seata åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æ¨¡å‹")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200708220214_Bx3N1k_Screenshot.jpeg",alt:"seata1"}})])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æ¨¡å‹æ‰§è¡Œæµç¨‹")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://md.yike.link/20200708220233_3X6eMe_Screenshot.jpeg",alt:"seata2"}})])])])}),[],!1,null,null,null);a.default=v.exports}}]);