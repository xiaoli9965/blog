(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{445:function(_,v,a){"use strict";a.r(v);var t=a(34),r=Object(t.a)({},(function(){var _=this,v=_.$createElement,a=_._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[a("h2",{attrs:{id:"_1-ç›¸å…³åè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›¸å…³åè¯"}},[_._v("#")]),_._v(" 1. ç›¸å…³åè¯")]),_._v(" "),a("p",[_._v("ç´¢å¼•ã€ç´¢å¼•è¦†ç›–ã€å›è¡¨ã€æœ€å·¦åŒ¹é…ã€èšç°‡ç´¢å¼•\næ‰§è¡Œè®¡åˆ’\né”ã€äº‹åŠ¡ ã€MVCC\näº‹åŠ¡ACIDã€å¹»è¯»\nè¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨ã€ä¸»ä»å¤åˆ¶ã€MTS(ç»„æäº¤)")]),_._v(" "),a("h2",{attrs:{id:"_2-ç´¢å¼•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç´¢å¼•"}},[_._v("#")]),_._v(" 2. ç´¢å¼•")]),_._v(" "),a("p",[_._v("ç´¢å¼•çš„åˆ›å»ºè·Ÿå­˜å‚¨å¼•æ“æ˜¯æŒ‚é’©çš„")]),_._v(" "),a("ol",[a("li",[_._v("ç´¢å¼•æ•°æ®ã€è¡Œæ•°æ® å­˜å‚¨åœ¨ç£ç›˜")]),_._v(" "),a("li",[_._v("å°†è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™éœ€è¦ ä»¥é¡µ4Kçš„æ•´æ•°å€ï¼ˆç£ç›˜é¢„è¯»ï¼‰è¯»å–åˆ°å†…å­˜")]),_._v(" "),a("li",[_._v("ç´¢å¼•æå‡æ•ˆç‡    å‡å°‘IOçš„æ¬¡æ•° å‡å°‘IOçš„é‡")])]),_._v(" "),a("h3",{attrs:{id:"_2-1-ç´¢å¼•æ˜¯ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ç´¢å¼•æ˜¯ä»€ä¹ˆ"}},[_._v("#")]),_._v(" 2.1. ç´¢å¼•æ˜¯ä»€ä¹ˆ")]),_._v(" "),a("p",[_._v("æ˜¯å¸®åŠ©mysqlæç¬‘è·å–æ•°æ®çš„ ç´¢å¼•æ˜¯"),a("code",[_._v("æ’å¥½åº")]),_._v("çš„æ•°æ®åº“ç»“æ„")]),_._v(" "),a("blockquote",[a("p",[_._v("ç´¢å¼•æ˜¯æ’å¥½åºçš„,ä½†æ˜¯æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šæ˜¯æ— åºçš„,å› ä¸ºæ•°æ®æ˜¯å­˜åœ¨ç£é“ä¸Šçš„,è¿‡æ®µæ—¶é—´è¿™ä¸ªæ•°æ®åˆ äº†å°±ä¼šæ›¿æ¢ä¸ºåˆ«çš„æ•°æ®")])]),_._v(" "),a("ul",[a("li",[_._v("äºŒå‰æ ‘")]),_._v(" "),a("li",[_._v("çº¢é»‘æ ‘")]),_._v(" "),a("li",[_._v("AVLæ ‘")]),_._v(" "),a("li",[_._v("Hashè¡¨")]),_._v(" "),a("li",[_._v("B-Tree  (å¿µ Bæ æ ‘)")]),_._v(" "),a("li",[a("em",[_._v("B+Tree")]),_._v(" ğŸ”¥")])]),_._v(" "),a("h3",{attrs:{id:"_2-2-æ ‘ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-æ ‘ç»“æ„"}},[_._v("#")]),_._v(" 2.2. æ ‘ç»“æ„")]),_._v(" "),a("p",[a("strong",[_._v("ç¼ºç‚¹:")]),_._v("  éšç€æ•°æ®é‡è¶Šå¤§,æ ‘è¶Šæ·±,  é‚£ä¹ˆIOæ¬¡æ•°å°±ä¸Šæ¥äº†;   å½±å“æ•°æ®è¯»å–çš„æ•ˆç‡")]),_._v(" "),a("p",[_._v("ä¸ºä»€ä¹ˆå½±å“è¯»å–æ•ˆç‡?\nå› ä¸º "),a("strong",[_._v("æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸­æœ‰ä¸”åªæœ‰ä¸¤ä¸ªåˆ†æ”¯")]),_._v(",  æŠŠåŸæ¥äºŒå‰æ ‘å˜æˆå¤šå‰æ ‘å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜,è¿™å°±æ˜¯ B-Tree")]),_._v(" "),a("h4",{attrs:{id:"_2-2-1-äºŒå‰æ ‘-bst-binary-seach-tree"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-äºŒå‰æ ‘-bst-binary-seach-tree"}},[_._v("#")]),_._v(" 2.2.1. äºŒå‰æ ‘ BST (Binary Seach Tree)")]),_._v(" "),a("p",[_._v("äºŒå‰æ ‘æœ¬èº«æ˜¯æ— åºçš„, ä½†æ˜¯ä¸ºäº†æé«˜å¯¹äºæ•°æ®æŸ¥è¯¢çš„æ•ˆç‡")]),_._v(" "),a("p",[_._v("æ’å…¥æ•°æ®çš„æ—¶å€™å¿…é¡»æœ‰åº,  å·¦å­æ ‘å¿…é¡»å°äºæ ¹èŠ‚ç‚¹, å³å­æ ‘å¿…é¡»å¤§äºæ ¹èŠ‚ç‚¹")]),_._v(" "),a("p",[_._v("ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æé«˜æ•ˆç‡")]),_._v(" "),a("p",[_._v("ç¼ºç‚¹: ä¼šå‡ºç°çº¿æ€§é—®é¢˜")]),_._v(" "),a("h4",{attrs:{id:"_2-2-2-avlæ ‘-äºŒå‰æ ‘å¹³è¡¡æ ‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-avlæ ‘-äºŒå‰æ ‘å¹³è¡¡æ ‘"}},[_._v("#")]),_._v(" 2.2.2. AVLæ ‘ äºŒå‰æ ‘å¹³è¡¡æ ‘")]),_._v(" "),a("p",[_._v("ç»è¿‡å·¦æ—‹æˆ–è€…å³æ—‹è®©æ ‘å¹³è¡¡èµ·æ¥")]),_._v(" "),a("blockquote",[a("p",[_._v("æ’å…¥æ•ˆç‡ä½,  æŸ¥è¯¢æ•ˆç‡é«˜    é€‚ç”¨å†™å°‘è¯»å¤šçš„æƒ…å†µ")])]),_._v(" "),a("p",[_._v("ç¼ºç‚¹:  ä¸ºäº†ä¿è¯å¹³è¡¡åœ¨æ’å…¥çš„æ—¶å€™å¿…é¡»è¦æ—‹è½¬, ç”¨æ’å…¥æ—¶çš„æŸå¤±æ¥æé«˜æŸ¥è¯¢æ€§èƒ½çš„æå‡")]),_._v(" "),a("h4",{attrs:{id:"_2-2-3-çº¢é»‘æ ‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-çº¢é»‘æ ‘"}},[_._v("#")]),_._v(" 2.2.3. çº¢é»‘æ ‘")]),_._v(" "),a("p",[_._v("è§£å†³äº†AVLåœ¨è¯»å°‘å†™å¤šæƒ…å†µçš„ä¸è¶³")]),_._v(" "),a("p",[_._v("æŸ¥è¯¢è¯¢æ€§èƒ½å’Œæ’å…¥æ€§èƒ½è¿‘ä¼¼,å–å¾—ä¸€ä¸ªå¹³è¡¡")]),_._v(" "),a("h4",{attrs:{id:"_2-2-4-b-tree"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-b-tree"}},[_._v("#")]),_._v(" 2.2.4. B-Tree")]),_._v(" "),a("p",[_._v("æ ‘ç»“æ„æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸­æœ‰ä¸”åªæœ‰ä¸¤ä¸ªåˆ†æ”¯ æŠŠåŸæ¥äºŒå‰æ ‘å˜æˆå¤šå‰æ ‘å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜,è¿™å°±æ˜¯ B-Tree")]),_._v(" "),a("p",[_._v("å¯¹åº”mysqlè¿™ç§åœºæ™¯, B-Treeæœ‰è‡ªå·±çš„å±€é™æ€§;")]),_._v(" "),a("p",[_._v("B-treeçš„éå¶å­èŠ‚ç‚¹ä¹Ÿè¦å­˜å‚¨æ•°æ®, æ¯ä¸ªé¡µ16KBèƒ½å­˜å‚¨çš„æ•°æ®æœ‰é™  è€ŒB+treeçš„éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®")]),_._v(" "),a("h3",{attrs:{id:"_2-3-b-tree"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-b-tree"}},[_._v("#")]),_._v(" 2.3. B+Tree")]),_._v(" "),a("p",[_._v("åªåœ¨éå¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®,  æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯å‰åå…³è”çš„(æœ€åº•å±‚å¶å­ç»„æˆä¸€ä¸ªåŒå‘é“¾è¡¨)")]),_._v(" "),a("p",[_._v("Mysqlçš„B+TREE ä¸€èˆ¬æƒ…å†µä¸‹ 3-4å±‚è¶³ä»¥,å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å°±è¦è€ƒè™‘åˆ†åº“åˆ†è¡¨äº†")]),_._v(" "),a("p",[a("strong",[_._v("å¦‚æœæˆ‘æƒ³è¦æˆ‘çš„b+treeåªåœç•™åœ¨ä¸‰å±‚,æˆ‘åº”è¯¥æ€ä¹ˆåš?")])]),_._v(" "),a("ul",[a("li",[_._v("ç­”æ¡ˆ: é€‰æ‹©åˆé€‚çš„ç´¢å¼•å­—æ®µç±»å‹, é€‰æ‹©å ç”¨å­—èŠ‚å°‘çš„å­—æ®µç±»å‹")])]),_._v(" "),a("h3",{attrs:{id:"_2-4-hash-è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-hash-è¡¨"}},[_._v("#")]),_._v(" 2.4. Hash è¡¨")]),_._v(" "),a("ul",[a("li",[_._v("ä¼˜ç‚¹: å¦‚æœæ˜¯ç­‰å€¼æŸ¥è¯¢,é‚£ä¹ˆé€Ÿåº¦éå¸¸å¿«O(1)")]),_._v(" "),a("li",[_._v("ç¼ºç‚¹: å­˜åœ¨ç¢°æ’é—®é¢˜ä¼šäº§ç”Ÿçº¿æ€§é—®é¢˜,ä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢, å¯¹å†…å­˜çš„è¦æ±‚æ¯”è¾ƒé«˜")])]),_._v(" "),a("p",[_._v("Memory çš„å­˜å‚¨å¼•æ“å°±æ˜¯hashè¡¨")]),_._v(" "),a("p",[_._v("Innodbæ”¯æŒè‡ªé€‚åº”hash,  å­˜å‚¨å¼•æ“å†³å®šåˆ°åº•æ˜¯ç”¨æ ‘æ¥å­˜è¿˜æ˜¯hashæ¥å­˜, äººä¸ºæ— æ³•å¹²é¢„")]),_._v(" "),a("h3",{attrs:{id:"_2-5-olap-oltp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-olap-oltp"}},[_._v("#")]),_._v(" 2.5. OLAP, OLTP")]),_._v(" "),a("ul",[a("li",[_._v("OLAP: å¯¹åº”æ•°æ®ä»“åº“(Hive)\n"),a("ul",[a("li",[_._v("è”æœºåˆ†æå¤„ç†, å¯¹æµ·é‡å†å²æ•°æ®è¿›è¡Œåˆ†æ")])])]),_._v(" "),a("li",[_._v("OLTP: å¯¹åº”æ•°æ®åº“(Mysql)\n"),a("ul",[a("li",[_._v("è”æœºäº‹åŠ¡å¤„ç†, è¦æ±‚åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…è¿”å›å“åº”ç»“æœ")])])])]),_._v(" "),a("h3",{attrs:{id:"_2-6-ç£ç›˜æ˜¯ç”¨å¤šå°‘è¯»å¤šå°‘å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-ç£ç›˜æ˜¯ç”¨å¤šå°‘è¯»å¤šå°‘å—"}},[_._v("#")]),_._v(" 2.6. ç£ç›˜æ˜¯ç”¨å¤šå°‘è¯»å¤šå°‘å—?")]),_._v(" "),a("p",[_._v("ç£ç›˜é¢„è¯»,å±€éƒ¨æ€§åŸç†")]),_._v(" "),a("h4",{attrs:{id:"_2-6-1-å±€éƒ¨æ€§åŸç†-æ“ä½œç³»ç»ŸåŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-å±€éƒ¨æ€§åŸç†-æ“ä½œç³»ç»ŸåŸç†"}},[_._v("#")]),_._v(" 2.6.1. å±€éƒ¨æ€§åŸç† (æ“ä½œç³»ç»ŸåŸç†)")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("æ—¶é—´å±€éƒ¨æ€§")]),_._v(" "),a("ul",[a("li",[_._v("åœ¨æŸä¸€æ®µæ—¶é—´å†…,æ•°æ®äº§ç”Ÿèšé›†å€¾å‘")])])]),_._v(" "),a("li",[a("p",[_._v("ç©ºé—´å±€éƒ¨æ€§")]),_._v(" "),a("ul",[a("li",[_._v("æ•°æ®å’Œç¨‹åºéƒ½æœ‰èšé›†æˆç¾¤çš„å€¾å‘,åŒæ—¶ä¹‹å‰è¢«è®¿é—®æ¬¡æ•°å¤šçš„æ•°æ®å¾ˆæœ‰å¯èƒ½å†æ¬¡è¢«æŸ¥è¯¢")])])])]),_._v(" "),a("h4",{attrs:{id:"_2-6-2-ç£ç›˜é¢„è¯»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-ç£ç›˜é¢„è¯»"}},[_._v("#")]),_._v(" 2.6.2. ç£ç›˜é¢„è¯»")]),_._v(" "),a("p",[_._v("å†…å­˜åœ¨è·Ÿç£ç›˜äº¤äº’çš„æ—¶å€™, ä¸€èˆ¬æƒ…å†µä¸‹æœ‰ä¸€ä¸ªæœ€å°é€»è¾‘å•å…ƒ. è¿™ä¸ªé€»è¾‘å•å…ƒç§°ä¹‹ä¸ºé¡µ.. æ¯æ¬¡è¿›è¡Œäº¤äº’çš„æ—¶å€™ç”±é¡µä¸ºå•ä½,ä¸€èˆ¬æ˜¯4k\\8k..\n"),a("strong",[_._v("innodbçš„é¡µå¤§å°é»˜è®¤æ˜¯16K")]),_._v(", æ¯æ¬¡è¯»å–16Kçš„æ•°æ®")]),_._v(" "),a("p",[_._v("æˆ‘ä»¬åœ¨è¿›è¡Œæ•°æ®äº¤äº’çš„æ—¶å€™,å¯ä»¥ä»¥é¡µæ•´æ•°å€è¿›è¡Œè¯»å–")]),_._v(" "),a("h3",{attrs:{id:"_2-7-ç´¢å¼•å­˜åœ¨å“ªé‡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-ç´¢å¼•å­˜åœ¨å“ªé‡Œ"}},[_._v("#")]),_._v(" 2.7. ç´¢å¼•å­˜åœ¨å“ªé‡Œ?")]),_._v(" "),a("p",[_._v("å­˜åœ¨å†…å­˜: å¦‚æœæ–­ç”µå°±ä¸¢å¤±")]),_._v(" "),a("p",[_._v("å­˜åœ¨ç£ç›˜, æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ä¼˜å…ˆå°†ç´¢å¼•åŠ è½½åˆ°å†…å­˜ä¸­")]),_._v(" "),a("h2",{attrs:{id:"_3-mysql-çš„å­˜å‚¨å¼•æ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-mysql-çš„å­˜å‚¨å¼•æ“"}},[_._v("#")]),_._v(" 3. MySQL çš„å­˜å‚¨å¼•æ“")]),_._v(" "),a("p",[_._v("Innodb , Memory, myisam")]),_._v(" "),a("p",[_._v("5.1ç‰ˆæœ¬ä¹‹å‰é»˜è®¤æ˜¯ myisam")]),_._v(" "),a("p",[_._v("ä¹‹åé»˜è®¤æ˜¯ Innodb")]),_._v(" "),a("h3",{attrs:{id:"_3-1-ä»€ä¹ˆæ˜¯å­˜å‚¨å¼•æ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ä»€ä¹ˆæ˜¯å­˜å‚¨å¼•æ“"}},[_._v("#")]),_._v(" 3.1. ä»€ä¹ˆæ˜¯å­˜å‚¨å¼•æ“")]),_._v(" "),a("p",[_._v("æ•°æ®åœ¨ç£ç›˜ä¸­çš„ç»„ç»‡å½¢å¼, ä¸é€šçš„å¼•æ“å­˜å‚¨æ–¹å¼ä¸ä¸€æ ·")]),_._v(" "),a("p",[a("strong",[_._v("Innodbçš„å­˜å‚¨æ–‡ä»¶")])]),_._v(" "),a("ul",[a("li",[_._v("frmæ˜¯è¡¨ç»“æ„")]),_._v(" "),a("li",[_._v("idbæ˜¯æ•°æ®+ç´¢å¼• (èšç°‡ç´¢å¼•)")])]),_._v(" "),a("p",[a("strong",[_._v("Myisam")])]),_._v(" "),a("ul",[a("li",[_._v("frm è¡¨ç»“æ„")]),_._v(" "),a("li",[_._v("MYD æ•°æ®")]),_._v(" "),a("li",[_._v("MYI ç´¢å¼•")])]),_._v(" "),a("p",[_._v("Innodb å’Œmyisamå¯¹æ¯”:")]),_._v(" "),a("p",[a("strong",[_._v("ç´¢å¼•ä¸ä¸€æ ·")])]),_._v(" "),a("p",[a("strong",[_._v("é”")])]),_._v(" "),a("ul",[a("li",[_._v("myisam: æ”¯æŒè¡¨é”")]),_._v(" "),a("li",[_._v("Innodb: æ”¯æŒè¡¨é”,è¡Œé”")])]),_._v(" "),a("p",[a("strong",[_._v("å¤–é”®:")]),_._v(" åªæœ‰innodbæ”¯æŒ\n"),a("strong",[_._v("äº‹åŠ¡:")]),_._v(" åªæœ‰innodbæ”¯æŒ")]),_._v(" "),a("h3",{attrs:{id:"_3-2-èšç°‡ç´¢å¼•-innodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-èšç°‡ç´¢å¼•-innodb"}},[_._v("#")]),_._v(" 3.2. èšç°‡ç´¢å¼• (Innodb)")]),_._v(" "),a("p",[_._v("èšç°‡ç´¢å¼•å°±æ˜¯æŒ‡è¡¨æ•°æ®å’Œç´¢å¼•æ˜¯ä¸æ˜¯å­˜å‚¨åœ¨ä¸€å—çš„")]),_._v(" "),a("p",[_._v("Innodbåªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•,ä½†æ˜¯å¯ä»¥æœ‰å¾ˆå¤šéèšç°‡ç´¢å¼•")]),_._v(" "),a("p",[_._v("åœ¨B+Treeä¸­çš„å­˜å‚¨ç»“æ„\nK: ä¸»é”®ID\nV: (è¡Œæ•°æ®)")]),_._v(" "),a("blockquote",[a("p",[_._v("Innodbè‡³å°‘æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•, innodbåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™å¿…é¡»è¦åŒ…å«ä¸€ä¸ªç´¢å¼•çš„keyå€¼,\nç´¢å¼•å¯ä»¥æ˜¯ä¸»é”®,ä¹Ÿå¯ä»¥æ˜¯å”¯ä¸€é”®....å¦‚æœæ²¡æœ‰å»ºç«‹ç´¢å¼•ä¼šç”Ÿæˆä¸€ä¸ªå…­å­—èŠ‚çš„ROWID\njavaçš„intæ˜¯4å­—èŠ‚å¯ä»¥å­˜21E")])]),_._v(" "),a("h4",{attrs:{id:"_3-2-1-å›è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-å›è¡¨"}},[_._v("#")]),_._v(" 3.2.1. å›è¡¨")]),_._v(" "),a("p",[_._v("å‡è®¾æœ‰å¼ è¡¨æœ‰ id, name ä¸¤ä¸ªç´¢å¼•åˆ—\nSELECT * FROM TB WHERE name='xiaoli';")]),_._v(" "),a("p",[_._v("é‚£ä¹ˆé¦–å…ˆä¼šæ ¹æ®nameè¿™ä¸ªç´¢å¼•æŸ¥è¯¢å‡ºå¯¹åº”çš„id,, å†ä½¿ç”¨IDç´¢å¼•å»æŸ¥è¯¢è¡Œçš„æ•°æ®\nä»¥ä¸Šæ“ä½œèµ°äº†ä¸¤ä¸ªB+TREE,  è¿™ä¸ªç°è±¡å°±å«å›è¡¨")]),_._v(" "),a("h5",{attrs:{id:"_3-2-1-1-mrr-mult-range-read"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-1-mrr-mult-range-read"}},[_._v("#")]),_._v(" 3.2.1.1. MRR   mult_range read")]),_._v(" "),a("p",[_._v("åœ¨è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾çš„æ—¶å€™,  é€šè¿‡ç´¢å¼•å­—æ®µæŸ¥è¯¢å‡ºæ•°æ®,ç„¶ååœ¨å†…å­˜ä¸­å¯¹ä¸»é”®è¿›è¡Œæ’åº ç„¶åé€šè¿‡å›è¡¨æŸ¥è¯¢æ•°æ®è¿”å›")]),_._v(" "),a("h3",{attrs:{id:"_3-3-ç´¢å¼•è¦†ç›–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-ç´¢å¼•è¦†ç›–"}},[_._v("#")]),_._v(" 3.3. ç´¢å¼•è¦†ç›–")]),_._v(" "),a("p",[_._v("å‡è®¾æœ‰å¼ è¡¨æœ‰ id, name ä¸¤ä¸ªç´¢å¼•åˆ—\nSELECT id,name FROM TB WHERE name='xiaoli';\nä»¥ä¸Šæƒ…å†µç›´æ¥æ ¹æ®nameçš„èšç°‡ç´¢å¼•æŸ¥è¯¢å‡ºæ•°æ®è¿”å›å³å¯;\nä»¥ä¸Šæƒ…å†µå°±å«ç´¢å¼•è¦†ç›–")]),_._v(" "),a("h3",{attrs:{id:"_3-4-æœ€å·¦åŒ¹é…-é€‚ç”¨äºè”åˆä¸»é”®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-æœ€å·¦åŒ¹é…-é€‚ç”¨äºè”åˆä¸»é”®"}},[_._v("#")]),_._v(" 3.4. æœ€å·¦åŒ¹é… (é€‚ç”¨äºè”åˆä¸»é”®)")]),_._v(" "),a("p",[_._v("å‡è®¾æœ‰å¼ è¡¨æœ‰ id, name, age ä¸‰ä¸ªå­—æ®µ idæ˜¯ä¸»é”®,(name, age)æ˜¯ç»„åˆç´¢å¼•")]),_._v(" "),a("ul",[a("li",[_._v("SELECT id,name FROM tb WHERE name='?' and age='?'; âœ…")]),_._v(" "),a("li",[_._v("SELECT id,name FROM tb WHERE name='?'; âœ…")]),_._v(" "),a("li",[_._v("SELECT id,name FROM tb WHERE  age='?'; âŒ")]),_._v(" "),a("li",[_._v("SELECT id,name FROM tb WHERE  age='?' and name='?'; âœ… (sqlä¼˜åŒ–å™¨)")])]),_._v(" "),a("h3",{attrs:{id:"_3-5-ç´¢å¼•ä¸‹æ¨-5-7ä»¥åç‰¹æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-ç´¢å¼•ä¸‹æ¨-5-7ä»¥åç‰¹æ€§"}},[_._v("#")]),_._v(" 3.5. ç´¢å¼•ä¸‹æ¨ (5.7ä»¥åç‰¹æ€§)")]),_._v(" "),a("p",[_._v("å‡è®¾æœ‰å¼ è¡¨æœ‰ id, name, age ä¸‰ä¸ªå­—æ®µ idæ˜¯ä¸»é”®,(name, age)æ˜¯ç»„åˆç´¢å¼•")]),_._v(" "),a("p",[_._v("SELECT id,name FROM tb WHERE name='?' and age='?';")]),_._v(" "),a("p",[_._v("å®¢æˆ·ç«¯ -> æœåŠ¡ç«¯(server) -> å­˜å‚¨å¼•æ“")]),_._v(" "),a("p",[_._v("æ²¡æœ‰ç´¢å¼•ä¸‹æ¨: å…ˆåœ¨å­˜å‚¨å¼•æ“ä¸­æŸ¥è¯¢ ç¬¦åˆnameçš„æ•°æ®,ç„¶ååœ¨serverç«¯å¯¹ageè¿›è¡Œè¿‡æ»¤")]),_._v(" "),a("p",[_._v("æœ‰ç´¢å¼•ä¸‹æ¨: æ ¹æ®name,ageä¸¤ä¸ªæ¡ä»¶ä»å­˜å‚¨å¼•æ“ä¸­è·å–æ•°æ®")]),_._v(" "),a("h2",{attrs:{id:"_4-åˆ†å¸ƒå¼mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-åˆ†å¸ƒå¼mysql"}},[_._v("#")]),_._v(" 4. åˆ†å¸ƒå¼MYSQL")]),_._v(" "),a("h3",{attrs:{id:"_4-1-bin-log-binary-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-bin-log-binary-log"}},[_._v("#")]),_._v(" 4.1. bin log (Binary log)")]),_._v(" "),a("p",[_._v("mysql serverçš„æ—¥å¿—, ç”¨äºè®°å½•DMLæ—¥å¿—")]),_._v(" "),a("p",[_._v("ä¸»ä»åŒæ­¥å°±æ˜¯é ä»æ•°æ®åº“è¯»å–bin logæ¥å®ç°çš„")]),_._v(" "),a("h3",{attrs:{id:"_4-2-redo-log-ä¸­ç»§æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-redo-log-ä¸­ç»§æ—¥å¿—"}},[_._v("#")]),_._v(" 4.2. redo log ï¼ˆä¸­ç»§æ—¥å¿—ï¼‰")]),_._v(" "),a("p",[_._v("innodbçš„æ—¥å¿—")]),_._v(" "),a("h3",{attrs:{id:"_4-3-undo-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-undo-log"}},[_._v("#")]),_._v(" 4.3. undo log")]),_._v(" "),a("p",[_._v("innodbçš„æ—¥å¿—ï¼Œ è®°å½•äº‹åŠ¡")]),_._v(" "),a("p",[_._v("å½“æˆ‘æ“ä½œå®ŒæŸä¸€æ¡DMLè¯­å¥åï¼Œè®°å½•çŠ¶æ€æ•°æ®ã€‚")]),_._v(" "),a("h3",{attrs:{id:"_4-4-ä¸»ä»å¤åˆ¶-å¿…é¡»å¼€bin-log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-ä¸»ä»å¤åˆ¶-å¿…é¡»å¼€bin-log"}},[_._v("#")]),_._v(" 4.4. ä¸»ä»å¤åˆ¶ ï¼ˆå¿…é¡»å¼€bin logï¼‰")]),_._v(" "),a("p",[_._v("ä¸»ä»å¤åˆ¶ä¸»è¦æ˜¯ç”¨äºMYSQLçš„æ•°æ®åŒæ­¥")]),_._v(" "),a("ol",[a("li",[_._v("ä¸»èŠ‚ç‚¹å¿…é¡»å¼€binlog ,åœ¨DMLè¯­å¥çš„æ—¶å€™ä¼šå†™å…¥bin log")]),_._v(" "),a("li",[_._v("ä»èŠ‚ç‚¹ä¼šå¼€ä¸¤ä¸ªçº¿ç¨‹ IO/SQLçº¿ç¨‹æ¥å®Œæˆæ“ä½œ")]),_._v(" "),a("li",[_._v("ä»èŠ‚ç‚¹çš„IO Threadæ¥è¯»å–binlog,  è¯»å–åå†™å…¥redo log")]),_._v(" "),a("li",[_._v("ä»èŠ‚ç‚¹çš„SQL Threadæ¥è¯»å– redo log è¿›è¡Œæ•°æ®é‡æ”¾ï¼Œå†™å…¥æ•°æ®åˆ°è¡¨ä¸­")])]),_._v(" "),a("h3",{attrs:{id:"_4-5-è¯»å†™åˆ†ç¦»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-è¯»å†™åˆ†ç¦»"}},[_._v("#")]),_._v(" 4.5. è¯»å†™åˆ†ç¦»")]),_._v(" "),a("p",[_._v("è¯»å†™åˆ†ç¦»éœ€è¦å¤„ç† å»¶æ—¶é—®é¢˜")]),_._v(" "),a("h4",{attrs:{id:"_4-5-1-å»¶è¿Ÿé—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-1-å»¶è¿Ÿé—®é¢˜"}},[_._v("#")]),_._v(" 4.5.1. å»¶è¿Ÿé—®é¢˜")]),_._v(" "),a("p",[_._v("ä¸»èŠ‚ç‚¹Nä¸ªçº¿ç¨‹åœ¨å†™ï¼Œä»èŠ‚ç‚¹å°±ä¸€ä¸ªçº¿ç¨‹åœ¨å†™ã€‚è¿™ä¸ªæ—¶å€™ä¼šé‡åˆ°å»¶è¿Ÿé—®é¢˜")]),_._v(" "),a("h4",{attrs:{id:"_4-5-2-é¡ºåº-éšæœºè¯»å–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-2-é¡ºåº-éšæœºè¯»å–"}},[_._v("#")]),_._v(" 4.5.2. é¡ºåº/éšæœºè¯»å–")]),_._v(" "),a("p",[_._v("ä¸»èŠ‚ç‚¹DMLå†™binlogçš„æ—¶å€™æ˜¯ï¼ˆé¡ºåºï¼‰çš„ï¼Œä»åº“è¯»å–åˆ°åä»redo logä¸­é‡æ”¾æ•°æ®æ—¶å†™å…¥æ•°æ®éœ€è¦å¯¹åŸæœ‰æ•°æ®ä¿®æ”¹ï¼ˆéšæœºï¼‰ï¼›ä»¥ä¸Šæ“ä½œä¼šé€ æˆå»¶è¿Ÿé—®é¢˜")]),_._v(" "),a("p",[_._v("5.7ä»¥åæœ‰ä¸ªMTSæœºåˆ¶ï¼ˆç»„æäº¤ï¼‰ï¼Œä»æ ¹æœ¬è§£å†³å»¶è¿Ÿé—®é¢˜")]),_._v(" "),a("h3",{attrs:{id:"_4-6-åˆ†åº“åˆ†è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-åˆ†åº“åˆ†è¡¨"}},[_._v("#")]),_._v(" 4.6. åˆ†åº“åˆ†è¡¨")]),_._v(" "),a("p",[_._v("åˆ†ç‰‡é”®\né›ªèŠ±ID")]),_._v(" "),a("h2",{attrs:{id:"_5-äº‹åŠ¡-acid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-äº‹åŠ¡-acid"}},[_._v("#")]),_._v(" 5. äº‹åŠ¡ ACID")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("åŸå­æ€§")]),_._v(" "),a("ul",[a("li",[_._v("Undo log")])])]),_._v(" "),a("li",[a("p",[_._v("ä¸€è‡´æ€§")])]),_._v(" "),a("li",[a("p",[_._v("éš”ç¦»æ€§")]),_._v(" "),a("ul",[a("li",[_._v("MVCCã€é”")])])]),_._v(" "),a("li",[a("p",[_._v("æŒä¹…æ€§")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("Redo log")]),_._v(" "),a("ul",[a("li",[_._v("WAL ï¼ˆwrite ahead log é¢„å†™æ—¥å¿—ï¼‰ æ•°æ®æ²¡æœ‰å†™æˆåŠŸï¼Œä½†æ˜¯æ—¥å¿—å­˜åœ¨é‚£ä¹ˆå°±å¯ä»¥è¿›è¡Œé‡æ”¾ä¿®å¤")])])]),_._v(" "),a("li",[a("p",[_._v("äºŒé˜¶æ®µæäº¤")])])])])]),_._v(" "),a("h3",{attrs:{id:"_5-1-äºŒé˜¶æ®µæäº¤-innodbæ›´æ–°æ•°æ®æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-äºŒé˜¶æ®µæäº¤-innodbæ›´æ–°æ•°æ®æµç¨‹"}},[_._v("#")]),_._v(" 5.1. äºŒé˜¶æ®µæäº¤ - innodbæ›´æ–°æ•°æ®æµç¨‹")]),_._v(" "),a("p",[_._v("â™¦ï¸æ˜¯æ‰§è¡Œå™¨æ‰§è¡Œ   â™ ï¸æ˜¯å­˜å‚¨å¼•æ“æ‰§è¡Œ")]),_._v(" "),a("ol",[a("li",[_._v("â™¦ï¸è·å–æ•°æ®")]),_._v(" "),a("li",[_._v("â™ ï¸ æ•°æ®é¡µæ˜¯å¦å­˜åœ¨å†…å­˜ä¸­ï¼ˆä¸å­˜åœ¨åˆ™åŠ è½½ï¼‰")]),_._v(" "),a("li",[_._v("â™ ï¸è¿”å›æ•°æ®")]),_._v(" "),a("li",[_._v("â™¦ï¸æ›´æ”¹æ•°æ®")]),_._v(" "),a("li",[_._v("â™¦ï¸å†™å…¥æ–°çš„æ•°æ®")]),_._v(" "),a("li",[_._v("â™ ï¸æ•°æ®æ›´æ–°åˆ°å†…å­˜")]),_._v(" "),a("li",[_._v("â™ ï¸å†™å…¥ redo logï¼Œæ•°æ®å¤„äºperpaeré˜¶æ®µ")]),_._v(" "),a("li",[_._v("â™¦ï¸å†™bin log")]),_._v(" "),a("li",[_._v("â™ ï¸æäº¤äº‹åŠ¡ï¼Œæ•°æ®å¤„äºcommitçŠ¶æ€")])]),_._v(" "),a("h2",{attrs:{id:"_6-æ‚é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ‚é¡¹"}},[_._v("#")]),_._v(" 6. æ‚é¡¹")]),_._v(" "),a("h3",{attrs:{id:"_6-1-innodb-è¡¨ä¸­æœ‰å‡ ä¸ªç´¢å¼•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-innodb-è¡¨ä¸­æœ‰å‡ ä¸ªç´¢å¼•"}},[_._v("#")]),_._v(" 6.1. Innodb è¡¨ä¸­æœ‰å‡ ä¸ªç´¢å¼•?")]),_._v(" "),a("p",[_._v("è‡³å°‘ä¸€ä¸ª")]),_._v(" "),a("h3",{attrs:{id:"_6-2-innodb-å¦‚æœæ•°æ®æ’å…¥æ…¢å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-innodb-å¦‚æœæ•°æ®æ’å…¥æ…¢å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› "}},[_._v("#")]),_._v(" 6.2. Innodb å¦‚æœæ•°æ®æ’å…¥æ…¢å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› ?")]),_._v(" "),a("ol",[a("li",[_._v("æœ‰å¯èƒ½æ˜¯åœ¨æ•°æ®æ’å…¥çš„æ˜¯äº§ç”Ÿäº†B+Treeçš„ä¸Šç§»,å­˜å‚¨é¡µçš„åˆ†è£‚æœºåˆ¶")])]),_._v(" "),a("h3",{attrs:{id:"_6-3-innodb-ä¸»é”®è¦ä¸è¦è‡ªå¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-innodb-ä¸»é”®è¦ä¸è¦è‡ªå¢"}},[_._v("#")]),_._v(" 6.3. Innodb ä¸»é”®è¦ä¸è¦è‡ªå¢")]),_._v(" "),a("p",[_._v("åœ¨æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æƒ…å†µä¸‹,æœ€å¥½æ˜¯è‡ªå¢.\nè‡ªå¢çš„æƒ…å†µä¸‹æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¾€åé¢åšç´¯åŠ çš„,åœ¨B+TREEå­˜å‚¨çš„æ—¶å€™ä¸éœ€è¦å¯¹å‰é¢çš„æ•°æ®è¿›è¡Œæ“ä½œ ..å°±ä¸ä¼šæœ‰å­˜å‚¨é¡µçš„åˆ†è£‚è¿‡ç¨‹")]),_._v(" "),a("p",[_._v("ç¼ºç‚¹:")]),_._v(" "),a("ul",[a("li",[_._v("æ•°æ®å®¹æ˜“è¢«çˆ¬è™«çˆ¬èµ°")]),_._v(" "),a("li",[_._v("åˆ†åº“åˆ†è¡¨æ—¶ä¸èƒ½ä½¿ç”¨")])]),_._v(" "),a("h3",{attrs:{id:"_6-4-sqlè°ƒä¼˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-sqlè°ƒä¼˜"}},[_._v("#")]),_._v(" 6.4. SQLè°ƒä¼˜")])])}),[],!1,null,null,null);v.default=r.exports}}]);