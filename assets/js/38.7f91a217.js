(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{473:function(s,t,a){"use strict";a.r(t);var _=a(34),v=Object(_.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-paxos算法的三个版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-paxos算法的三个版本"}},[s._v("#")]),s._v(" 1. paxos算法的三个版本")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("ul",[a("li",[s._v("Basic Paxos")]),s._v(" "),a("li",[s._v("Multi Paxos")]),s._v(" "),a("li",[s._v("Fast Paxos (zookeeper用的)")])])]),s._v(" "),a("h2",{attrs:{id:"_2-basic-paxos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-basic-paxos"}},[s._v("#")]),s._v(" 2. Basic Paxos")]),s._v(" "),a("p",[s._v("1990年由莱斯利·兰伯特提出,这个算法是公认的最有效的算法;")]),s._v(" "),a("h3",{attrs:{id:"_2-1-basic-paxos中的4个角色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-basic-paxos中的4个角色"}},[s._v("#")]),s._v(" 2.1. Basic Paxos中的4个角色")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Client:")]),s._v(" 产生提案者;请求发起者,不参与投票;")]),s._v(" "),a("li",[a("strong",[s._v("Proposer:")]),s._v(" 提案者✨; 接受Client请求,向集群提出提议;")]),s._v(" "),a("li",[a("strong",[s._v("Accepet:")]),s._v(" 决策者✨; 提议投票接受者,半数原则")]),s._v(" "),a("li",[a("strong",[s._v("Learners::")]),s._v(" 学习者 ; 主要做备份工作,不参与投票")])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-paxos的四个阶段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-paxos的四个阶段"}},[s._v("#")]),s._v(" 2.2. paxos的四个阶段")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("ol",[a("li",[s._v("Proposer提案者发起一个编号为N的提案,请求Accepet接受提案")]),s._v(" "),a("li",[s._v("Accepet接受提案开始进行对N提案的投票")]),s._v(" "),a("li",[s._v("Accepet如果达到多数派,就会投票成功")]),s._v(" "),a("li",[s._v("学习者记录")])])]),s._v(" "),a("h3",{attrs:{id:"_2-3-活锁问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-活锁问题"}},[s._v("#")]),s._v(" 2.3. 活锁问题")]),s._v(" "),a("p",[a("strong",[s._v("如何产生的:")]),s._v("\n就是提案者1发起提案1时(编号为1)还没有开始投票,这时提案者2发起提案2(编号为2),,此时编号1的提案就过期了;")]),s._v(" "),a("p",[a("strong",[s._v("解决方案:")]),s._v("\n在每个发起者身上设置一个随机值,这个随机值用来等待时间去获取投票结果;\n当达到获取结果的时间时如果发现提案过期,只需要将提案编号改一下重新提案就行")]),s._v(" "),a("h3",{attrs:{id:"_2-4-问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-问题"}},[s._v("#")]),s._v(" 2.4. 问题")]),s._v(" "),a("ul",[a("li",[s._v("难实现(环境多,参与者多)")]),s._v(" "),a("li",[s._v("效率太低(2轮RPC)")]),s._v(" "),a("li",[s._v("活锁问题")])])])}),[],!1,null,null,null);t.default=v.exports}}]);