<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>I&#39;m Alex</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="123">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f9dc4244.css" as="style"><link rel="preload" href="/blog/assets/js/app.0c328148.js" as="script"><link rel="preload" href="/blog/assets/js/2.ef27732c.js" as="script"><link rel="preload" href="/blog/assets/js/16.ade73102.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4fc174d0.js"><link rel="prefetch" href="/blog/assets/js/11.4b9e5083.js"><link rel="prefetch" href="/blog/assets/js/12.8c45d22b.js"><link rel="prefetch" href="/blog/assets/js/13.a7706ab2.js"><link rel="prefetch" href="/blog/assets/js/14.9e9431ac.js"><link rel="prefetch" href="/blog/assets/js/15.191a76b5.js"><link rel="prefetch" href="/blog/assets/js/17.455cea14.js"><link rel="prefetch" href="/blog/assets/js/18.cf9594d9.js"><link rel="prefetch" href="/blog/assets/js/19.bdb0a3c4.js"><link rel="prefetch" href="/blog/assets/js/20.fd4b444e.js"><link rel="prefetch" href="/blog/assets/js/21.01379a95.js"><link rel="prefetch" href="/blog/assets/js/22.771705d3.js"><link rel="prefetch" href="/blog/assets/js/23.00e498db.js"><link rel="prefetch" href="/blog/assets/js/24.02bc0deb.js"><link rel="prefetch" href="/blog/assets/js/25.1bb2541a.js"><link rel="prefetch" href="/blog/assets/js/26.970f0106.js"><link rel="prefetch" href="/blog/assets/js/27.9e87a29d.js"><link rel="prefetch" href="/blog/assets/js/28.c97a693d.js"><link rel="prefetch" href="/blog/assets/js/29.9963f0cf.js"><link rel="prefetch" href="/blog/assets/js/3.e2e3b0e7.js"><link rel="prefetch" href="/blog/assets/js/30.afb8e3c4.js"><link rel="prefetch" href="/blog/assets/js/31.ac96d13a.js"><link rel="prefetch" href="/blog/assets/js/32.91959568.js"><link rel="prefetch" href="/blog/assets/js/33.bc02d183.js"><link rel="prefetch" href="/blog/assets/js/34.9f4bdea4.js"><link rel="prefetch" href="/blog/assets/js/35.85cd64bd.js"><link rel="prefetch" href="/blog/assets/js/36.9efafaae.js"><link rel="prefetch" href="/blog/assets/js/37.13f25b82.js"><link rel="prefetch" href="/blog/assets/js/38.7f91a217.js"><link rel="prefetch" href="/blog/assets/js/39.15f7b5b6.js"><link rel="prefetch" href="/blog/assets/js/4.108b56bf.js"><link rel="prefetch" href="/blog/assets/js/40.07a706de.js"><link rel="prefetch" href="/blog/assets/js/41.a9ad9f4f.js"><link rel="prefetch" href="/blog/assets/js/5.e004f495.js"><link rel="prefetch" href="/blog/assets/js/6.59736120.js"><link rel="prefetch" href="/blog/assets/js/7.ce721f24.js"><link rel="prefetch" href="/blog/assets/js/8.e707e9a2.js"><link rel="prefetch" href="/blog/assets/js/9.9f7d8719.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f9dc4244.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="I'm Alex" class="logo"> <span class="site-name can-hide">I'm Alex</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java ☕️" class="dropdown-title"><span class="title">Java ☕️</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java ☕️" class="mobile-dropdown-title"><span class="title">Java ☕️</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/基础/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/内存模型.html" class="nav-link">
  内存模型
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/垃圾回收.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/类加载机制.html" class="nav-link">
  类加载机制
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          多线程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/多线程/多线程基础.html" class="nav-link">
  多线程基础
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nio多路复用.html" class="nav-link">
  操作系统的多路复用
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" class="nav-link">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/redis/01_基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/02_进阶.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/03_集群.html" class="nav-link">
  集群
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/04_6版本.html" class="nav-link">
  6版本
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/czy.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          分布式一致性方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式事务.html" class="nav-link">
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式锁.html" class="nav-link">
  分布式锁
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗" class="dropdown-title"><span class="title">🔗</span> <span class="arrow down"></span></button> <button type="button" aria-label="🔗" class="mobile-dropdown-title"><span class="title">🔗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK下载
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          框架文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont 矢量图库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开发工具包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java ☕️" class="dropdown-title"><span class="title">Java ☕️</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java ☕️" class="mobile-dropdown-title"><span class="title">Java ☕️</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/基础/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/内存模型.html" class="nav-link">
  内存模型
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/垃圾回收.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/类加载机制.html" class="nav-link">
  类加载机制
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          多线程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/多线程/多线程基础.html" class="nav-link">
  多线程基础
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nio多路复用.html" class="nav-link">
  操作系统的多路复用
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" class="nav-link">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/redis/01_基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/02_进阶.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/03_集群.html" class="nav-link">
  集群
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/04_6版本.html" class="nav-link">
  6版本
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/czy.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          分布式一致性方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式事务.html" class="nav-link">
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式锁.html" class="nav-link">
  分布式锁
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗" class="dropdown-title"><span class="title">🔗</span> <span class="arrow down"></span></button> <button type="button" aria-label="🔗" class="mobile-dropdown-title"><span class="title">🔗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK下载
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          框架文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont 矢量图库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开发工具包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#title-jvm垃圾回收" class="sidebar-link">title: JVM垃圾回收</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_1-名词介绍" class="sidebar-link">1. 名词介绍</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_2-如何确定垃圾-垃圾回收算法" class="sidebar-link">2. 如何确定垃圾(垃圾回收算法)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_3-垃圾回收算法" class="sidebar-link">3. 垃圾回收算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_3-1-标记-清除算法" class="sidebar-link">3.1. 标记-清除算法</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_3-2-标记-整理-标记-压缩-算法" class="sidebar-link">3.2. 标记-整理（标记-压缩）算法</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_3-3-复制算法" class="sidebar-link">3.3. 复制算法</a></li></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_4-gc-roots" class="sidebar-link">4. GC roots</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_5-jvm-内存分代模型" class="sidebar-link">5. JVM 内存分代模型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-垃圾回收器的分类" class="sidebar-link">6. 垃圾回收器的分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-1-分类" class="sidebar-link">6.1. 分类</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-2-垃圾回收器的组合" class="sidebar-link">6.2. 垃圾回收器的组合</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-3-单线程-serial-serial-old" class="sidebar-link">6.3. 单线程 Serial/Serial Old</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-4-多线程-parallel-scavenge-parallel-old" class="sidebar-link">6.4. 多线程 Parallel Scavenge/Parallel Old</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-5-多线程-parnew" class="sidebar-link">6.5. 多线程 ParNew</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-6-多线程-cms-9-版本剔除" class="sidebar-link">6.6. 多线程 CMS (9 版本剔除)</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-7-g1" class="sidebar-link">6.7. G1</a></li><li class="sidebar-sub-header"><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_6-8-zgc" class="sidebar-link">6.8. ZGC</a></li></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_7-堆大小的调优" class="sidebar-link">7. 堆大小的调优</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_8-四种引用" class="sidebar-link">8. 四种引用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html#_9-分代回收-与-分区回收" class="sidebar-link">9. 分代回收 与 分区回收</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><hr> <h2 id="title-jvm垃圾回收"><a href="#title-jvm垃圾回收" class="header-anchor">#</a> title: JVM垃圾回收</h2> <h2 id="_1-名词介绍"><a href="#_1-名词介绍" class="header-anchor">#</a> 1. 名词介绍</h2> <table><thead><tr><th style="text-align:center;">-</th> <th style="text-align:center;">-</th></tr></thead> <tbody><tr><td style="text-align:center;">STW</td> <td style="text-align:center;"><code>Stop the world</code>,暂停所有用户线程</td></tr> <tr><td style="text-align:center;">SATB</td> <td style="text-align:center;"><code>Snapshot At The Begining</code> 快照</td></tr> <tr><td style="text-align:center;">Incrmental Update</td> <td style="text-align:center;">CMS 回收器的第三阶段解决错标问题用词</td></tr> <tr><td style="text-align:center;">Write barrier</td> <td style="text-align:center;">写屏障,Jvm 会注入一小段代码用于记录指针的变化(G1 回收器三色标记)</td></tr> <tr><td style="text-align:center;">Refinement</td> <td style="text-align:center;">G1 三色标记时处理数据的线程名字</td></tr> <tr><td style="text-align:center;">RS (Remembered Set)</td> <td style="text-align:center;">G1 中记录引用关系的集合字</td></tr> <tr><td style="text-align:center;">OOPS</td> <td style="text-align:center;">普通对象指针</td></tr></tbody></table> <h2 id="_2-如何确定垃圾-垃圾回收算法"><a href="#_2-如何确定垃圾-垃圾回收算法" class="header-anchor">#</a> 2. 如何确定垃圾(垃圾回收算法)</h2> <div class="custom-block tip"><p class="custom-block-title">两种确定垃圾的方式</p> <ul><li>引用计数法</li> <li>🔥 可达性分析 (JVM 使用)</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">引用计数法</p> <p>Java 堆中每一个具体的对象都有一个<code>引用计数器</code>，当这个对象被初始化和引用的时候这个计数器就会进行+1。当引用失效后就会进行-1。当垃圾回收时所有引用为 0 的对象都会被回收</p> <ul><li>优点: 执行简单，判断效率高</li> <li>缺点: 无法对循环引用进行精准计数，同时引用计数器增加了程序执行的开销</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">🔥可达性分析</p> <p>可达性分析也叫<code>索根算法/溯源算法</code>，从一系列的 GC roots（有7种 GC roots）作为起点向下进行搜索，所有走过的路径称为<code>引用连</code>，当一个对象没有任何引用链到达 GC root 时即代表这个<code>对象不可达</code>（可以进行回收）- 优点: 执行简单，判断效率高</p> <ul><li>缺点: 并发标记时会有漏标情况</li></ul></div> <h2 id="_3-垃圾回收算法"><a href="#_3-垃圾回收算法" class="header-anchor">#</a> 3. 垃圾回收算法</h2> <h3 id="_3-1-标记-清除算法"><a href="#_3-1-标记-清除算法" class="header-anchor">#</a> 3.1. 标记-清除算法</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>通过可达性分析找到可以清除的对象，然后进行回收</p> <ul><li>优点：实现简单，不需要对对象进行移动</li> <li>缺点：标记清除时的效率低下。会产生大量不连续的内存碎片</li></ul></div> <h3 id="_3-2-标记-整理-标记-压缩-算法"><a href="#_3-2-标记-整理-标记-压缩-算法" class="header-anchor">#</a> 3.2. 标记-整理（标记-压缩）算法</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>执行原理和标记清除一样，但是清理完之后会进行内存压缩来达到去除内存碎片的目的；</p> <ul><li>优点：没有内存碎片</li> <li>缺点: 需要对对象进行移动，一定程度上降低了效率</li></ul></div> <h3 id="_3-3-复制算法"><a href="#_3-3-复制算法" class="header-anchor">#</a> 3.3. 复制算法</h3> <div class="custom-block warning"><p class="custom-block-title">复制算法</p> <p>它将内存分为两个内存块，每次仅使用一半的空间。当一半的空间用完时进行 GC，把可达对象移动到另一半空间中，然后对原有空间进行全部清理</p> <ul><li>优点：不会产生内存碎片</li> <li>缺点：只能使用一半的 JVM 内存，而且会对长时间存活的对象进行频繁复制</li></ul></div> <h2 id="_4-gc-roots"><a href="#_4-gc-roots" class="header-anchor">#</a> 4. GC roots</h2> <div class="custom-block tip"><p class="custom-block-title">GC root 对象</p> <p><strong>可称为 GC root 的对象有 7 种:</strong></p> <ul><li>在虚拟机栈（栈帧中的本地变量表）中引用的对象,</li> <li>静态变量</li> <li>常量</li> <li>JNI引用的对象</li> <li>Java虚拟机 的特殊类(类加载,重要的异常类等)</li> <li>synchronized锁对象</li> <li>反映Java虚拟机内部情况的JMXBean、JVMTI中注册的回调、本地代码缓存等</li></ul> <p>::: right
来自 <a href=""> 深入理解Java虚拟机第三版-周志明 #3.2.2 </a></p></div> <h2 id="_5-jvm-内存分代模型"><a href="#_5-jvm-内存分代模型" class="header-anchor">#</a> 5. JVM 内存分代模型</h2> <p><img src="http://md.yike.link/20200406002650_zc6PZa_Screenshot.jpeg" alt="JVM内存分代模型"></p> <ul><li>年轻代
<ul><li>年轻代的 GC 叫 <code>Young GC</code> 或 <code>Minor GC</code></li> <li>内存占比:<code>Eden:S0:S1 = 8:1:1</code></li> <li>eden: 刚 new 出来的对象会放到这里,经历过一次回收后被放到 S 区</li> <li>Survivor: 每次回收会将对象从一个区移动到另一个区,然后清理压缩旧区,如此反复;每经历一次清理对象年龄+1 岁,到 16 岁时移动到老年代</li></ul></li> <li>老年代
<ul><li>老年代的GC名称叫  <code>Full GC</code>或<code>Major GC</code></li></ul></li></ul> <h2 id="_6-垃圾回收器的分类"><a href="#_6-垃圾回收器的分类" class="header-anchor">#</a> 6. 垃圾回收器的分类</h2> <div class="custom-block tip"><p class="custom-block-title">以下图截止至 14 版本.</p> <p>垃圾回收器的进化过程就是根据 内存越来越大,STW 的时间越来越短进行的,从分代演化到不分带</p> <p><img src="http://md.yike.link/20200406000115_Y1O9z0_Screenshot.jpeg" alt="垃圾回收器的分类"></p> <p><img src="http://md.yike.link/20200406031427_my9lNp_Screenshot.jpeg" alt="垃圾回收器的分类2"></p></div> <h3 id="_6-1-分类"><a href="#_6-1-分类" class="header-anchor">#</a> 6.1. 分类</h3> <p><strong>按时代分:</strong></p> <table><thead><tr><th style="text-align:center;">时代</th> <th style="text-align:center;">回收器</th> <th style="text-align:center;">适用内存</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>远古</strong></td> <td style="text-align:center;"><code>Serial</code>、<code>Serial Old</code></td> <td style="text-align:center;">几百 M</td> <td style="text-align:center;">单线程回收器 需<code>STW</code></td></tr> <tr><td style="text-align:center;"><strong>古代</strong></td> <td style="text-align:center;"><code>Parallel Scavenge</code>，<code>Parallel Old</code></td> <td style="text-align:center;">最好是 3-4G,当然十来个 G 也行</td> <td style="text-align:center;">(8 版本默认) 多线程回收器 需<code>STW</code></td></tr> <tr><td style="text-align:center;"><strong>近现代</strong></td> <td style="text-align:center;"><code>ParNew</code>、<code>CMS</code></td> <td style="text-align:center;">十来个 G</td> <td style="text-align:center;">ParNew 是为了适应 CMS 而诞生的</td></tr> <tr><td style="text-align:center;"><strong>现代</strong></td> <td style="text-align:center;"><code>G1</code></td> <td style="text-align:center;">理论上最大 64G</td> <td style="text-align:center;">9 版本默认, 8 版本可以手动指定</td></tr> <tr><td style="text-align:center;"><strong>未来</strong></td> <td style="text-align:center;"><code>ZGC</code>、<code>Shenandoah</code></td> <td style="text-align:center;">T 级别</td> <td style="text-align:center;">ZGC: Open JDK 11 默认,<code>存在不稳定的地方,所以Oracle的JDK没有默认</code></td></tr></tbody></table> <p><strong>按线程分:</strong></p> <ul><li><p><code>单线程回收器</code></p> <ul><li>Serial、Serial Old</li></ul></li> <li><p><code>多线程回收器</code></p> <ul><li>Parallel，Parallel Old, ParNew、CMS 、G1、 ZGC、Shenandoah</li></ul></li></ul> <p><strong>按是否分代:</strong></p> <ul><li><p><code>分代回收器</code></p> <ul><li>Serial、Serial Old 、Parallel，Parallel Old, ParNew、CMS</li></ul></li> <li><p><code>不分带回收器</code></p> <ul><li>G1、 ZGC、Shenandoah</li></ul></li> <li><p>新生代均使用 复制算法</p></li></ul> <h3 id="_6-2-垃圾回收器的组合"><a href="#_6-2-垃圾回收器的组合" class="header-anchor">#</a> 6.2. 垃圾回收器的组合</h3> <ul><li><code>组合1:</code> Serial、Serial Old</li> <li><code>组合2:</code> Parallel Scavenge，Parallel Old <em>(俗称 PS+PO,JDK8 默认)</em></li> <li><code>组合3:</code> ParNew、CMS</li></ul> <h3 id="_6-3-单线程-serial-serial-old"><a href="#_6-3-单线程-serial-serial-old" class="header-anchor">#</a> 6.3. 单线程 Serial/Serial Old</h3> <blockquote><p>用户线程和 GC 线程交替工作, 当 GC 线程(单线程)工作的时候会 STW</p></blockquote> <p><strong>Serial:</strong> 用的拷贝算法,单线程
<strong>Serial Old:</strong> 用的标记压缩算法 mark-sweep-compact,单线程</p> <p><img src="http://md.yike.link/20200406004627_tXdx9a_Screenshot.jpeg" alt="执行过程"></p> <h3 id="_6-4-多线程-parallel-scavenge-parallel-old"><a href="#_6-4-多线程-parallel-scavenge-parallel-old" class="header-anchor">#</a> 6.4. 多线程 Parallel Scavenge/Parallel Old</h3> <blockquote><p>和单线程的 GC 玩法一样,也是 GC 的时候会 STW..但是 GC 的时候采用的是多线程方式</p></blockquote> <p>特性:</p> <ul><li>并行线程默认值: 核数&lt;=8使用核数, 核数大于8使用(3+核数*5)/8</li> <li>会根据minor gc时间动态调整 E/S0/S1区大小</li></ul> <p><strong>Parallel Scavenge:</strong> 用的拷贝算法,多线程
<strong>Serial Old:</strong> 用的标记压缩算法 mark-sweep-compact,多线程</p> <p><img src="http://md.yike.link/20200406010734_mXaOVg_Screenshot.jpeg" alt="执行过程"></p> <h3 id="_6-5-多线程-parnew"><a href="#_6-5-多线程-parnew" class="header-anchor">#</a> 6.5. 多线程 ParNew</h3> <blockquote><p>新一代的 Parallel 回收器 所以叫 ParNew ,支持十几个 G 的内存,主要是用来和 CMS 配合</p></blockquote> <h3 id="_6-6-多线程-cms-9-版本剔除"><a href="#_6-6-多线程-cms-9-版本剔除" class="header-anchor">#</a> 6.6. 多线程 CMS (9 版本剔除)</h3> <p><strong>关键字:</strong></p> <ul><li>Concurrent Mark Sweep 并发标记清除</li> <li>并发标记清除</li> <li>主要工作在老年代</li> <li>不会进行内存压缩</li> <li>配合 ParNew/Serial 使用</li></ul> <blockquote><p>CMS 是一个里程碑式的垃圾回收器,在这之前所有的垃圾回收都需要暂停工作线程,这个回收器实现了垃圾回收线程和工作线程并发执行
虽然它是个里程碑式的回收器,但是 JDK 没有任何一个版本默认使用过它,因为其存在巨大缺陷;</p></blockquote> <p><img src="http://md.yike.link/20200406020959_YoTesu_Screenshot.jpeg" alt="CMS"></p> <p><strong>CMS 工作分为四个步骤:</strong></p> <ul><li><code>初始标记:</code> 会有很短的 STW,标记 GC Roots 可达的老年代对象；</li> <li><code>并发标记:</code> 顺着跟往下找,会存在一定的标记失误.
<ul><li>比如:标记为垃圾后又被引用了,或某些对象在扫描之后变为了垃圾(浮动垃圾)</li> <li>浮动垃圾只能在下一次GC时处理了</li></ul></li> <li><code>重新标记:</code> 会有很短的 STW, 主要为修复并发标记时的漏标, 修复程序运行期间对象关系的变化</li> <li><code>并发清理:</code> 并行执行清理(单GC线程)</li></ul> <p><strong>巨大缺陷:</strong> 老年代用的算法是 <code>标记-清除</code> 会产生内存碎片,并且它只使用一个线程对老年代从头到尾进行清理<code>(Serial Old回收器)</code>,如果老年代内存满了的话这个过程耗时无法想象,会是系统吞吐量下降;</p> <p><strong>为什么不使用压缩算法?:</strong> 应为CMS是吞吐量优先考虑,要尽量少的STW, 所以在并发清理的时候使用了标记清除算法. 如果要压缩的话就必须STW对内存引用重新整理; 当内存不足以分配对象时这个时候会触发FULL GC, 会STW并且会整理内存(可以参数设置)</p> <h4 id="_6-6-1-cms-的三色标记"><a href="#_6-6-1-cms-的三色标记" class="header-anchor">#</a> 6.6.1. CMS 的三色标记</h4> <p><strong>将扫描的对象分为三种颜色:</strong> <code>黑,灰,白</code></p> <ul><li><code>白色对象</code>: 还没有对对象进行标记(识别), 此时此对象有可能是浮动垃圾</li> <li><code>灰色对象</code>: 已经确认了不是垃圾,但是内部还有没有识别的对象引用</li> <li><code>黑色对象</code>: 已经完全扫描,(自身和成员变量都已经确认)是垃圾</li></ul> <p><strong>标记的过程大致如下：</strong></p> <ol><li>刚开始，所有的对象都是白色，没有被访问。</li> <li>将GC Roots直接关联的对象置为灰色。</li> <li>遍历灰色对象的所有引用，灰色对象本身置为黑色，引用置为灰色。</li> <li>重复步骤3，直到没有灰色对象为止。</li> <li>结束时，黑色对象存活，白色对象回收。</li></ol> <p><em>CMS 的三色标记会存在漏标,所以需要 remark 阶段<code>(第三阶段)</code>进行修正</em></p> <p><img src="http://md.yike.link/20200406022455_WQaPy5_Screenshot.jpeg" alt="三色标记"></p> <h5 id="_6-6-1-1-漏标问题"><a href="#_6-6-1-1-漏标问题" class="header-anchor">#</a> 6.6.1.1. 漏标问题</h5> <p><strong>描述:</strong></p> <ul><li>① 在扫描的时候 ABC 都已经确认了</li> <li>② 扫描之后 B 对 C 的引用消失了,同时 A 引用了 C</li> <li>③ 这个时候 A 的颜色并没有变更过来,C 的颜色也没有变过来</li> <li>这个问题会导致 C 被垃圾回收器回收了</li></ul> <p><img src="http://md.yike.link/20200406023614_6o1AQK_Screenshot.jpeg" alt="漏标问题"></p> <p><strong>Cms 的解决方案就是使用重新标记(阶段三)来解决,会<code>STW</code>的对所有堆内存进行重新扫描(如果内存过大这个过程会很长)</strong> ,但是这个过程依旧会出现漏标现象,因为是多线程的;
例: <code>并发时 线程A 将某个对象标记为灰色(因为有了新的引用),线程B 看到已全部标记完,将对象又改为了黑色</code></p> <ul><li>增量更新:标记过程中,会跟踪已被记录的对象,如果发送了引用赋值就会将对象改变成灰色(原本黑色就会变成灰色);</li> <li>SATB <code>Snapshot At The Begining</code>: 新加的对象会记录下来,被删除引用的关系对象也会被记录</li></ul> <blockquote><p>因为<code>这个过程效率太低</code> 和 <code>存在致命缺陷</code>,所以在 9 版本这个回收器彻底成为了历史;</p></blockquote> <h3 id="_6-7-g1"><a href="#_6-7-g1" class="header-anchor">#</a> 6.7. G1</h3> <p><strong>关键词:</strong></p> <ul><li>(Garbage-First) 垃圾优先</li> <li>逻辑上分代,物理不分代</li> <li>分为 2048 个块(Region), 每个region大小2-32m</li> <li>软实时,低延时,可设定目标(STW 时间)</li> <li>用于替代 CMS</li></ul> <blockquote><p>开启了分区回收的时代, 理论上最大支持 64G 左右的内存(因为支持 2048 个块,每个块最大 32MB);在 7 版本加入,9 版本默认</p></blockquote> <p><strong>内部细节:</strong></p> <ul><li>无需回收整个堆,而是选择一个 Collection Set （CSet）进行回收</li> <li>两种 GC
<ul><li><code>Fully Young GC</code> 回收年轻代</li> <li><code>Mixed GC</code> 选择 N 个(默认 10 个)垃圾多的区域回收</li></ul></li> <li>优先回收垃圾最多的区域 Region</li> <li><code>RS (Remembered Set)</code> 每一个 Rgion 都有一个 RS,用于记录本区域的对象被其他区域对象引用的信息
<img src="http://md.yike.link/20200406154022_EkBwzU_Screenshot.jpeg" alt="内存模型"> <img src="http://md.yike.link/20200406034728_IaQUtp_Screenshot.jpeg" alt="内存模型"></li></ul> <h4 id="_6-7-1-rs-remembered-set-跨代-跨-region-引用问题"><a href="#_6-7-1-rs-remembered-set-跨代-跨-region-引用问题" class="header-anchor">#</a> 6.7.1. RS (Remembered Set) - 跨代/跨 Region 引用问题</h4> <p><img src="http://md.yike.link/20200406035530_TD2NCg_Screenshot.jpeg" alt="跨代/跨Region引用问题"></p> <ul><li><p>一个区域被分成若干个卡片,如果 Region1 中的某个对象引用了别的 Region2 的卡片,就把这个关系记录在被引用的<code>RS (Remembered Set)</code>中,用于记录谁引用了我;</p></li> <li><p>当回收 Region2 的时候,我通过 Remerbered Set 就能知道谁引用了我,然后根据 RS 来找到对象进行扫描就行了,避免了整个堆的扫描</p></li> <li><p>Remembered Set 中每个 entry 覆盖 512Byte 的内存空间</p></li> <li><p>可通过 RS 的记录找到具体的内存区域(空间换时间,会带来 5-10%的额外空间)</p></li> <li><p>当对应的内存空间发生改变时标记为<code>Dirty</code></p></li></ul> <p><strong>Remembered Set 的更新</strong></p> <p>通过写屏障 <code>Write Barrier</code>在对象引用发生变化的时候 JVM 会注入一小段代码来记录指针的变化,<code>不会立刻改变RS,而是先存入队列</code>,等待被 Refinement 线程处理...这种方式不会产生错标</p> <ul><li>当更新指针时
<ul><li>标记 Card 为 Dirty</li> <li>将 Card 存入 DirtyCardQueue 中,等待被排空</li> <li>白/绿/黄/红分别代表 Dirty 的多少</li></ul></li></ul> <p><strong>白色:</strong> 代表引用修改不频繁,不进行排空;<br> <strong>绿色:</strong> 代表数据修改较频繁,这个时候 Refinement 线程会被激活排空 <code>通过:XX:G1ConcRefinementGreenZone=N 来指定处理线程数</code><br> <strong>黄色:</strong> 代表修改的对象特别多了,这个时候会开启所有的 Refinement 线程进行排空<code>通过:XX:G1ConcRefinementYellowZone=N 来指定处理线程数</code><br> <strong>红色:</strong> 这个时候会 STW 暂停用户线程,所有线程一起加入到排空工作中<code>通过:XX:G1ConcRefinementYellowZone=N 来指定处理线程数</code></p> <h4 id="_6-7-2-fully-young-gc"><a href="#_6-7-2-fully-young-gc" class="header-anchor">#</a> 6.7.2. Fully Young GC</h4> <p><code>这个操作会STW</code></p> <ul><li>G1 会记录每个阶段的执行时间,用于字段调优</li> <li>记录 Eden/Survivor 的数量和时间
<ul><li>根据暂停目标来自动调整 E 和 S 区的 Region 的数量</li> <li>暂停目标越短,E 区的数量就越少
<ul><li>E 区数量越少,GC STW 的时间就会越短,就会导致频繁的 Fully Young GC</li> <li>E 区的数量越少,GC 的次数越多,就会占用越多的 CPU 资源,那么吞吐量就会下降</li></ul></li></ul></li> <li><code>-XX:PrintAduotiveSizePolicy</code> 自适应的调整 STW 时间</li> <li><code>-XX:PrintTenuringDistribution</code> 打印老年代的分部</li></ul> <h4 id="_6-7-3-old-gc"><a href="#_6-7-3-old-gc" class="header-anchor">#</a> 6.7.3. Old GC</h4> <ul><li>通过<code>-XX:InitialingHeapOccupancyPercent=N</code>指定达到什么程度时触发 默认 45</li> <li>当堆用量到达一定程度时触发,这个 <code>GC 是并发执行的</code></li> <li><code>会有漏标错标问题,三色标记解决</code></li></ul> <p><strong>流程:</strong> <img src="http://md.yike.link/20200406141916_fHkrvY_Screenshot.jpeg" alt="流程"></p> <ul><li>STW 实际上就是进行一次 <code>Fully Young GC</code></li> <li>并发初始标记<code>(三色标记,不停用户线程的情况下标记)</code></li> <li>STW 重新标记(SATB),并处理</li> <li>清理</li></ul> <h5 id="_6-7-3-1-三色标记"><a href="#_6-7-3-1-三色标记" class="header-anchor">#</a> 6.7.3.1. 三色标记</h5> <blockquote><p><strong>原因:</strong> GC roots 是黑色,首先把所有灰色放入到一个队列中, 然后从队列中拿出一个灰色的对象对其所有的引用进行扫码,然后将其改为黑色, 在某个时刻所有的灰色都变成黑色代表标记完成,但是由于是并发执行的,用户线程会随时对引用进行修改</p></blockquote> <p><strong>解决方案:</strong> 通过 <code>SATB (Snapshot At The Begining)</code> + <code>Write Barrier</code> 解决;</p> <p><em>就是通过写屏障在指针发生改变时记录这个状态(RS 记录),并且将对象放入一个队列中,等等线程处理</em></p> <h4 id="_6-7-4-mixed-gc"><a href="#_6-7-4-mixed-gc" class="header-anchor">#</a> 6.7.4. Mixed GC</h4> <p>和年轻代 GC 用的用于的算法(STW - Parallel Scavenge)</p> <ul><li>选择若干个 Region 进行清理,包含新生代老年代 (默认 1/8 的 Region,选择垃圾最多的区域)</li> <li>进行 STW 的清理, <code>因为区域垃圾很多代表要copy的对象就越少,要Copy的对象少所以STW的时间就会很短</code>(选择垃圾最多区域的原因)</li></ul> <blockquote><p>好处: 同时进行老年代和年轻的清理,并且效率极高,低延时,会根据设定 STW 目标来控制时间</p></blockquote> <h3 id="_6-8-zgc"><a href="#_6-8-zgc" class="header-anchor">#</a> 6.8. ZGC</h3> <p>未来的发展方向,太超前,以后研究</p> <blockquote><p>这个 ZGC 是 OpenJDK11 的默认回收器,采用 染色指针和虚拟地址的方式实现
效率极高, 并发标记,并发压缩,并发 Copy 并且不分区</p></blockquote> <h2 id="_7-堆大小的调优"><a href="#_7-堆大小的调优" class="header-anchor">#</a> 7. 堆大小的调优</h2> <p>一般来说,堆越大越好, 降低GC频率,但是会增加单次GC的耗时</p> <p>32位系统最大支持2G内存,但是64位无限制</p> <p>优先调优新生代(98%说法)</p> <h2 id="_8-四种引用"><a href="#_8-四种引用" class="header-anchor">#</a> 8. 四种引用</h2> <ul><li>强引用
<ul><li>把一个对象赋给一个引用变量，这个引用变量就是一个强引用。当一个对象被强引用变量引用时,它是不可能被垃圾回收机制回收的;</li></ul></li> <li>软应用
<ul><li>软引用需要用 SoftReference 类来实现，对于只有软引用的对象来说，当系统内存足够时它不会被回收，当系统内存空间不足时它会被回收。软引用通常用在对内存敏感的程序中。</li></ul></li> <li>弱引用
<ul><li>弱引用需要用 WeakReference 类来实现，它比软引用的生存期更短，对于只有弱引用的对象来说，只要垃圾回收机制一运行，不管 JVM 的内存空间是否足够，总会回收该对象占用的内存。</li></ul></li> <li>虚引用
<ul><li>虚引用需要 PhantomReference 类来实现，它不能单独使用，必须和引用队列联合使用。虚引用的主要作用是跟踪对象被垃圾回收的状态。</li></ul></li></ul> <h2 id="_9-分代回收-与-分区回收"><a href="#_9-分代回收-与-分区回收" class="header-anchor">#</a> 9. 分代回收 与 分区回收</h2> <ul><li>分区算法则将整个堆空间划分为连续的不同小区间, 每个小区间独立使用, 独立回收. 这样做的
好处是可以控制一次回收多少个小区间 , 根据目标停顿时间, 每次合理地回收若干个小区间(而不是
整个堆), 从而减少一次 GC 所产生的停顿。</li> <li>当前主流 VM 垃圾收集都采用”分代收集”(Generational Collection)算法, 这种算法会根据对象存活周期的不同将内存划分为几块, 如 JVM 中的 新生代、老年代、永久代，这样就可以根据各年代特点分别采用最适当的 GC 算法</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">5/12/2022, 12:19:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.0c328148.js" defer></script><script src="/blog/assets/js/2.ef27732c.js" defer></script><script src="/blog/assets/js/16.ade73102.js" defer></script>
  </body>
</html>
