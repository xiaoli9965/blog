<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. å‘å±•å†å² | I&#39;m Alex</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="123">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f9dc4244.css" as="style"><link rel="preload" href="/blog/assets/js/app.0c328148.js" as="script"><link rel="preload" href="/blog/assets/js/2.ef27732c.js" as="script"><link rel="preload" href="/blog/assets/js/3.e2e3b0e7.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4fc174d0.js"><link rel="prefetch" href="/blog/assets/js/11.4b9e5083.js"><link rel="prefetch" href="/blog/assets/js/12.8c45d22b.js"><link rel="prefetch" href="/blog/assets/js/13.a7706ab2.js"><link rel="prefetch" href="/blog/assets/js/14.9e9431ac.js"><link rel="prefetch" href="/blog/assets/js/15.191a76b5.js"><link rel="prefetch" href="/blog/assets/js/16.ade73102.js"><link rel="prefetch" href="/blog/assets/js/17.455cea14.js"><link rel="prefetch" href="/blog/assets/js/18.cf9594d9.js"><link rel="prefetch" href="/blog/assets/js/19.bdb0a3c4.js"><link rel="prefetch" href="/blog/assets/js/20.fd4b444e.js"><link rel="prefetch" href="/blog/assets/js/21.01379a95.js"><link rel="prefetch" href="/blog/assets/js/22.771705d3.js"><link rel="prefetch" href="/blog/assets/js/23.00e498db.js"><link rel="prefetch" href="/blog/assets/js/24.02bc0deb.js"><link rel="prefetch" href="/blog/assets/js/25.1bb2541a.js"><link rel="prefetch" href="/blog/assets/js/26.970f0106.js"><link rel="prefetch" href="/blog/assets/js/27.9e87a29d.js"><link rel="prefetch" href="/blog/assets/js/28.c97a693d.js"><link rel="prefetch" href="/blog/assets/js/29.9963f0cf.js"><link rel="prefetch" href="/blog/assets/js/30.afb8e3c4.js"><link rel="prefetch" href="/blog/assets/js/31.ac96d13a.js"><link rel="prefetch" href="/blog/assets/js/32.91959568.js"><link rel="prefetch" href="/blog/assets/js/33.bc02d183.js"><link rel="prefetch" href="/blog/assets/js/34.9f4bdea4.js"><link rel="prefetch" href="/blog/assets/js/35.85cd64bd.js"><link rel="prefetch" href="/blog/assets/js/36.9efafaae.js"><link rel="prefetch" href="/blog/assets/js/37.13f25b82.js"><link rel="prefetch" href="/blog/assets/js/38.7f91a217.js"><link rel="prefetch" href="/blog/assets/js/39.15f7b5b6.js"><link rel="prefetch" href="/blog/assets/js/4.108b56bf.js"><link rel="prefetch" href="/blog/assets/js/40.07a706de.js"><link rel="prefetch" href="/blog/assets/js/41.a9ad9f4f.js"><link rel="prefetch" href="/blog/assets/js/5.e004f495.js"><link rel="prefetch" href="/blog/assets/js/6.59736120.js"><link rel="prefetch" href="/blog/assets/js/7.ce721f24.js"><link rel="prefetch" href="/blog/assets/js/8.e707e9a2.js"><link rel="prefetch" href="/blog/assets/js/9.9f7d8719.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f9dc4244.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="I'm Alex" class="logo"> <span class="site-name can-hide">I'm Alex</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java â˜•ï¸" class="dropdown-title"><span class="title">Java â˜•ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java â˜•ï¸" class="mobile-dropdown-title"><span class="title">Java â˜•ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          åŸºç¡€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          è™šæ‹Ÿæœº
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/å†…å­˜æ¨¡å‹.html" class="nav-link">
  å†…å­˜æ¨¡å‹
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/åƒåœ¾å›æ”¶.html" class="nav-link">
  åƒåœ¾å›æ”¶
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/ç±»åŠ è½½æœºåˆ¶.html" class="nav-link">
  ç±»åŠ è½½æœºåˆ¶
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/æŠ„ä½œä¸š.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          å¤šçº¿ç¨‹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/å¤šçº¿ç¨‹åŸºç¡€.html" class="nav-link">
  å¤šçº¿ç¨‹åŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nioå¤šè·¯å¤ç”¨.html" class="nav-link">
  æ“ä½œç³»ç»Ÿçš„å¤šè·¯å¤ç”¨
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åˆ†å¸ƒå¼" class="dropdown-title"><span class="title">åˆ†å¸ƒå¼</span> <span class="arrow down"></span></button> <button type="button" aria-label="åˆ†å¸ƒå¼" class="mobile-dropdown-title"><span class="title">åˆ†å¸ƒå¼</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/æŠ„ä½œä¸š.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/01_åŸºç¡€.html" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/02_è¿›é˜¶.html" class="nav-link">
  è¿›é˜¶
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/03_é›†ç¾¤.html" class="nav-link">
  é›†ç¾¤
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/04_6ç‰ˆæœ¬.html" class="nav-link">
  6ç‰ˆæœ¬
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/czy.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          åˆ†å¸ƒå¼ä¸€è‡´æ€§æ–¹æ¡ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/åˆ†å¸ƒå¼äº‹åŠ¡.html" class="nav-link">
  åˆ†å¸ƒå¼äº‹åŠ¡
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/åˆ†å¸ƒå¼é”.html" class="nav-link">
  åˆ†å¸ƒå¼é”
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ”—" class="dropdown-title"><span class="title">ğŸ”—</span> <span class="arrow down"></span></button> <button type="button" aria-label="ğŸ”—" class="mobile-dropdown-title"><span class="title">ğŸ”—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDKä¸‹è½½
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          æ¡†æ¶æ–‡æ¡£
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          å‰ç«¯æ¡†æ¶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont çŸ¢é‡å›¾åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          å¼€å‘å·¥å…·åŒ…
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          åœ¨çº¿å·¥å…·
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿å·¥å…·Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSONæ ¼å¼åŒ–
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç äº‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java â˜•ï¸" class="dropdown-title"><span class="title">Java â˜•ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java â˜•ï¸" class="mobile-dropdown-title"><span class="title">Java â˜•ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          åŸºç¡€
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/åŸºç¡€/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          è™šæ‹Ÿæœº
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/å†…å­˜æ¨¡å‹.html" class="nav-link">
  å†…å­˜æ¨¡å‹
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/åƒåœ¾å›æ”¶.html" class="nav-link">
  åƒåœ¾å›æ”¶
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/ç±»åŠ è½½æœºåˆ¶.html" class="nav-link">
  ç±»åŠ è½½æœºåˆ¶
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/æŠ„ä½œä¸š.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          å¤šçº¿ç¨‹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/å¤šçº¿ç¨‹åŸºç¡€.html" class="nav-link">
  å¤šçº¿ç¨‹åŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/å¤šçº¿ç¨‹/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nioå¤šè·¯å¤ç”¨.html" class="nav-link">
  æ“ä½œç³»ç»Ÿçš„å¤šè·¯å¤ç”¨
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åˆ†å¸ƒå¼" class="dropdown-title"><span class="title">åˆ†å¸ƒå¼</span> <span class="arrow down"></span></button> <button type="button" aria-label="åˆ†å¸ƒå¼" class="mobile-dropdown-title"><span class="title">åˆ†å¸ƒå¼</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/mq/æŠ„ä½œä¸š.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/01_åŸºç¡€.html" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/02_è¿›é˜¶.html" class="nav-link">
  è¿›é˜¶
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/03_é›†ç¾¤.html" class="nav-link">
  é›†ç¾¤
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/04_6ç‰ˆæœ¬.html" class="nav-link">
  6ç‰ˆæœ¬
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/redis/czy.html" class="nav-link">
  æŠ„ä½œä¸š
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          åˆ†å¸ƒå¼ä¸€è‡´æ€§æ–¹æ¡ˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/åˆ†å¸ƒå¼äº‹åŠ¡.html" class="nav-link">
  åˆ†å¸ƒå¼äº‹åŠ¡
</a></li><li class="dropdown-subitem"><a href="/blog/åˆ†å¸ƒå¼/åˆ†å¸ƒå¼ä¸€è‡´æ€§/åˆ†å¸ƒå¼é”.html" class="nav-link">
  åˆ†å¸ƒå¼é”
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ”—" class="dropdown-title"><span class="title">ğŸ”—</span> <span class="arrow down"></span></button> <button type="button" aria-label="ğŸ”—" class="mobile-dropdown-title"><span class="title">ğŸ”—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDKä¸‹è½½
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          æ¡†æ¶æ–‡æ¡£
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          å‰ç«¯æ¡†æ¶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont çŸ¢é‡å›¾åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          å¼€å‘å·¥å…·åŒ…
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          åœ¨çº¿å·¥å…·
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿å·¥å…·Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSONæ ¼å¼åŒ–
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç äº‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>1. å‘å±•å†å²</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/MYSQL/01.html#_1-å‘å±•å†å²" class="sidebar-link">1. å‘å±•å†å²</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/MYSQL/01.html#_2-mysqlçš„å¼€æºç‰ˆæœ¬" class="sidebar-link">2. Mysqlçš„å¼€æºç‰ˆæœ¬</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/MYSQL/01.html#_3-æ¶æ„åˆ†å±‚" class="sidebar-link">3. æ¶æ„åˆ†å±‚</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_3-1-æŸ¥è¯¢çš„æ‰§è¡Œæµç¨‹" class="sidebar-link">3.1. æŸ¥è¯¢çš„æ‰§è¡Œæµç¨‹</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_3-2-æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹" class="sidebar-link">3.2. æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹</a></li></ul></li><li><a href="/blog/MYSQL/01.html#_4-innodb" class="sidebar-link">4. InnoDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-1-ä»ç£ç›˜åŠ è½½æ•°æ®" class="sidebar-link">4.1. ä»ç£ç›˜åŠ è½½æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-2-innodb-buffer-pool" class="sidebar-link">4.2. InnoDB buffer pool</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-3-redo-log" class="sidebar-link">4.3. redo log</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-4-undo-log-äº‹åŠ¡" class="sidebar-link">4.4. undo log (äº‹åŠ¡)</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-5-binlog" class="sidebar-link">4.5. binlog</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-6-æ•°æ®æ›´æ–°è¿‡ç¨‹-ç®€åŒ–" class="sidebar-link">4.6. æ•°æ®æ›´æ–°è¿‡ç¨‹(ç®€åŒ–)</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-7-change-buffer-insert-buffer" class="sidebar-link">4.7. change buffer (Insert Buffer)</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_4-8-è‡ªé€‚åº”hashç´¢å¼•" class="sidebar-link">4.8. è‡ªé€‚åº”Hashç´¢å¼•</a></li></ul></li><li><a href="/blog/MYSQL/01.html#_5-ç´¢å¼•" class="sidebar-link">5. ç´¢å¼•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-1-innodb-å½±è—çš„å­—æ®µ" class="sidebar-link">5.1. innoDB å½±è—çš„å­—æ®µ</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-2-b-tree" class="sidebar-link">5.2. B + Tree</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-3-innodbäºŒçº§ç´¢å¼•" class="sidebar-link">5.3. InnoDBäºŒçº§ç´¢å¼•</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-4-è‡ªåŠ¨å»ºç«‹ç´¢å¼•çš„è§„åˆ™" class="sidebar-link">5.4. è‡ªåŠ¨å»ºç«‹ç´¢å¼•çš„è§„åˆ™?</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-5-ç¦»æ•£åº¦" class="sidebar-link">5.5. ç¦»æ•£åº¦</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-6-æœ€å·¦åŒ¹é…åŸåˆ™" class="sidebar-link">5.6. æœ€å·¦åŒ¹é…åŸåˆ™</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-7-ç´¢å¼•æ¡ä»¶ä¸‹æ¨" class="sidebar-link">5.7. ç´¢å¼•æ¡ä»¶ä¸‹æ¨</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-8-å»ºç«‹ç´¢å¼•è§„åˆ™" class="sidebar-link">5.8. å»ºç«‹ç´¢å¼•è§„åˆ™</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_5-9-ä»€ä¹ˆæƒ…å†µç”¨ä¸åˆ°ç´¢å¼•" class="sidebar-link">5.9. ä»€ä¹ˆæƒ…å†µç”¨ä¸åˆ°ç´¢å¼•</a></li></ul></li><li><a href="/blog/MYSQL/01.html#_6-äº‹åŠ¡" class="sidebar-link">6. äº‹åŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-1-acid" class="sidebar-link">6.1. ACID</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-2-è„è¯»-å¹»è¯»-ä¸å¯é‡å¤è¯»" class="sidebar-link">6.2. è„è¯»\å¹»è¯»\ä¸å¯é‡å¤è¯»</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-3-å››ç§éš”ç¦»çº§åˆ«-sql-92æ ‡å‡†" class="sidebar-link">6.3. å››ç§éš”ç¦»çº§åˆ« (SQL 92æ ‡å‡†)</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-4-rr-rc-æ€ä¹ˆé€‰æ‹©" class="sidebar-link">6.4. RR RC æ€ä¹ˆé€‰æ‹©</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-5-mvcc" class="sidebar-link">6.5. MVCC</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-6-é”" class="sidebar-link">6.6. é”</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-7-é”çš„ç®—æ³•" class="sidebar-link">6.7. é”çš„ç®—æ³•</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-8-æ­»é”çš„å‘é€æ¡ä»¶" class="sidebar-link">6.8. æ­»é”çš„å‘é€æ¡ä»¶</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-9-å¼€å¯æ ‡å‡†ç›‘æ§å’Œé”ç›‘æ§" class="sidebar-link">6.9. å¼€å¯æ ‡å‡†ç›‘æ§å’Œé”ç›‘æ§</a></li><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_6-10-é”çš„é¿å…" class="sidebar-link">6.10. é”çš„é¿å…</a></li></ul></li><li><a href="/blog/MYSQL/01.html#_7-ä¸»ä»å¤åˆ¶" class="sidebar-link">7. ä¸»ä»å¤åˆ¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/MYSQL/01.html#_8-å¦‚ä½•ä¼˜åŒ–" class="sidebar-link">8. å¦‚ä½•ä¼˜åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/MYSQL/01.html#_8-1-å®å¡”å®¢æˆ·ç«¯" class="sidebar-link">8.1. å®å¡”å®¢æˆ·ç«¯</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-å‘å±•å†å²"><a href="#_1-å‘å±•å†å²" class="header-anchor">#</a> 1. å‘å±•å†å²</h2> <ul><li>1996å¹´ MySql 1.0å‘å¸ƒ</li> <li>2000å¹´ ISAMå‡çº§æˆ MyISAMå¼•æ“, MySQLå¼€æº</li> <li>2003å¹´ MySQL4.0å‘å¸ƒ, é›†æˆInnoDBå­˜å‚¨å¼•æ“</li> <li>2005å¹´ 5.0å‘å¸ƒ,æä¾›äº†è§†å›¾å’Œå­˜å‚¨è¿‡ç¨‹åŠŸèƒ½</li> <li>2010å¹´ 5.5å‘å¸ƒ,InnoDBæˆä¸ºé»˜è®¤å­˜å‚¨å¼•æ“</li> <li>2016å¹´ MySQL 8å‘å¸ƒ</li></ul> <h2 id="_2-mysqlçš„å¼€æºç‰ˆæœ¬"><a href="#_2-mysqlçš„å¼€æºç‰ˆæœ¬" class="header-anchor">#</a> 2. Mysqlçš„å¼€æºç‰ˆæœ¬</h2> <ul><li>MariaDB</li> <li>InnoSQL</li> <li>...ç­‰</li></ul> <h2 id="_3-æ¶æ„åˆ†å±‚"><a href="#_3-æ¶æ„åˆ†å±‚" class="header-anchor">#</a> 3. æ¶æ„åˆ†å±‚</h2> <p><img src="/blog/assets/img/jiagefenceng.7114a67e.jpg" alt="æ¶æ„åˆ†å±‚"></p> <ul><li>Serverå±‚: å¤„ç†SQLè¯­å¥,å¯¹æ•°æ®çš„è¿‡æ»¤è®¡ç®—,ä¿®æ”¹</li> <li>å­˜å‚¨å¼•æ“å±‚: æä¾›è·å–æ•°æ®çš„æ¥å£, å­˜å‚¨æ•°æ®</li></ul> <h3 id="_3-1-æŸ¥è¯¢çš„æ‰§è¡Œæµç¨‹"><a href="#_3-1-æŸ¥è¯¢çš„æ‰§è¡Œæµç¨‹" class="header-anchor">#</a> 3.1. æŸ¥è¯¢çš„æ‰§è¡Œæµç¨‹</h3> <p><img src="/blog/assets/img/chaxunzhixingliucheng.656746ab.png" alt=""></p> <h3 id="_3-2-æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹"><a href="#_3-2-æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹" class="header-anchor">#</a> 3.2. æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹</h3> <p><img src="/blog/assets/img/gengxingzhixingliucheng.0428b5f0.png" alt=""></p> <h2 id="_4-innodb"><a href="#_4-innodb" class="header-anchor">#</a> 4. InnoDB</h2> <p><img src="/blog/assets/img/innodb02.67647027.png" alt=""></p> <h3 id="_4-1-ä»ç£ç›˜åŠ è½½æ•°æ®"><a href="#_4-1-ä»ç£ç›˜åŠ è½½æ•°æ®" class="header-anchor">#</a> 4.1. ä»ç£ç›˜åŠ è½½æ•°æ®</h3> <ul><li>å±€éƒ¨æ€§åŸç†</li> <li>é¡µ16kb, (4KBçš„å€æ•°)</li></ul> <p><img src="/blog/assets/img/innodbpeizhiye.1759635a.png" alt=""></p> <h4 id="_4-1-1-åŒå†™ç¼“å†²"><a href="#_4-1-1-åŒå†™ç¼“å†²" class="header-anchor">#</a> 4.1.1. åŒå†™ç¼“å†²</h4> <p>é¡µçš„å¤‡ä»½, é˜²æ­¢é¡µå†™ä¸€åŠå†™å¤±è´¥äº†</p> <p>æ“ä½œç³»ç»Ÿçš„é¡µæ˜¯ 4Kä¸€ä¸ª, innodbçš„æ˜¯16k,  é‚£ä¹ˆå°±éœ€è¦å†™4æ¬¡.. åŒå†™ç¼“å­˜å°±æ˜¯é˜²æ­¢é¡µéƒ¨åˆ†å¤±è´¥çš„æœºåˆ¶</p> <h3 id="_4-2-innodb-buffer-pool"><a href="#_4-2-innodb-buffer-pool" class="header-anchor">#</a> 4.2. InnoDB buffer pool</h3> <p><img src="/blog/assets/img/shuapan.eb0265a2.png" alt="">
å°†å†…å­˜poolçš„æ•°æ®åˆ·å…¥ç£ç›˜å°±å«åˆ·è„
ä¸ºäº†é˜²æ­¢å†…å­˜æ•°æ®æ²¡åˆ·åˆ°ç£ç›˜ä¸­,æé«˜å¯é æ€§,é¿å…æ•°æ®ä¸¢å¤±ä»æ¥äº§ç”Ÿäº†: redo log</p> <p><code>åœ¨liunxç³»ç»Ÿä¸­,é»˜è®¤çš„buffpollæ˜¯128m, æœ€å¤§èƒ½ç”¨åˆ°æœåŠ¡å™¨å†…å­˜çš„80%ä»¥ä¸Š</code></p> <p><strong>ä¸ºä»€ä¹ˆè¦å¼•å…¥ buffer pool è€Œä¸ç›´æ¥å†™å…¥ç£ç›˜?</strong>
å› ä¸ºé¡ºåºIO é€Ÿåº¦å¿«,  é¡ºåºIOé™ä½äº†ç£ç›˜å¯»å€çš„é”€æ¯</p> <p><strong>å†…å­˜ç©ºé—´å†™æ»¡äº†ä¼šæ€æ ·?</strong>
LRUç¼“å­˜, ç¼“å­˜å¹¶ä¸æ˜¯ç›´æ¥æŒ‡å‘å…·ä½“æ•°æ®,è€Œæ˜¯æŒ‡å‘æ•°æ®å¯¹åº”çš„æ•°æ®é¡µçš„æŒ‡é’ˆ
åˆ†ä¸ºå†·æ•°æ®å’Œçƒ­æ•°æ®åŒº,æ·˜æ±°ä¼šç›´æ¥æ·˜æ±°å†·æ•°æ®åŒº</p> <ul><li>å†·æ•°æ®åŒº: 3/8</li> <li>çƒ­æ•°æ®åŒº: 5/8</li></ul> <p>ä»»ä½•æ•°æ®è¿›æ¥çš„æ—¶å€™éƒ½ä¼šåˆ°è¾¾å†·æ•°æ®åŒº</p> <p><img src="/blog/assets/img/lengrefenli.fbd515dc.png" alt="å†·çƒ­åˆ†ç¦»"></p> <h3 id="_4-3-redo-log"><a href="#_4-3-redo-log" class="header-anchor">#</a> 4.3. redo log</h3> <p>redo logæ˜¯é¡ºåºåˆ·ç›˜çš„,  redo logä¹Ÿæœ‰ç¼“å†²åŒº å«<code>log buffer</code></p> <p>é»˜è®¤å¤§å° 48m, å½“48må†™æ»¡åä¼šè¿›è¡Œ  buffer poolåˆ·ç›˜</p> <p>å­˜å‚¨è·¯å¾„: é»˜è®¤åœ¨å®‰è£…ç›®å½•ä¸‹, é»˜è®¤æœ‰2ä¸ªæ–‡ä»¶  åå­—å« ib_logfile0, ib_logfile1</p> <p><img src="/blog/assets/img/shuapanshiji.76c037ab.png" alt=""></p> <h4 id="_4-3-1-åˆ·ç›˜æ—¶æœº"><a href="#_4-3-1-åˆ·ç›˜æ—¶æœº" class="header-anchor">#</a> 4.3.1. åˆ·ç›˜æ—¶æœº</h4> <p>åˆ·ç›˜æ—¶æœºè¦æ ¹æ®æ€§èƒ½å’Œå¯é æ€§å–ä¸ªå¹³è¡¡ç‚¹, <code>é»˜è®¤å€¼commitä¹‹åå°±ä¼šç«‹å³åˆ·å…¥ç£ç›˜</code></p> <ul><li>æ€§èƒ½è¶Šå¥½é‚£ä¹ˆåˆ·ç›˜é—´éš”å°±è¦è¶Šé•¿</li> <li>å¯é æ€§è¶Šé«˜å°±è¦è¾“ç›˜è¯„ç‡è¶Šé«˜</li></ul> <h3 id="_4-4-undo-log-äº‹åŠ¡"><a href="#_4-4-undo-log-äº‹åŠ¡" class="header-anchor">#</a> 4.4. undo log (äº‹åŠ¡)</h3> <p>è®°å½•äº‹åŠ¡å‘ç”Ÿä¹‹å‰çš„æ•°æ®çŠ¶æ€,å‘ç”Ÿå¼‚å¸¸æ˜¯å›æ»š,ä¿è¯åŸå­æ€§</p> <ul><li>ä¸€ä¸ªæ•°æ®å¤šæ¡äº‹åŠ¡,ä¼šå½¢æˆundologé“¾, å’Œ ROW_RELL_PNTæœ‰å…³</li></ul> <h3 id="_4-5-binlog"><a href="#_4-5-binlog" class="header-anchor">#</a> 4.5. binlog</h3> <p>è¿™ä¸ªæ˜¯Serverå±‚çš„æ—¥å¿—, ä»¥äº‹ä»¶çš„å½¢å¼å‡ ç‡äº†æ‰€æœ‰çš„DDL å’Œ DMLè¯­å¥, å¯ä»¥ç”¨æ¥åšä¸»ä»å¤åˆ¶å’Œæ•°æ®æ¢å¤</p> <h3 id="_4-6-æ•°æ®æ›´æ–°è¿‡ç¨‹-ç®€åŒ–"><a href="#_4-6-æ•°æ®æ›´æ–°è¿‡ç¨‹-ç®€åŒ–" class="header-anchor">#</a> 4.6. æ•°æ®æ›´æ–°è¿‡ç¨‹(ç®€åŒ–)</h3> <ol><li>äº‹åŠ¡å¼€å§‹, ä»å†…å­˜(buffer pool)æˆ–ç£ç›˜(data file)å–åˆ°åŒ…å«è¿™æ¡æ•°æ®çš„æ•°æ®é¡µ,è¿”å›ç»™Serverçš„æ‰§è¡Œå™¨;</li> <li>Serverçš„æ‰§è¡Œå™¨ä¿®æ”¹æ•°æ®é¡µçš„è¿™ä¸€è¡Œæ•°æ®å€¼ä¸º 'alexli';</li> <li>è®°å½•neme='alexli'åˆ°undo log;</li> <li>è®°å½•name='alexli'åˆ°redo log;</li> <li>è°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£,å‰åˆ©æ•°æ®é¡µåˆ°buffer pool;</li> <li>æäº¤äº‹åŠ¡;</li></ol> <h3 id="_4-7-change-buffer-insert-buffer"><a href="#_4-7-change-buffer-insert-buffer" class="header-anchor">#</a> 4.7. change buffer (Insert Buffer)</h3> <p>change bufferæ˜¯buffer poolçš„ä¸€éƒ¨åˆ†, é»˜è®¤å ç”¨buffer poolå››åˆ†ä¹‹ä¸€çš„ç©ºé—´(25%)
å¦‚æœè¿™ä¸ªæ•°æ®é¡µä¸æ˜¯å”¯ä¸€ç´¢å¼•,éå”¯ä¸€æ€§çš„æ•°æ®. è¿™ç§æƒ…å†µå¯ä»¥å…ˆæŠŠä¿®æ”¹çš„æ•°æ®å­˜åˆ°change bufferä¸­, ä»æ¥å¤§å¤§æå‡ DML,DDLçš„æ‰§è¡Œé€Ÿåº¦.</p> <h3 id="_4-8-è‡ªé€‚åº”hashç´¢å¼•"><a href="#_4-8-è‡ªé€‚åº”hashç´¢å¼•" class="header-anchor">#</a> 4.8. è‡ªé€‚åº”Hashç´¢å¼•</h3> <p>åœ¨å»ºè¡¨æ—¶æŒ‡å®š using hash,è¿™ä¸ªæ˜¯innodbä¸ºçƒ­ç‚¹æ•°æ®è‡ªåŠ¨æ·»åŠ çš„hashç´¢å¼•,ä¸ºäº†æå‡çƒ­ç‚¹æ•°æ®è®¿é—®é€Ÿåº¦</p> <h2 id="_5-ç´¢å¼•"><a href="#_5-ç´¢å¼•" class="header-anchor">#</a> 5. ç´¢å¼•</h2> <p>ç´¢å¼•åº•å±‚ç”¨çš„ B+Tree, å°±æ˜¯ B-TREE+é“¾è¡¨çš„ä¸€ä¸ªç»“æ„</p> <p><em>ä¸ºä»€ä¹ˆä¸ç”¨äºŒå‰æ ‘?</em></p> <ul><li>å½“æ•°æ®é‡å¤§äº†ä¹‹å,æ ‘çš„æ·±åº¦ä¼šå¾ˆæ·±è¦æŸ¥æ‰¾å¾ˆå¤šæ¬¡</li> <li>åœ¨æŸç§æç«¯æƒ…å†µä¸‹,äºŒå‰æ ‘ä¼šé€€åŒ–ä¸ºçº¿æ€§ç»“æ„ç±»ä¼¼äºé“¾è¡¨</li></ul> <h3 id="_5-1-innodb-å½±è—çš„å­—æ®µ"><a href="#_5-1-innodb-å½±è—çš„å­—æ®µ" class="header-anchor">#</a> 5.1. innoDB å½±è—çš„å­—æ®µ</h3> <p>innodbé»˜è®¤ä¼šä¸ºè¡¨ç®€å†ä¸‰ä¸ªå½±è—å­—æ®µ</p> <ul><li>**DB_ROW_ID: **6å­—èŠ‚  è¡Œæ ‡è¯† è‡ªå¢</li> <li><strong>DB_TRX_ID:</strong> 6å­—èŠ‚  äº‹åŠ¡ID è‡ªå¢</li> <li><strong>DB_ROLL_PTR:</strong>  7å­—èŠ‚  å›æ»šæŒ‡é’ˆ,åˆ é™¤ç‰ˆæœ¬å·</li></ul> <h3 id="_5-2-b-tree"><a href="#_5-2-b-tree" class="header-anchor">#</a> 5.2. B + Tree</h3> <p><img src="/blog/assets/img/b+t01.2e81c8d4.png" alt=""></p> <p>ä¼˜åŠ¿:</p> <ul><li>æ‰«åº“,æ‰«è¡¨èƒ½åŠ›æ›´å¼º</li> <li>ç£ç›˜è¯»å†™èƒ½åŠ›æ›´å¼º</li> <li>æ’åºèƒ½åŠ›æ›´å¼º</li> <li>æ•ˆç‡æ›´åŠ ç¨³å®š</li> <li>ä¸€èˆ¬åˆ°3å±‚çš„æ—¶å€™å°±èƒ½å­˜å‚¨åƒä¸‡çº§åˆ«çš„æ•°æ®äº†,</li></ul> <h3 id="_5-3-innodbäºŒçº§ç´¢å¼•"><a href="#_5-3-innodbäºŒçº§ç´¢å¼•" class="header-anchor">#</a> 5.3. InnoDBäºŒçº§ç´¢å¼•</h3> <blockquote><p>éèšé›†ç´¢å¼•çš„ç´¢å¼•åˆ—å…¨éƒ¨éƒ½æ˜¯äºŒçº§ç´¢å¼•</p></blockquote> <ul><li>äºŒçº§ç´¢å¼•çš„å€¼è®°å½•è¿™ä¸»é”®id, æŸ¥è¯¢çš„æ—¶å€™ä¼šå›è¡¨æŸ¥å±€ä¿ƒç´¢å¼•</li></ul> <p><strong>ä¸ºä»€ä¹ˆäºŒçº§ç´¢å¼•ä¸ç›´æ¥è®°å½•æ•´æ¡è®°å½•çš„ç£ç›˜ç´¢å¼•?</strong>
å› ä¸ºæ•°æ®è¡¨ä¼šä¸€ç›´ä¸æ–­æ–°å¢å˜åŒ–,å˜åŒ–åä¸»é”®éœ€è¦é‡æ–°æ’åºç»´æŠ¤ç£ç›˜ä½ç½®ä¹Ÿä¼šå˜åŠ¨. å¦‚æœäºŒçº§ç´¢å¼•ç›´æ¥è®°å½•ç£ç›˜ä½ç½®,é‚£ä¹ˆåœ¨DMLçš„æ—¶å€™è¿˜éœ€è¦é¢å¤–çš„å»ç»´æŠ¤äºŒçº§ç´¢å¼•.</p> <h3 id="_5-4-è‡ªåŠ¨å»ºç«‹ç´¢å¼•çš„è§„åˆ™"><a href="#_5-4-è‡ªåŠ¨å»ºç«‹ç´¢å¼•çš„è§„åˆ™" class="header-anchor">#</a> 5.4. è‡ªåŠ¨å»ºç«‹ç´¢å¼•çš„è§„åˆ™?</h3> <ul><li>å¦‚æœæ²¡æœ‰å»ºç«‹ç´¢å¼•, innodbä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸åŒ…å«ç©ºå€¼çš„å­—æ®µå»ºç«‹å”¯ä¸€ç´¢å¼•;</li> <li>æ²¡æœ‰ä¸»é”®ç´¢å¼•,ä½†æ˜¯æœ‰æ™®é€šç´¢å¼•, é‚£ä¹ˆç¬¬ä¸€ä¸ªæ™®é€šç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•;</li> <li>å¦‚æœæ²¡æœ‰åŒ…å«éç©ºå€¼çš„å­—æ®µ, ä¼šç”Ÿæˆä¸€ä¸ªéšè—çš„åˆ— row id(è‡ªå¢,6å­—èŠ‚) ä½œä¸ºä¸»é”®ç´¢å¼•</li></ul> <h3 id="_5-5-ç¦»æ•£åº¦"><a href="#_5-5-ç¦»æ•£åº¦" class="header-anchor">#</a> 5.5. ç¦»æ•£åº¦</h3> <ul><li>ä¸è¦åœ¨ç¦»æ•£åº¦ä½çš„å­—æ®µå»ºç«‹ç´¢å¼•(æ¯”å¦‚æ€§åˆ«å­—æ®µ), è¿™ç§é‡å¤ç‡å¾ˆé«˜çš„å­—æ®µå»ºç«‹ç´¢å¼•æ˜¯æ²¡æœ‰æ„ä¹‰çš„, èµ·ä¸åˆ°æé€Ÿçš„ä½œç”¨</li></ul> <h3 id="_5-6-æœ€å·¦åŒ¹é…åŸåˆ™"><a href="#_5-6-æœ€å·¦åŒ¹é…åŸåˆ™" class="header-anchor">#</a> 5.6. æœ€å·¦åŒ¹é…åŸåˆ™</h3> <p>è”åˆç´¢å¼•ä¼šæ ¹æ®<code>å»ºç«‹æ—¶ å­—æ®µé¡ºåº</code>è¿›è¡Œæ’åˆ—çš„</p> <ul><li>æŸ¥è¯¢æ—¶  æƒ³è¦èµ°è”åˆç´¢å¼•,<code>å¿…é¡»è¦æœ‰ ç¬¬ä¸€ä¸ªå­—æ®µ</code> ä½œä¸ºæ¡ä»¶,å¦åˆ™å¤±æ•ˆ</li> <li>æŸ¥è¯¢æ—¶ å¤šä¸ªå­—æ®µ é¡ºåºå¯ä»¥éšæ„å¡«å†™, serverå±‚æœ‰ä¼˜åŒ–å™¨ä¼šè¿›è¡Œå¤„ç†</li></ul> <h3 id="_5-7-ç´¢å¼•æ¡ä»¶ä¸‹æ¨"><a href="#_5-7-ç´¢å¼•æ¡ä»¶ä¸‹æ¨" class="header-anchor">#</a> 5.7. ç´¢å¼•æ¡ä»¶ä¸‹æ¨</h3> <p>innodbè‡ªåŠ¨å¼€å¯,è‡ªåŠ¨ä¼˜åŒ–çš„.  ç”¨æˆ·æ— æ³•æ§åˆ¶;</p> <p>æœ¬æ¥æ•°æ®çš„è¿‡æ»¤æ˜¯åœ¨serverå±‚å®Œæˆçš„, åœ¨serverè¦åšçš„æ“ä½œå…ˆåœ¨å­˜å‚¨å¼•æ“å±‚å®Œæˆ.è¿™å°±å«ç´¢å¼•ä¸‹æ¨</p> <p>æ‰“ä¸ªæ¯”æ–¹:</p> <ul><li>è”åˆç´¢å¼•çš„(a,b) ,  æ¯”å¦‚ <code>a='x' like b='%x'</code> çš„æŸ¥è¯¢,  æ­£å¸¸æƒ…å†µæ˜¯ å­˜å‚¨å¼•æ“æŸ¥åˆ° a=xçš„æ•°æ®ç„¶åè¿”å›ç»™serverå±‚, ç„¶åserverå†è¿›è¡Œ<code>like b='%x'</code>è¿‡æ»¤
<ul><li>å¦‚æœæ ¹æ®a='x'æŸ¥è¯¢å‡ºæ¥10Wæ¡æ•°æ®,ä½†æ˜¯ æ»¡è¶³<code>like b='%x'</code>çš„æ•°æ®åªæœ‰ä¸€æ¡,é‚£ä¹ˆå°±æå¤§æµªè´¹äº†serverçš„è®¡ç®—èƒ½åŠ›</li></ul></li> <li>è¿™ä¸ªæ—¶å€™å­˜å‚¨å¼•æ“å±‚ä¼šè¿›è¡Œç´¢å¼•ä¸‹æ¨,åœ¨å¼•æ“å±‚å®Œæˆæ•°æ®çš„è¿‡æ»¤
<ul><li>å­˜å‚¨å¼•æ“å…ˆæ ¹æ®aç­‰å€¼æŸ¥è¯¢ç´¢å¼•,ç„¶åæ‹¿åˆ°açš„bå­—æ®µæ•°æ®,å†å»è”åˆæŸ¥è¯¢.. è¿™æ ·å°±æ˜¯ä¸¤æ¬¡ç´¢å¼•æŸ¥è¯¢ç„¶åè¿”å›serverå±‚</li></ul></li></ul> <h3 id="_5-8-å»ºç«‹ç´¢å¼•è§„åˆ™"><a href="#_5-8-å»ºç«‹ç´¢å¼•è§„åˆ™" class="header-anchor">#</a> 5.8. å»ºç«‹ç´¢å¼•è§„åˆ™</h3> <ul><li>where \ orderæ’åº \ join \ group by çš„å­—æ®µä¸Šå»ºç«‹ç´¢å¼•</li> <li>ç´¢å¼•ä¸ªæ•°ä¸è¦å»ºç«‹å¤ªå¤š (æµªè´¹ç£ç›˜,ä¿®æ”¹æ•°æ®è¿˜éœ€è¦ç»´æŠ¤ç´¢å¼•)</li> <li>åŒºåˆ†åº¦ä½çš„å­—æ®µ, ä¾‹å¦‚ æ€§åˆ«, ä¸è¦å»ºç«‹ç´¢å¼•</li> <li>å¤åˆç´¢å¼•å§ç¦»æ•£åº¦é«˜çš„å­—æ®µæ”¾åˆ°å‰é¢</li> <li>é¢‘ç¹æ›´æ–°çš„å€¼,ä¸è¦å»ºç«‹ä¸»é”®æˆ–è€…ç´¢å¼•</li> <li>ä¸å»ºè®®ä½¿ç”¨æ— åºçš„å€¼å»ºç«‹<strong>ä¸»é”®ç´¢å¼•</strong> (èº«ä»½,UUID) , äºŒçº§ç´¢å¼•æ— æ‰€è°“</li> <li>è¿‡é•¿å­—æ®µ,å»ºç«‹å‰ç¼€ç´¢å¼•,   å‰ç¼€ç´¢å¼•å¯ä»¥æŒ‡å®šæˆªå–å¤šå°‘é•¿åº¦ä½œä¸ºå‰ç¼€ç´¢å¼•.</li></ul> <h3 id="_5-9-ä»€ä¹ˆæƒ…å†µç”¨ä¸åˆ°ç´¢å¼•"><a href="#_5-9-ä»€ä¹ˆæƒ…å†µç”¨ä¸åˆ°ç´¢å¼•" class="header-anchor">#</a> 5.9. ä»€ä¹ˆæƒ…å†µç”¨ä¸åˆ°ç´¢å¼•</h3> <ul><li>ç´¢å¼•åˆ—ä¸Šä½¿ç”¨å‡½æ•° (reolace\ substr\concat\ sum\ count\avg), è¡¨è¾¾å¼</li> <li>å­—ç¬¦ä¸²ä¸åŠ å¼•å·,å‡ºç°<code>éšå¼è½¬æ¢</code></li> <li>likeæ¡ä»¶å‰é¢å¸¦ %</li></ul> <h2 id="_6-äº‹åŠ¡"><a href="#_6-äº‹åŠ¡" class="header-anchor">#</a> 6. äº‹åŠ¡</h2> <h3 id="_6-1-acid"><a href="#_6-1-acid" class="header-anchor">#</a> 6.1. ACID</h3> <ul><li>åŸå­æ€§ (undo log)</li> <li>éš”ç¦»æ€§ (é” + MVCC)</li> <li>æŒä¹…æ€§ (redo log , double wirt buffer)</li> <li>ä¸€è‡´æ€§</li></ul> <h3 id="_6-2-è„è¯»-å¹»è¯»-ä¸å¯é‡å¤è¯»"><a href="#_6-2-è„è¯»-å¹»è¯»-ä¸å¯é‡å¤è¯»" class="header-anchor">#</a> 6.2. è„è¯»\å¹»è¯»\ä¸å¯é‡å¤è¯»</h3> <p><strong>è„è¯»:</strong> è¯»åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®(è¯»åˆ°äº†å†…å­˜ä¸­çš„è„é¡µ)</p> <p><strong>å¹»è¯»:</strong> 2æ¬¡ç›¸åŒçš„æŸ¥è¯¢æ“ä½œ.  ç¬¬ä¸€æ¬¡è¯»1æ¡,ç¬¬äºŒæ¬¡è¯»å˜æˆäº†2æ¡</p> <p><strong>ä¸å¯é‡å¤è¯»:</strong> ä¸¤ä¸ªäº‹åŠ¡,äº‹åŠ¡1å‰åä¸¤æ¬¡è¯»å–çš„æ•°æ®å€¼ä¸ä¸€æ ·,  å› ä¸ºè¯»åˆ°äº†äº‹åŠ¡2å·²æäº¤çš„æ•°æ®</p> <h3 id="_6-3-å››ç§éš”ç¦»çº§åˆ«-sql-92æ ‡å‡†"><a href="#_6-3-å››ç§éš”ç¦»çº§åˆ«-sql-92æ ‡å‡†" class="header-anchor">#</a> 6.3. å››ç§éš”ç¦»çº§åˆ« (SQL 92æ ‡å‡†)</h3> <ul><li>Read Uncommitted (RU è¯»æœªæäº¤):
<ul><li>æœªè§£å†³ä»»ä½•å¹¶å‘é—®é¢˜ ( ç”Ÿäº§ç¯å¢ƒä¸ä¼šä½¿ç”¨â­ï¸)</li></ul></li> <li>Read Committed (RC è¯»å·²æäº¤): è§£å†³è„è¯»
<ul><li>MVCC + è¡Œé” + é—´éš™é” + ä¸´é”®é”</li></ul></li> <li>Repeatable Read (RR å¯é‡å¤è¯»): è§£å†³ä¸å¯é‡å¤è¯»
<ul><li>MVCC + è¡Œé”</li></ul></li> <li>Serializable (ä¸²è¡ŒåŒ–):  æœ€é«˜éš”ç¦»çº§åˆ«,è§£å†³æ‰€æœ‰å¹¶å‘é—®é¢˜
<ul><li>( ç”Ÿäº§ç¯å¢ƒä¸ä¼šä½¿ç”¨â­ï¸)  æ‰€æœ‰çš„è¯­å¥éƒ½ä¼šåŠ é”,è¯»ä¼šé˜»å¡å¢åˆ æ”¹</li></ul></li></ul> <p><em>InnoDB å¯èƒ½å‡ºç°å¹»è¯»  ä¸‹</em></p> <p><img src="/blog/assets/img/shiwugelijibie.04206a6c.png" alt=""></p> <h3 id="_6-4-rr-rc-æ€ä¹ˆé€‰æ‹©"><a href="#_6-4-rr-rc-æ€ä¹ˆé€‰æ‹©" class="header-anchor">#</a> 6.4. RR RC æ€ä¹ˆé€‰æ‹©</h3> <blockquote><p>æ¨èRC,  å¦‚æœä½ å¯¹é”ç‰¹æ€§å¾ˆäº†è§£å¯ä»¥ä½¿ç”¨RR</p></blockquote> <ol><li>RRçš„é—´éš™é”å¯¼è‡´é”å®šèŒƒå›´æ‰©å¤§, å¯¼è‡´å¹¶å‘é™ä½</li> <li>æ¡ä»¶åˆ—æœªä½¿ç”¨åˆ°æ‰€æœ‰, RRé”è¡¨,RCé”è¡Œ</li></ol> <h3 id="_6-5-mvcc"><a href="#_6-5-mvcc" class="header-anchor">#</a> 6.5. MVCC</h3> <p>Mutli Version Cncurrency Control å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶</p> <p><strong>æ•ˆæœ:</strong> å»ºç«‹ä¸€ä¸ªå¿«ç…§, åŒä¸€ä¸ªäº‹åŠ¡æ— è®ºæŸ¥å¤šå°‘æ¬¡éƒ½æ˜¯ç›¸åŒçš„æ•°æ®</p> <p><em>ä¸€ä¸ªäº‹åŠ¡èƒ½çœ‹åˆ°çš„æ•°æ®ç‰ˆæœ¬:</em></p> <ul><li>ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¹‹å‰å·²æäº¤çš„äº‹åŠ¡ä¿®æ”¹</li> <li>æœ¬äº‹åŠ¡çš„ä¿®æ”¹</li> <li>RCçš„ &quot;åŠä¸€è‡´æ€§ Semi Consistent &quot; å¯ä»¥å¢åŠ updateçš„å¹¶å‘æ€§èƒ½;</li></ul> <p><em>ä¸€ä¸ªäº‹åŠ¡ä¸èƒ½çœ‹è§çš„æ•°æ®ç‰ˆæœ¬:</em></p> <ul><li>åœ¨æœ¬äº‹åŠ¡ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¹‹ååˆ›å»ºçš„äº‹åŠ¡(äº‹åŠ¡IDæ¯”æˆ‘å¤§)</li> <li>æ´»è·ƒçš„(æœªæäº¤çš„)äº‹åŠ¡</li></ul> <h4 id="_6-5-1-mvccå¦‚ä½•å®ç°"><a href="#_6-5-1-mvccå¦‚ä½•å®ç°" class="header-anchor">#</a> 6.5.1. MVCCå¦‚ä½•å®ç°</h4> <p>Read View ä¸€è‡´æ€§è§†å›¾
æ¯ä¸€æ¬¡äº‹åŠ¡å¼€å¯çš„ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¹‹å,ä¼šå»ºç«‹ä¸€ä¸ª read view.</p> <p><strong>Read ViewåŒ…å«ä¸€ä¸‹å‡ ä¸ªå†…å®¹:</strong></p> <ul><li>m_ids{} : å½“å‰ç³»ç»Ÿæ´»è·ƒçš„äº‹åŠ¡ids</li> <li>min_trx_id:  m_idsçš„æœ€å°å€¼</li> <li>max_trx_id :   ç³»ç»Ÿåˆ†é…ç»™ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„id</li> <li>creator_trx_id : ç”Ÿæˆread viewçš„äº‹åŠ¡id</li></ul> <h4 id="_6-5-2-rvå»ºç«‹æ—¶æœº"><a href="#_6-5-2-rvå»ºç«‹æ—¶æœº" class="header-anchor">#</a> 6.5.2. RVå»ºç«‹æ—¶æœº</h4> <ul><li>RR: äº‹åŠ¡ä¸­ç¬¬ä¸€æ¬¡æŸ¥è¯¢å°±å»ºç«‹äº†å¿«ç…§,ä»¥åæ°¸è¿œä¸ä¼šå˜</li> <li>RC: æŸ¥ä¸€æ¬¡å»ºç«‹ä¸€æ¬¡MVCC, æ‰€æœ‰ä¼šè¯»åˆ°è„æ•°æ®</li></ul> <h4 id="_6-5-3-read-viewçš„åˆ¤æ–­è§„åˆ™"><a href="#_6-5-3-read-viewçš„åˆ¤æ–­è§„åˆ™" class="header-anchor">#</a> 6.5.3. Read viewçš„åˆ¤æ–­è§„åˆ™</h4> <ul><li>ä»æ•°æ®çš„æœ€æ—©ç‰ˆæœ¬å¼€å§‹åˆ¤æ–­ (undo log)</li> <li>ä»æ•°æ®ç‰ˆæœ¬ trx_id = creator_trx_id, æœ¬äº‹åŠ¡ä¿®æ”¹
<ul><li>æœ¬äº‹åŠ¡ä¿®æ”¹, å¯ä»¥è®¿é—®</li></ul></li> <li>æ•°æ®ç‰ˆæœ¬ trx_id&lt;min_trx_id (äº‹åŠ¡æäº¤æœ€å°è§„åˆ™)
<ul><li>è¯´æ˜è¿™ä¸ªç‰ˆæœ¬åœ¨ç”ŸæˆRVå·²ç»æäº¤,  å¯ä»¥è®¿é—®</li></ul></li> <li>æ•°æ®ç‰ˆæœ¬çš„ trx_id &gt; max_trx_id (ä¸‹ä¸€ä¸ªäº‹åŠ¡id)
<ul><li>è¿™ä¸ªç‰ˆæœ¬æ˜¯ç”ŸæˆRVä¹‹åå»ºç«‹çš„, ä¸å¯ä»¥è®¿é—®</li></ul></li> <li>æ•°æ®ç‰ˆæœ¬çš„trx_id åœ¨ min_trx_idå’Œmax_trx_idä¹‹é—´
<ul><li>çœ‹çœ‹æ˜¯å¦åœ¨m_idsä¸­,å¦‚æœåœ¨ä¸å¯ä»¥. å¦‚æœä¸åœ¨å°±å¯ä»¥</li></ul></li> <li>å¦‚æœå½“å‰ç‰ˆæœ¬ä¸å¯è§,å°±æ‰¾ undo logé“¾ä¸­çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬;</li></ul> <h3 id="_6-6-é”"><a href="#_6-6-é”" class="header-anchor">#</a> 6.6. é”</h3> <ul><li><p><strong>å…±äº«é” (è¡Œé”):</strong>  Shared Locks</p></li> <li><p><strong>æ’ä»–æ‰€ (è¡Œé”):</strong> Exclusive Locks</p></li> <li><p><strong>æ„å‘å…±äº«é” (è¡¨é”):</strong> Intention Shared Locks</p></li> <li><p><strong>æ„å‘æ’å®ƒé” (è¡¨é”):</strong> Intention Exclusive Locks</p></li> <li><p>Sé”: å…±äº«é”</p></li> <li><p>Xé”: æ’å®ƒé”</p></li></ul> <p>â€‹</p> <p>ä¸€ä¸ªäº‹ç‰©æ‰€åŠ çš„é”,åœ¨äº‹åŠ¡ç»“æŸæ—¶ä¼šé‡Šæ”¾</p> <h4 id="_6-6-1-å…±äº«é”-è¡Œé”-shared-locks"><a href="#_6-6-1-å…±äº«é”-è¡Œé”-shared-locks" class="header-anchor">#</a> 6.6.1. å…±äº«é” (è¡Œé”)   Shared Locks</h4> <p>åªèƒ½è¯» ä¸èƒ½æ”¹</p> <p>åˆç§°ä¸º<code>è¯»é”</code> (Sé”),  å¤šä¸ªäº‹åŠ¡å¯¹åŒä¸€æ¡æ•°æ®å¯ä»¥å…±äº«åŒ»ä¿æ‰€,éƒ½èƒ½è®¿é—®åˆ°æ•°æ®,ä½†æ˜¯ä¸èƒ½ä¿®æ”¹;</p> <p>åŠ é”: <code>Select * from TB_01 where id=1 LOCK IN SHARE MODE</code></p> <h4 id="_6-6-2-æ’ä»–æ‰€-è¡Œé”-exclusive-locks"><a href="#_6-6-2-æ’ä»–æ‰€-è¡Œé”-exclusive-locks" class="header-anchor">#</a> 6.6.2. <strong>æ’ä»–æ‰€ (è¡Œé”):</strong> Exclusive Locks</h4> <p>åˆç§°<code>å†™é”</code>, (Xé”) åªæœ‰å–å¾—å†™é”çš„äº‹åŠ¡æ‰èƒ½å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹.</p> <p><em>é»˜è®¤è¶…æ—¶æ—¶é—´ 50ç§’</em></p> <p>åŠ é”æ–¹å¼:</p> <ul><li>è‡ªåŠ¨:  delete/ update/ insert é»˜è®¤åŠ ä¸ŠXé”</li> <li>æ‰‹åŠ¨: <code>Select * from TB_01 where id=1 FOR UPDATE</code></li></ul> <h4 id="_6-6-3-æ„å‘å…±äº«é”-è¡¨é”-intention-shared-locks"><a href="#_6-6-3-æ„å‘å…±äº«é”-è¡¨é”-intention-shared-locks" class="header-anchor">#</a> 6.6.3. æ„å‘å…±äº«é” (è¡¨é”) Intention Shared Locks</h4> <p>ISé” , å­˜å‚¨å¼•æ“è‡ªå·±ç»´æŠ¤,æ— éœ€ç”¨æˆ·å…³å¿ƒ</p> <blockquote><p>**å¸®åŠ©ç†è§£:**å°±æ˜¯ä¸€ä¸ªæ ‡è¯†,ä¸ºäº†æå‡åŠ é”çš„æ•ˆç‡, å¦åˆ™å¦‚ä½•åˆ¤æ–­ä¸€å¼ è¡¨é‚£æ¡æ•°æ®è¢«åŠ é”äº†å‘¢? å…¨è¡¨æ‰«æ?</p></blockquote> <p><strong>å‰æ:</strong> ä¸€ä¸ªäº‹åŠ¡èƒ½å¤ŸæˆåŠŸç»™ä¸€å¼ è¡¨åŠ ä¸Šè¡¨é”çš„å‰ææ˜¯, æ²¡æœ‰å…¶ä»–äº‹åŠ¡ç»™è¿™å¼ è¡¨çš„ä»»æ„ä¸€è¡Œæ•°æ®åŠ é”
**å¦‚æœæ£€æŸ¥æ²¡æœ‰é”: ** ä»»ä½•ä¸€ä¸ªäº‹ç‰©åŠ è¡Œé”çš„æ—¶å€™,éœ€è¦å…ˆç»™è¿™å¼ è¡¨åŠ ä¸ªæ„å‘é”, æ¥æ ‡ç¤ºè¿™å¼ è¡¨æœ‰é”.</p> <h4 id="_6-6-4-æ„å‘æ’å®ƒé”-è¡¨é”-intention-exclusive-locks"><a href="#_6-6-4-æ„å‘æ’å®ƒé”-è¡¨é”-intention-exclusive-locks" class="header-anchor">#</a> 6.6.4. æ„å‘æ’å®ƒé” (è¡¨é”) Intention Exclusive Locks</h4> <p>IE é”,  å­˜å‚¨å¼•æ“è‡ªå·±ç»´æŠ¤,æ— éœ€ç”¨æˆ·å…³å¿ƒ</p> <blockquote><p>**å¸®åŠ©ç†è§£:**å°±æ˜¯ä¸€ä¸ªæ ‡è¯†,ä¸ºäº†æå‡åŠ é”çš„æ•ˆç‡, å¦åˆ™å¦‚ä½•åˆ¤æ–­ä¸€å¼ è¡¨é‚£æ¡æ•°æ®è¢«åŠ é”äº†å‘¢? å…¨è¡¨æ‰«æ?</p></blockquote> <p><strong>å‰æ:</strong> ä¸€ä¸ªäº‹åŠ¡èƒ½å¤ŸæˆåŠŸç»™ä¸€å¼ è¡¨åŠ ä¸Šè¡¨é”çš„å‰ææ˜¯, æ²¡æœ‰å…¶ä»–äº‹åŠ¡ç»™è¿™å¼ è¡¨çš„ä»»æ„ä¸€è¡Œæ•°æ®åŠ é”
**å¦‚æœæ£€æŸ¥æ²¡æœ‰é”: ** ä»»ä½•ä¸€ä¸ªäº‹ç‰©åŠ è¡Œé”çš„æ—¶å€™,éœ€è¦å…ˆç»™è¿™å¼ è¡¨åŠ ä¸ªæ„å‘é”, æ¥æ ‡ç¤ºè¿™å¼ è¡¨æœ‰é”.</p> <h4 id="_6-6-5-ä¸´é”®é”-next-key-lock"><a href="#_6-6-5-ä¸´é”®é”-next-key-lock" class="header-anchor">#</a> 6.6.5. ä¸´é”®é” (Next-key Lock)</h4> <p>ä¸´é”®é”åŒ…å«é—´éš™é”</p> <p>è§£å†³å¹»è¯»é—®é¢˜, å¯¹ä¸å­˜åœ¨çš„æ•°æ®åŒºé—´è¿›è¡ŒåŠ é”</p> <p><img src="/blog/assets/img/lingjiansuo.9ca2bfc2.png" alt=""></p> <h4 id="_6-6-6-é—´éš™é”-gap-locks"><a href="#_6-6-6-é—´éš™é”-gap-locks" class="header-anchor">#</a> 6.6.6. é—´éš™é” Gap locks</h4> <p>åªæœ‰(RRå¯é‡å¤è¯»)æ‰æœ‰é—´éš™é”,, Innodbçš„é»˜è®¤éš”ç¦»çº§åˆ«</p> <p>é—´éš™é”è·Ÿé—´éš™é”ä¸å†²çª,  ç›®çš„æ˜¯ç”¨äºé˜»å¡æ’å…¥çš„;</p> <p>åœ¨æ’å…¥çš„æ—¶å€™,ä¼šé”å®šä¸€ä¸ªåŒºé—´... æ¯”å¦‚å½“å‰æ•°æ®6,7,10çš„æ•°æ®,</p> <ul><li>æ­¤æ—¶æ¥æ’å…¥8çš„æ•°æ®ä¼šé”ä½ 7-10ä¹‹é—´</li> <li>æ­¤æ—¶æ¥æ’å…¥11,  ä¼šé”ä½10-æ— ç©·å¤§åŒºé—´</li></ul> <p><img src="/blog/assets/img/jianxisuo.9878dff4.png" alt=""></p> <h3 id="_6-7-é”çš„ç®—æ³•"><a href="#_6-7-é”çš„ç®—æ³•" class="header-anchor">#</a> 6.7. é”çš„ç®—æ³•</h3> <p>ä¸ºä»€ä¹ˆè¦è®¾ç½®ä¸€ä¸ªé”æœºåˆ¶å‘¢?</p> <p>ç­”: ä¸ºäº†è§£å†³èµ„æºç«äº‰é—®é¢˜, è§£å†³äº‹åŠ¡å¹¶å‘;</p> <p><strong>InnoDBçš„è¡Œé”åˆ°åº•é”ä½äº†ä»€ä¹ˆ?</strong></p> <p>é€šè¿‡ç´¢å¼•(ä¸åˆ†ä¸»é”®ç´¢å¼•/æ™®é€šç´¢å¼•)è¿›è¡Œçš„åŠ é”...  åœ¨æŸ¥è¯¢çš„æ—¶å€™éœ€è¦æŒ‡å®šç´¢å¼•=XX, ä¸ç„¶å°±ä¼š**å…¨è¡¨æ‰«æ(è¡¨é”) **</p> <ul><li>æ²¡ç´¢å¼•. <code>Select * from TB_01 where id=1</code> æ’å®ƒé”(Xè¡Œé”) ,  éœ€è¦å…¨è¡¨æ‰«ææ‰¾åˆ°id=1çš„æ•°æ®<code>é”è¡¨</code></li> <li>æœ‰ç´¢å¼•. <code>Select * from TB_01 where id=1</code> æ’å®ƒé”(Xè¡Œé”) åªä¼šé”ä½å½“å‰è¡Œ</li> <li>æ€»ç»“ RRé”è¡¨,RCé”è¡Œ</li></ul> <h3 id="_6-8-æ­»é”çš„å‘é€æ¡ä»¶"><a href="#_6-8-æ­»é”çš„å‘é€æ¡ä»¶" class="header-anchor">#</a> 6.8. æ­»é”çš„å‘é€æ¡ä»¶</h3> <ul><li>äº’æ–¥</li> <li>ä¸å¯å‰¥å¤º</li> <li>å½¢æˆç­‰å¾…ç¯è·¯ A-&gt;B-&gt;C-&gt;A</li></ul> <h3 id="_6-9-å¼€å¯æ ‡å‡†ç›‘æ§å’Œé”ç›‘æ§"><a href="#_6-9-å¼€å¯æ ‡å‡†ç›‘æ§å’Œé”ç›‘æ§" class="header-anchor">#</a> 6.9. å¼€å¯æ ‡å‡†ç›‘æ§å’Œé”ç›‘æ§</h3> <ul><li><code>set GLOBAL innodb_status_output=NO</code></li> <li><code>set GLOBAL innodb_status_output_locks=NO</code></li></ul> <h3 id="_6-10-é”çš„é¿å…"><a href="#_6-10-é”çš„é¿å…" class="header-anchor">#</a> 6.10. é”çš„é¿å…</h3> <ul><li>é¡ºåºè®¿é—®(å…ˆæ“ä½œAå†æ“ä½œB)</li> <li>æ•°æ®æ’åº(ä¸´é”®é”,é—´éš™é”)</li> <li>ç”³è¯·è¶³å¤Ÿçº§åˆ«çš„é”</li> <li>é¿å…whereæ¡ä»¶æœªå‘½ä¸­æƒ…å†µ</li> <li>å¤§äº‹åŠ¡åˆ†è§£æˆå°äº‹åŠ¡</li> <li>ä½¿ç”¨ç­‰å€¼æŸ¥è¯¢è€Œä¸æ˜¯èŒƒå›´æŸ¥è¯¢</li></ul> <h2 id="_7-ä¸»ä»å¤åˆ¶"><a href="#_7-ä¸»ä»å¤åˆ¶" class="header-anchor">#</a> 7. ä¸»ä»å¤åˆ¶</h2> <h2 id="_8-å¦‚ä½•ä¼˜åŒ–"><a href="#_8-å¦‚ä½•ä¼˜åŒ–" class="header-anchor">#</a> 8. å¦‚ä½•ä¼˜åŒ–</h2> <h3 id="_8-1-å®å¡”å®¢æˆ·ç«¯"><a href="#_8-1-å®å¡”å®¢æˆ·ç«¯" class="header-anchor">#</a> 8.1. å®å¡”å®¢æˆ·ç«¯</h3> <p>å®å¡”ä¸­æœ‰æ£€éªŒæ–¹æ¡ˆ</p> <p><img src="/blog/assets/img/baota.3d4c574c.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.0c328148.js" defer></script><script src="/blog/assets/js/2.ef27732c.js" defer></script><script src="/blog/assets/js/3.e2e3b0e7.js" defer></script>
  </body>
</html>
