<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rabbit MQ | I&#39;m Alex</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="123">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f9dc4244.css" as="style"><link rel="preload" href="/blog/assets/js/app.0c328148.js" as="script"><link rel="preload" href="/blog/assets/js/2.ef27732c.js" as="script"><link rel="preload" href="/blog/assets/js/29.9963f0cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4fc174d0.js"><link rel="prefetch" href="/blog/assets/js/11.4b9e5083.js"><link rel="prefetch" href="/blog/assets/js/12.8c45d22b.js"><link rel="prefetch" href="/blog/assets/js/13.a7706ab2.js"><link rel="prefetch" href="/blog/assets/js/14.9e9431ac.js"><link rel="prefetch" href="/blog/assets/js/15.191a76b5.js"><link rel="prefetch" href="/blog/assets/js/16.ade73102.js"><link rel="prefetch" href="/blog/assets/js/17.455cea14.js"><link rel="prefetch" href="/blog/assets/js/18.cf9594d9.js"><link rel="prefetch" href="/blog/assets/js/19.bdb0a3c4.js"><link rel="prefetch" href="/blog/assets/js/20.fd4b444e.js"><link rel="prefetch" href="/blog/assets/js/21.01379a95.js"><link rel="prefetch" href="/blog/assets/js/22.771705d3.js"><link rel="prefetch" href="/blog/assets/js/23.00e498db.js"><link rel="prefetch" href="/blog/assets/js/24.02bc0deb.js"><link rel="prefetch" href="/blog/assets/js/25.1bb2541a.js"><link rel="prefetch" href="/blog/assets/js/26.970f0106.js"><link rel="prefetch" href="/blog/assets/js/27.9e87a29d.js"><link rel="prefetch" href="/blog/assets/js/28.c97a693d.js"><link rel="prefetch" href="/blog/assets/js/3.e2e3b0e7.js"><link rel="prefetch" href="/blog/assets/js/30.afb8e3c4.js"><link rel="prefetch" href="/blog/assets/js/31.ac96d13a.js"><link rel="prefetch" href="/blog/assets/js/32.91959568.js"><link rel="prefetch" href="/blog/assets/js/33.bc02d183.js"><link rel="prefetch" href="/blog/assets/js/34.9f4bdea4.js"><link rel="prefetch" href="/blog/assets/js/35.85cd64bd.js"><link rel="prefetch" href="/blog/assets/js/36.9efafaae.js"><link rel="prefetch" href="/blog/assets/js/37.13f25b82.js"><link rel="prefetch" href="/blog/assets/js/38.7f91a217.js"><link rel="prefetch" href="/blog/assets/js/39.15f7b5b6.js"><link rel="prefetch" href="/blog/assets/js/4.108b56bf.js"><link rel="prefetch" href="/blog/assets/js/40.07a706de.js"><link rel="prefetch" href="/blog/assets/js/41.a9ad9f4f.js"><link rel="prefetch" href="/blog/assets/js/5.e004f495.js"><link rel="prefetch" href="/blog/assets/js/6.59736120.js"><link rel="prefetch" href="/blog/assets/js/7.ce721f24.js"><link rel="prefetch" href="/blog/assets/js/8.e707e9a2.js"><link rel="prefetch" href="/blog/assets/js/9.9f7d8719.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f9dc4244.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="I'm Alex" class="logo"> <span class="site-name can-hide">I'm Alex</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java ☕️" class="dropdown-title"><span class="title">Java ☕️</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java ☕️" class="mobile-dropdown-title"><span class="title">Java ☕️</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/基础/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/内存模型.html" class="nav-link">
  内存模型
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/垃圾回收.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/类加载机制.html" class="nav-link">
  类加载机制
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          多线程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/多线程/多线程基础.html" class="nav-link">
  多线程基础
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nio多路复用.html" class="nav-link">
  操作系统的多路复用
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" class="nav-link">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/redis/01_基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/02_进阶.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/03_集群.html" class="nav-link">
  集群
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/04_6版本.html" class="nav-link">
  6版本
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/czy.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          分布式一致性方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式事务.html" class="nav-link">
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式锁.html" class="nav-link">
  分布式锁
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗" class="dropdown-title"><span class="title">🔗</span> <span class="arrow down"></span></button> <button type="button" aria-label="🔗" class="mobile-dropdown-title"><span class="title">🔗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK下载
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          框架文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont 矢量图库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开发工具包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java ☕️" class="dropdown-title"><span class="title">Java ☕️</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java ☕️" class="mobile-dropdown-title"><span class="title">Java ☕️</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/基础/ConcurrentHashMap.html" class="nav-link">
  ConcurrentHashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/hashmap.html" class="nav-link">
  HashMap
</a></li><li class="dropdown-subitem"><a href="/blog/java/基础/exception.html" class="nav-link">
  Exception
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/jvm/内存模型.html" class="nav-link">
  内存模型
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/垃圾回收.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/类加载机制.html" class="nav-link">
  类加载机制
</a></li><li class="dropdown-subitem"><a href="/blog/java/jvm/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          多线程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/多线程/多线程基础.html" class="nav-link">
  多线程基础
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/CAS.html" class="nav-link">
  CAS
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/reentrantLock.html" class="nav-link">
  ReentrantLock
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/synchornized.html" class="nav-link">
  Synchornized
</a></li><li class="dropdown-subitem"><a href="/blog/java/多线程/volatile.html" class="nav-link">
  Volatile
</a></li></ul></li><li class="dropdown-item"><h4>
          Nio
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/java/Nio/01_nio多路复用.html" class="nav-link">
  操作系统的多路复用
</a></li><li class="dropdown-subitem"><a href="/blog/java/Nio/02_NIO&amp;Netty.html" class="nav-link">
  Java NIO
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySql
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/MYSQL/01.html" class="nav-link">
  01
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/02.html" class="nav-link">
  02
</a></li><li class="dropdown-subitem"><a href="/blog/MYSQL/03.html" class="nav-link">
  03
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/mq/rabbit.html" class="nav-link">
  Rabbit
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/rocket.html" class="nav-link">
  Rocket
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/mq/抄作业.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/redis/01_基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/02_进阶.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/03_集群.html" class="nav-link">
  集群
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/04_6版本.html" class="nav-link">
  6版本
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/redis/czy.html" class="nav-link">
  抄作业
</a></li></ul></li><li class="dropdown-item"><h4>
          Zookeeper
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/zk/zk.html" class="nav-link">
  Zookeeper
</a></li></ul></li><li class="dropdown-item"><h4>
          分布式一致性方案
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/paxos.html" class="nav-link">
  Paxos
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/zookeeper.html" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式事务.html" class="nav-link">
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/blog/分布式/分布式一致性/分布式锁.html" class="nav-link">
  分布式锁
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗" class="dropdown-title"><span class="title">🔗</span> <span class="arrow down"></span></button> <button type="button" aria-label="🔗" class="mobile-dropdown-title"><span class="title">🔗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.injdk.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JDK下载
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          框架文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://mp.baomidou.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MyBatis-Plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://seata.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Seata
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel/wiki/%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Sentinel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Alibaba Nacos
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache Dubbo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://skywalking.apache.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Apache SkyWalking
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          前端框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element UI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant Design
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://antv.vision/zh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ant V
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Iconfont 矢量图库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          开发工具包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://mvnrepository.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Maven Repository
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.hutool.cn/docs/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hutool
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://atool.vip/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线工具Web
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.sojson.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Contact" class="dropdown-title"><span class="title">Contact</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contact" class="mobile-dropdown-title"><span class="title">Contact</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/xiaoli9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/XiaoLi9965" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Rabbit MQ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_1-为什么要用-mq" class="sidebar-link">1. 为什么要用 MQ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_2-使用-mq-会带来的问题" class="sidebar-link">2. 使用 MQ 会带来的问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_3-各大厂商的-mq-对比" class="sidebar-link">3. 各大厂商的 MQ 对比</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_4-重点掌握-💥" class="sidebar-link">4. 重点掌握 💥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_4-1-producer-生产者" class="sidebar-link">4.1. Producer 生产者</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_4-2-consumer-消费者" class="sidebar-link">4.2. Consumer 消费者</a></li></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-rabbitmq-模型" class="sidebar-link">5. RabbitMQ 模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-1-生产消费流程" class="sidebar-link">5.1. 生产消费流程</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-2-生产者工作流程" class="sidebar-link">5.2. 生产者工作流程</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-3-消费者者工作流程" class="sidebar-link">5.3. 消费者者工作流程</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-4-broker" class="sidebar-link">5.4. Broker</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-5-vhost-虚拟主机" class="sidebar-link">5.5. VHost 虚拟主机</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-6-connection-连接" class="sidebar-link">5.6. Connection 连接</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-7-channel-通道" class="sidebar-link">5.7. Channel 通道</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-8-exchange-交换器" class="sidebar-link">5.8. Exchange 交换器</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-9-exchange-交换器类型" class="sidebar-link">5.9. Exchange 交换器类型</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-10-routingkey-路由键" class="sidebar-link">5.10. RoutingKey 路由键</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-11-queue-队列" class="sidebar-link">5.11. Queue 队列</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-12-binding-绑定关系" class="sidebar-link">5.12. Binding 绑定关系</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_5-13-message-消息" class="sidebar-link">5.13. Message 消息</a></li></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-生产者" class="sidebar-link">6. 生产者</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-1-rabbit-的可靠消息投递" class="sidebar-link">6.1. Rabbit 的可靠消息投递</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-2-服务端确认-事务模式-阻塞-不建议使用" class="sidebar-link">6.2. 服务端确认-事务模式 (阻塞,不建议使用)</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-3-服务端确认-ack" class="sidebar-link">6.3. 服务端确认-(ACK)</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-4-手动-ack" class="sidebar-link">6.4. 手动 ACK</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-5-自动-ack-有弊端" class="sidebar-link">6.5. 自动 ACK (有弊端)</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-6-异步-ack" class="sidebar-link">6.6. 异步 ACK</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-7-mandatory-requeue-重新入队-慎用" class="sidebar-link">6.7. mandatory /reQueue 重新入队 (慎用)</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-8-rabbit-延时队列" class="sidebar-link">6.8. Rabbit 延时队列</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-9-rabbit-死信队列" class="sidebar-link">6.9. Rabbit 死信队列</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_6-10-rabbit-独占队列-实现顺序消费" class="sidebar-link">6.10. Rabbit 独占队列(实现顺序消费)</a></li></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_7-消费者" class="sidebar-link">7. 消费者</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_7-1-消费者优先级" class="sidebar-link">7.1. 消费者优先级</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_7-2-rabbit-两种消费模式-pull-push" class="sidebar-link">7.2. Rabbit 两种消费模式(pull/push)</a></li></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_8-消息持久化" class="sidebar-link">8. 消息持久化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-集群" class="sidebar-link">9. 集群</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-1-cluster-普通集群" class="sidebar-link">9.1. Cluster 普通集群</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-2-cluster-普通集群-如何处理负载均衡-大流量" class="sidebar-link">9.2. Cluster 普通集群 如何处理负载均衡,大流量</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-3-cluster-普通集群-是分布式的吗-大量消息是不是分布在不同节点进行处理的" class="sidebar-link">9.3. Cluster 普通集群 是分布式的吗?大量消息是不是分布在不同节点进行处理的</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-4-cluster-普通集群-提升了那些东西" class="sidebar-link">9.4. Cluster 普通集群 提升了那些东西</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-5-cluster-镜像集群-保证-cp" class="sidebar-link">9.5. Cluster 镜像集群 (保证 CP)</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_9-6-cluster-镜像设置多少个合适" class="sidebar-link">9.6. Cluster 镜像设置多少个合适</a></li></ul></li><li><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_10-其他集群模式" class="sidebar-link">10. 其他集群模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_10-1-federation-联盟模式" class="sidebar-link">10.1. Federation 联盟模式</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_10-2-slovel-插件" class="sidebar-link">10.2. Slovel 插件</a></li><li class="sidebar-sub-header"><a href="/blog/%E5%88%86%E5%B8%83%E5%BC%8F/mq/rabbit.html#_10-3-federation-slovel-和-cluster-模式的区别" class="sidebar-link">10.3. Federation/Slovel 和 Cluster 模式的区别</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-为什么要用-mq"><a href="#_1-为什么要用-mq" class="header-anchor">#</a> 1. 为什么要用 MQ</h2> <ul><li><code>异步通信</code> - 提升系统的相应速度</li> <li><code>系统解耦</code></li> <li><code>流量削峰</code> - 利用先进先出特性</li> <li><code>分布式事务解决方案</code> - 可靠消息投递</li></ul> <h2 id="_2-使用-mq-会带来的问题"><a href="#_2-使用-mq-会带来的问题" class="header-anchor">#</a> 2. 使用 MQ 会带来的问题</h2> <ul><li>提供了系统的复杂性(多加了一个 MQ 服务器)</li> <li>数据一致性问题</li></ul> <h2 id="_3-各大厂商的-mq-对比"><a href="#_3-各大厂商的-mq-对比" class="header-anchor">#</a> 3. 各大厂商的 MQ 对比</h2> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">Active MQ</th> <th style="text-align:center;">RabbitMQ</th> <th style="text-align:center;">Rocket MQ</th> <th style="text-align:center;">kafka</th></tr></thead> <tbody><tr><td style="text-align:center;">开发语言</td> <td style="text-align:center;">java</td> <td style="text-align:center;">erlang</td> <td style="text-align:center;">java</td> <td style="text-align:center;">scala</td></tr> <tr><td style="text-align:center;">单据吞吐量</td> <td style="text-align:center;">万级</td> <td style="text-align:center;">万级</td> <td style="text-align:center;">10w 级</td> <td style="text-align:center;">10W 级</td></tr> <tr><td style="text-align:center;">时效性</td> <td style="text-align:center;">ms 级</td> <td style="text-align:center;">us 级</td> <td style="text-align:center;">ms 级</td> <td style="text-align:center;">ms 级以内</td></tr> <tr><td style="text-align:center;">高可用</td> <td style="text-align:center;">高(主从架构)</td> <td style="text-align:center;">高(主从架构)</td> <td style="text-align:center;">非常高(分布式架构)</td> <td style="text-align:center;">非常高(分布式架构)</td></tr> <tr><td style="text-align:center;">功能特性</td> <td style="text-align:center;">文档好,各种协议支持较好</td> <td style="text-align:center;">并发能力很强,延时低,有管理界面</td> <td style="text-align:center;">MQ 功能完备,性能极好,延时低,有管理界面</td> <td style="text-align:center;">为大数据准备的,在大数据领域应用广</td></tr></tbody></table> <h2 id="_4-重点掌握-💥"><a href="#_4-重点掌握-💥" class="header-anchor">#</a> 4. 重点掌握 💥</h2> <p><code>学习RabbitMQ的重中之重</code></p> <h3 id="_4-1-producer-生产者"><a href="#_4-1-producer-生产者" class="header-anchor">#</a> 4.1. Producer 生产者</h3> <ul><li>路由不可达</li> <li>事务机制</li> <li>发布确认机制</li></ul> <h3 id="_4-2-consumer-消费者"><a href="#_4-2-consumer-消费者" class="header-anchor">#</a> 4.2. Consumer 消费者</h3> <ul><li>两种消息的消费模式(pull/push)</li> <li>消费者注册/取消</li> <li>独占消费者</li> <li>消费确认优先级</li> <li>消息确认</li> <li>pull 拉模式</li></ul> <h2 id="_5-rabbitmq-模型"><a href="#_5-rabbitmq-模型" class="header-anchor">#</a> 5. RabbitMQ 模型</h2> <p><img src="http://md.yike.link/20200325213212_S4xaNM_Screenshot.jpeg" alt="AMQP模型"></p> <h3 id="_5-1-生产消费流程"><a href="#_5-1-生产消费流程" class="header-anchor">#</a> 5.1. 生产消费流程</h3> <p><img src="http://md.yike.link/20200325213233_tOqkkT_Screenshot.jpeg" alt="生产消费流程"></p> <h3 id="_5-2-生产者工作流程"><a href="#_5-2-生产者工作流程" class="header-anchor">#</a> 5.2. 生产者工作流程</h3> <ul><li>生产者程序启动连接到 broker, 建立一个连接,开启一个或多个 channel</li> <li>通过 channel 创建一个交换机/队列 ,并设置相关属性</li> <li>通过路由键将交换机和队列绑定起来</li> <li>通过发送消息到 Broker(包含路由键,交换机信息)</li> <li>相应的交换机接受到消息后存入相应的队列(如果找不到队列就会丢弃或者退回和进入死信队列)</li> <li>关闭通道,关闭连接</li></ul> <h3 id="_5-3-消费者者工作流程"><a href="#_5-3-消费者者工作流程" class="header-anchor">#</a> 5.3. 消费者者工作流程</h3> <ul><li>消费者连接到 broker ,建立一个连接,开启一个或多个 channel</li> <li>请求消费相关队列中的消息</li> <li>broker 投递相关队列的消息给消费者</li> <li>消费者消费完之后确认消费(ack)</li> <li>删除已确认消费的消息</li> <li>关闭通道,关闭连接</li></ul> <h3 id="_5-4-broker"><a href="#_5-4-broker" class="header-anchor">#</a> 5.4. Broker</h3> <p>服务节点,代表一个 MQ 主机</p> <h3 id="_5-5-vhost-虚拟主机"><a href="#_5-5-vhost-虚拟主机" class="header-anchor">#</a> 5.5. VHost 虚拟主机</h3> <p>虚拟主机,相当于 Java 中的包(命名空间) ,用于做数据隔离的</p> <h3 id="_5-6-connection-连接"><a href="#_5-6-connection-连接" class="header-anchor">#</a> 5.6. Connection 连接</h3> <p>AMQP 协议是基于<code>长连接</code>.</p> <ul><li>客户端启动时开启一个连接,对应大流量的应用可能需要多个连接</li> <li>在客户端关闭的时候关闭连接</li></ul> <h3 id="_5-7-channel-通道"><a href="#_5-7-channel-通道" class="header-anchor">#</a> 5.7. Channel 通道</h3> <p>通道,是建立在 Connection 之上的轻量级连接(一个 Connection 上可以建立 N 个 channel)</p> <p><code>大部分操作都是在Channel这个接口中完成的,如(申明队列,申明交换机,队列绑定,发布消息,消费消息)</code></p> <p><img src="http://md.yike.link/20200325213257_TUlK7l_Screenshot.jpeg" alt="Channel"></p> <h3 id="_5-8-exchange-交换器"><a href="#_5-8-exchange-交换器" class="header-anchor">#</a> 5.8. Exchange 交换器</h3> <p>生产者将消息发送给交换器(用 X 标示),交换器再去路由到队列中</p> <p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd36375hxzj318g0eu75z.jpg" alt="交换器"></p> <h3 id="_5-9-exchange-交换器类型"><a href="#_5-9-exchange-交换器类型" class="header-anchor">#</a> 5.9. Exchange 交换器类型</h3> <ul><li><strong>fanout:</strong> (速度最快)路由表模式,将消息发送到所有绑定关系的队列中</li> <li><strong>direct:</strong> 直连,<code>一对一</code> 将消息分发到 BingdingKey 和 RoutingKey 完全匹配的队列中</li> <li><strong>💥Topic:</strong> 模糊匹配 <code>一对多</code> 通过匹配 RoutingKey 将消息分发给相应队列</li> <li><strong>headers:</strong> (不用,性能差,不实用)不依赖路由键,通过消息头进行匹配</li></ul> <h3 id="_5-10-routingkey-路由键"><a href="#_5-10-routingkey-路由键" class="header-anchor">#</a> 5.10. RoutingKey 路由键</h3> <p>路由规则,将消息发送给交换器的时候通过这个路由 key 指定路由到那些队列中</p> <h3 id="_5-11-queue-队列"><a href="#_5-11-queue-队列" class="header-anchor">#</a> 5.11. Queue 队列</h3> <p>是用于存储消息的对象</p> <h3 id="_5-12-binding-绑定关系"><a href="#_5-12-binding-绑定关系" class="header-anchor">#</a> 5.12. Binding 绑定关系</h3> <p>通过这个将队列与交换器绑定起来,一般会指定一个<code>绑定键(bingdingKey)</code></p> <h3 id="_5-13-message-消息"><a href="#_5-13-message-消息" class="header-anchor">#</a> 5.13. Message 消息</h3> <p>消息分为两个属性: 消息体和消息属性</p> <ul><li><strong>消息体:</strong> 实际的数据</li> <li><strong>消息属性:</strong> 描述这个消息的 路由键, 交换器名称 和 TTL 等一些属性</li></ul> <h2 id="_6-生产者"><a href="#_6-生产者" class="header-anchor">#</a> 6. 生产者</h2> <h3 id="_6-1-rabbit-的可靠消息投递"><a href="#_6-1-rabbit-的可靠消息投递" class="header-anchor">#</a> 6.1. Rabbit 的可靠消息投递</h3> <p>先写库,写库成功了再发送 MQ</p> <h3 id="_6-2-服务端确认-事务模式-阻塞-不建议使用"><a href="#_6-2-服务端确认-事务模式-阻塞-不建议使用" class="header-anchor">#</a> 6.2. 服务端确认-事务模式 (阻塞,不建议使用)</h3> <ul><li><code>channel.txSelect()</code> 开启事务</li> <li><code>channel.txCommut()</code> 提交事务</li> <li><code>channel.txRollback()</code> 回滚事务</li></ul> <p>事务消息这种模式是阻塞的,很影响性能 不建议使用</p> <h3 id="_6-3-服务端确认-ack"><a href="#_6-3-服务端确认-ack" class="header-anchor">#</a> 6.3. 服务端确认-(ACK)</h3> <blockquote><p>这种模式分为 <code>手动ACK/自动ACK</code> 和 <code>同步ACK/异步ACK</code></p></blockquote> <h3 id="_6-4-手动-ack"><a href="#_6-4-手动-ack" class="header-anchor">#</a> 6.4. 手动 ACK</h3> <div class="language- extra-class"><pre><code>发完消息都在最后一行发送ACK确认(只要不报错就是成功)
每次都发送ACK会比耗性能也会比较慢..
</code></pre></div><p><code>如果消费了消息不回应ACK会导致队列堵塞,永远不会投递下一条消息</code></p> <h3 id="_6-5-自动-ack-有弊端"><a href="#_6-5-自动-ack-有弊端" class="header-anchor">#</a> 6.5. 自动 ACK (有弊端)</h3> <p>在 SpringTemplate 中只要接受到消息就会回复 ack..
如果在执行消息后续操作报错了的话这个消息就丢失了(不安全)</p> <h3 id="_6-6-异步-ack"><a href="#_6-6-异步-ack" class="header-anchor">#</a> 6.6. 异步 ACK</h3> <p>每次发完消息后会异步返回, 通过 <code>ComfirmListener(spring叫 ComfirmCollBack)</code>接受到 ACK 确认情况</p> <h3 id="_6-7-mandatory-requeue-重新入队-慎用"><a href="#_6-7-mandatory-requeue-重新入队-慎用" class="header-anchor">#</a> 6.7. mandatory /reQueue 重新入队 (慎用)</h3> <p><code>一般开启手动应答时会关闭重新入队</code></p> <p>在 <code>消息异常/消息拒绝/和NACK</code> 的时候可以将消息重新入队(在配置中有是否开启 ReQueue 的选项)</p> <p>如果只有一个消费者的时候开启重新入队,会导致死循环问题(消费者消费出错-&gt;重新入队-&gt;消费者再消费-&gt;消费报错-&gt;重新入队-&gt;消费者接收消息)</p> <p>SpringBoot 的 Template 中设置手动应答(<code>ackNoivLedgMod</code>)时有三个选项:</p> <ul><li>NONE 自动</li> <li>MANUAL 手动</li> <li>AUTO 不出异常时发 ack,出异常时发 Nack 并且不 Requeue</li></ul> <h3 id="_6-8-rabbit-延时队列"><a href="#_6-8-rabbit-延时队列" class="header-anchor">#</a> 6.8. Rabbit 延时队列</h3> <p><strong>延时队列实现方式:</strong></p> <ul><li><strong>老方法:</strong> 过期消息+ 死信队列</li> <li><strong>新方法:</strong> <code>rabbitmq_delayed_message_exchange</code> 插件
<ul><li>这种方式只支持延时,不支持重复</li> <li>创建一个 <code>x-delayed-message</code>类型的 Exchange</li> <li>发消息时在消息头中设置(<code>x-delay</code>,<code>5000</code>) 指定毫秒</li></ul></li></ul> <h3 id="_6-9-rabbit-死信队列"><a href="#_6-9-rabbit-死信队列" class="header-anchor">#</a> 6.9. Rabbit 死信队列</h3> <blockquote><p>死信队列其实也是一个队列,设置了<code>Dead-Letter-Exchange</code>它就是死信队列
死信队列需要和死信交换机绑定 设置了<code>x-dead-letter-exchange</code>它就是死信交换机</p></blockquote> <p><strong>消息变为死信队列情况:</strong></p> <ul><li>消息被拒绝(requeue 重回队列为 false)</li> <li>消息 TTL 过期</li> <li>队列达到最大长度 <code>max_lenth</code>和 消息长度容量<code>Max_length_bates</code></li></ul> <h3 id="_6-10-rabbit-独占队列-实现顺序消费"><a href="#_6-10-rabbit-独占队列-实现顺序消费" class="header-anchor">#</a> 6.10. Rabbit 独占队列(实现顺序消费)</h3> <ul><li><strong>独占队列:</strong> 被创建它的连接独占,这个连接上的 channel 可以共享,连接关闭独占队列就没有了</li> <li><strong>独占消费者:</strong> 独占一个队列进行消费,适用场景:消息顺序消费</li></ul> <h2 id="_7-消费者"><a href="#_7-消费者" class="header-anchor">#</a> 7. 消费者</h2> <h3 id="_7-1-消费者优先级"><a href="#_7-1-消费者优先级" class="header-anchor">#</a> 7.1. 消费者优先级</h3> <blockquote><p>Broker 默认发消息是轮询的
在不指定优先级的时候默认轮询</p></blockquote> <ul><li>x-priority : 指定优先级</li> <li>prefetch: 预取值</li></ul> <p>在通道注册消费者的时候 指定<code>x-priority</code>属性,值越大优先级越高 .
<code>默认是:0</code>, 这个参数不可以指定负数,只比对大小 ;</p> <p>先将优先级高的<code>prefetch</code>发满(在没收到 ack 的情况下),再发优先级低的</p> <h3 id="_7-2-rabbit-两种消费模式-pull-push"><a href="#_7-2-rabbit-两种消费模式-pull-push" class="header-anchor">#</a> 7.2. Rabbit 两种消费模式(pull/push)</h3> <ul><li><strong>push 推模式</strong> : 被动的接收/被动的确认</li> <li><strong>pull 拉模式</strong> : 自我掌控消息的接收确认.
<ul><li>有可能取到的消息是空,需要做为空确认</li> <li>处理完消息后需要继续手动确认</li></ul></li></ul> <h2 id="_8-消息持久化"><a href="#_8-消息持久化" class="header-anchor">#</a> 8. 消息持久化</h2> <p>持久化分为: <code>消息持久化</code>,<code>交换器持久化</code>,<code>队列持久化</code></p> <blockquote><p>不管是持久化消息还是非持久化消息都阔以写入磁盘
RabbitMQ 中有一个内置的数据库(elang 编写)</p></blockquote> <ul><li><strong>持久化消息:</strong> 当接收到消息后先进行落库,然后发布确认(放入内存)</li> <li><strong>非持久化消息:</strong> 当消息接收后直接放入内存,当消息到达一量后会转换到磁盘中存储(节省内存),当服务重启后消息无法恢复</li></ul> <h2 id="_9-集群"><a href="#_9-集群" class="header-anchor">#</a> 9. 集群</h2> <ul><li><strong>目的:</strong> 高可用,增加负载</li> <li><strong>模式:</strong> 普通集群,镜像集群</li> <li><strong>节点类型:</strong> Disk<code>磁盘节点</code>,RAM<code>内存节点</code></li></ul> <h3 id="_9-1-cluster-普通集群"><a href="#_9-1-cluster-普通集群" class="header-anchor">#</a> 9.1. Cluster 普通集群</h3> <blockquote><p>1.所有节点都是同等的,没有主节点概念 2.<strong>对于外界来讲,看到的就是一个 broker</strong> 3.集群中节点共享元数据 , <strong>不共享队列</strong> 要消费的队列如果不在当前节点上,通过元数据可以获取到队列所在的节点 4.元数据指那些:vhost 内的交换器,绑定关系,用户,权限,策略等等.. <strong>只有消息不属于元信息</strong></p></blockquote> <p><img src="http://md.yike.link/20200325213316_oytEhx_Screenshot.jpeg" alt="普通模式"></p> <h3 id="_9-2-cluster-普通集群-如何处理负载均衡-大流量"><a href="#_9-2-cluster-普通集群-如何处理负载均衡-大流量" class="header-anchor">#</a> 9.2. Cluster 普通集群 如何处理负载均衡,大流量</h3> <p><strong>客户端随机连接</strong> : 连接的时候是随机从地址列表中选择的.</p> <h3 id="_9-3-cluster-普通集群-是分布式的吗-大量消息是不是分布在不同节点进行处理的"><a href="#_9-3-cluster-普通集群-是分布式的吗-大量消息是不是分布在不同节点进行处理的" class="header-anchor">#</a> 9.3. Cluster 普通集群 是分布式的吗?大量消息是不是分布在不同节点进行处理的</h3> <p>是的,队列存储在不同的节点中</p> <h3 id="_9-4-cluster-普通集群-提升了那些东西"><a href="#_9-4-cluster-普通集群-提升了那些东西" class="header-anchor">#</a> 9.4. Cluster 普通集群 提升了那些东西</h3> <p><strong>优点:</strong></p> <ul><li>可用性</li> <li>队列消息数据安全性</li> <li>提升了并发</li></ul> <p><strong>缺点:</strong></p> <ul><li>会存在单点故障问题,节点挂了队列就不能用了</li></ul> <h3 id="_9-5-cluster-镜像集群-保证-cp"><a href="#_9-5-cluster-镜像集群-保证-cp" class="header-anchor">#</a> 9.5. Cluster 镜像集群 (保证 CP)</h3> <blockquote><p>支持事务,发布确认,可靠性
<strong>发布确认:</strong> 当消息进来,主节点会将消息同步给从节点,从节点同步完了才会给发布者确认发布</p></blockquote> <p><strong>生产者:</strong> <code>生产者只能连接主节点</code> <strong>消费者:</strong> <code>消费者连接的时候是随机选择一个节点连接的</code></p> <p><strong>HA 模式指定:</strong></p> <ul><li>all: (默认值) 队列镜像到集群中所有节点</li> <li>exactly: 队列镜像到指定数量的节点 <code>ha-papam可以指定镜像个数</code></li> <li>nodes: 队列镜像到指定节点</li></ul> <p><img src="http://md.yike.link/20200325213329_CtXZbj_Screenshot.jpeg" alt="镜像集群"> <img src="http://md.yike.link/20200325213345_mfshAr_Screenshot.jpeg" alt="镜像集群-高可用"></p> <h3 id="_9-6-cluster-镜像设置多少个合适"><a href="#_9-6-cluster-镜像设置多少个合适" class="header-anchor">#</a> 9.6. Cluster 镜像设置多少个合适</h3> <p>大多数规则:<code>集群接点数/2 + 1</code></p> <h2 id="_10-其他集群模式"><a href="#_10-其他集群模式" class="header-anchor">#</a> 10. 其他集群模式</h2> <h3 id="_10-1-federation-联盟模式"><a href="#_10-1-federation-联盟模式" class="header-anchor">#</a> 10.1. Federation 联盟模式</h3> <blockquote><p>多个 broker 联合起来一起服务 ,<code>基于AMQP进行数据交互</code></p></blockquote> <p><img src="http://md.yike.link/20200325213402_Ju6zUi_Screenshot.jpeg" alt="网络结构1"></p> <p><img src="http://md.yike.link/20200325213415_c7JRqK_Screenshot.jpeg" alt="网络结构2"> <img src="http://md.yike.link/20200325213428_9AT28B_Screenshot.jpeg" alt="联合结构"></p> <h3 id="_10-2-slovel-插件"><a href="#_10-2-slovel-插件" class="header-anchor">#</a> 10.2. Slovel 插件</h3> <blockquote><p>在两个彼此独立的 broker 中建立互联互通 <code>通过AMQP协议进行交互</code>
将原目标队列中的消息直接铲到其队列中</p></blockquote> <p><strong>两种配置方式:</strong></p> <ul><li>静态: 在配置文件<code>./rabbitmq/advanced.con</code>中,需重启</li> <li>动态: 通过命令行参数配置</li></ul> <p><img src="http://md.yike.link/20200325213456_DGTi7v_Screenshot.jpeg" alt="Slovel1"></p> <p><img src="http://md.yike.link/20200325213510_YlOlIQ_Screenshot.jpeg" alt="Slovel2"></p> <p><img src="http://md.yike.link/20200325213526_Pq2Xa4_Screenshot.jpeg" alt="Slovel3"></p> <h3 id="_10-3-federation-slovel-和-cluster-模式的区别"><a href="#_10-3-federation-slovel-和-cluster-模式的区别" class="header-anchor">#</a> 10.3. Federation/Slovel 和 Cluster 模式的区别</h3> <table><thead><tr><th style="text-align:center;">Federation/Slovel</th> <th style="text-align:center;">cluster</th></tr></thead> <tbody><tr><td style="text-align:center;">适用于外网 ,网络一般,需要在互联网通信</td> <td style="text-align:center;">使用内网,高效,解决高并发,海量数据</td></tr> <tr><td style="text-align:center;">AP (可用性/容错性)</td> <td style="text-align:center;">CP (一致性,可用性)</td></tr></tbody></table> <p><img src="http://md.yike.link/20200325213541_N15mSj_Screenshot.jpeg" alt="区别"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">8/8/2021, 4:50:52 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.0c328148.js" defer></script><script src="/blog/assets/js/2.ef27732c.js" defer></script><script src="/blog/assets/js/29.9963f0cf.js" defer></script>
  </body>
</html>
